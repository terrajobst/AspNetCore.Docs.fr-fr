---
uid: web-forms/overview/presenting-and-managing-data/model-binding/retrieving-data
title: "Extraction et affichage des données avec modèle de liaison et les formulaires web | Documents Microsoft"
author: tfitzmac
description: "Cette série de didacticiels montre les aspects de base de l’utilisation de la liaison de modèle avec un projet Web Forms ASP.NET. Liaison de modèle permet une interaction de données plus droites-..."
ms.author: aspnetcontent
manager: wpickett
ms.date: 02/27/2014
ms.topic: article
ms.assetid: 9f24fb82-c7ac-48da-b8e2-51b3da17e365
ms.technology: dotnet-webforms
ms.prod: .net-framework
msc.legacyurl: /web-forms/overview/presenting-and-managing-data/model-binding/retrieving-data
msc.type: authoredcontent
ms.openlocfilehash: e750250285fcb0088da284588d721ac21e73820c
ms.sourcegitcommit: 9a9483aceb34591c97451997036a9120c3fe2baf
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 11/10/2017
---
<a name="retrieving-and-displaying-data-with-model-binding-and-web-forms"></a><span data-ttu-id="ee0e7-104">La récupération et affichage des données avec la liaison de modèle et les web forms</span><span class="sxs-lookup"><span data-stu-id="ee0e7-104">Retrieving and displaying data with model binding and web forms</span></span>
====================
<span data-ttu-id="ee0e7-105">par [Tom FitzMacken](https://github.com/tfitzmac)</span><span class="sxs-lookup"><span data-stu-id="ee0e7-105">by [Tom FitzMacken](https://github.com/tfitzmac)</span></span>

> <span data-ttu-id="ee0e7-106">Cette série de didacticiels montre les aspects de base de l’utilisation de la liaison de modèle avec un projet Web Forms ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="ee0e7-106">This tutorial series demonstrates basic aspects of using model binding with an ASP.NET Web Forms project.</span></span> <span data-ttu-id="ee0e7-107">Liaison de modèle permet une interaction de données plus simple que vous traitez des données des objets de source (comme ObjectDataSource ou SqlDataSource).</span><span class="sxs-lookup"><span data-stu-id="ee0e7-107">Model binding makes data interaction more straight-forward than dealing with data source objects (such as ObjectDataSource or SqlDataSource).</span></span> <span data-ttu-id="ee0e7-108">Cette série commence par la partie introductive et déplace vers des concepts plus avancés dans des didacticiels ultérieurs.</span><span class="sxs-lookup"><span data-stu-id="ee0e7-108">This series starts with introductory material and moves to more advanced concepts in later tutorials.</span></span>
> 
> <span data-ttu-id="ee0e7-109">Le modèle de liaison fonctionne avec n’importe quel technologie d’accès aux données.</span><span class="sxs-lookup"><span data-stu-id="ee0e7-109">The model binding pattern works with any data access technology.</span></span> <span data-ttu-id="ee0e7-110">Dans ce didacticiel, vous allez utiliser Entity Framework, mais vous pouvez utiliser la technologie d’accès aux données qui est plus familier pour vous.</span><span class="sxs-lookup"><span data-stu-id="ee0e7-110">In this tutorial, you will use Entity Framework, but you could use the data access technology that is most familiar to you.</span></span> <span data-ttu-id="ee0e7-111">À partir d’un contrôle serveur lié aux données, par exemple un contrôle ListView, GridView, DetailsView ou FormView, vous spécifiez les noms des méthodes à utiliser pour la sélection, la mise à jour, la suppression et la création de données.</span><span class="sxs-lookup"><span data-stu-id="ee0e7-111">From a data-bound server control, such as a GridView, ListView, DetailsView, or FormView control, you specify the names of the methods to use for selecting, updating, deleting, and creating data.</span></span> <span data-ttu-id="ee0e7-112">Dans ce didacticiel, vous spécifierez une valeur de SelectMethod.</span><span class="sxs-lookup"><span data-stu-id="ee0e7-112">In this tutorial, you will specify a value for the SelectMethod.</span></span>
> 
> <span data-ttu-id="ee0e7-113">Dans cette méthode, vous fournissez la logique de récupération des données.</span><span class="sxs-lookup"><span data-stu-id="ee0e7-113">Within that method, you provide the logic for retrieving the data.</span></span> <span data-ttu-id="ee0e7-114">Dans l’étape suivante du didacticiel, vous allez définir des valeurs pour UpdateMethod et DeleteMethod de InsertMethod.</span><span class="sxs-lookup"><span data-stu-id="ee0e7-114">In the next tutorial, you will set values for UpdateMethod, DeleteMethod and InsertMethod.</span></span>
> 
> <span data-ttu-id="ee0e7-115">Vous pouvez [télécharger](https://go.microsoft.com/fwlink/?LinkId=286116) le projet complet en c# ou VB.</span><span class="sxs-lookup"><span data-stu-id="ee0e7-115">You can [download](https://go.microsoft.com/fwlink/?LinkId=286116) the complete project in C# or VB.</span></span> <span data-ttu-id="ee0e7-116">Le code téléchargeable fonctionne avec Visual Studio 2012 ou Visual Studio 2013.</span><span class="sxs-lookup"><span data-stu-id="ee0e7-116">The downloadable code works with either Visual Studio 2012 or Visual Studio 2013.</span></span> <span data-ttu-id="ee0e7-117">Elle utilise le modèle Visual Studio 2012, qui est légèrement différent de celle du modèle de Visual Studio 2013 indiqué dans ce didacticiel.</span><span class="sxs-lookup"><span data-stu-id="ee0e7-117">It uses the Visual Studio 2012 template, which is slightly different than the Visual Studio 2013 template shown in this tutorial.</span></span>
> 
> <span data-ttu-id="ee0e7-118">Dans le didacticiel, vous exécutez l’application dans Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="ee0e7-118">In the tutorial you run the application in Visual Studio.</span></span> <span data-ttu-id="ee0e7-119">Vous pouvez également rendre l’application disponible sur Internet en la déployant sur un fournisseur d’hébergement.</span><span class="sxs-lookup"><span data-stu-id="ee0e7-119">You can also make the application available over the Internet by deploying it to a hosting provider.</span></span> <span data-ttu-id="ee0e7-120">Microsoft propose d’hébergement web gratuit pour jusqu'à 10 sites web dans un</span><span class="sxs-lookup"><span data-stu-id="ee0e7-120">Microsoft offers free web hosting for up to 10 web sites in a</span></span>  
>  <span data-ttu-id="ee0e7-121">[libérer le compte d’évaluation Azure](https://azure.microsoft.com/free/?WT.mc_id=A443DD604).</span><span class="sxs-lookup"><span data-stu-id="ee0e7-121">[free Azure trial account](https://azure.microsoft.com/free/?WT.mc_id=A443DD604).</span></span> <span data-ttu-id="ee0e7-122">Pour plus d’informations sur la façon de déployer un projet web Visual Studio pour Azure App Service Web Apps, consultez le [déploiement de Web ASP.NET à l’aide de Visual Studio](../../deployment/visual-studio-web-deployment/introduction.md) série.</span><span class="sxs-lookup"><span data-stu-id="ee0e7-122">For information about how to deploy a Visual Studio web project to Azure App Service Web Apps, see the [ASP.NET Web Deployment using Visual Studio](../../deployment/visual-studio-web-deployment/introduction.md) series.</span></span> <span data-ttu-id="ee0e7-123">Ce didacticiel montre également comment utiliser les Migrations de Entity Framework Code First pour déployer votre base de données SQL Server pour la base de données SQL Azure.</span><span class="sxs-lookup"><span data-stu-id="ee0e7-123">That tutorial also shows how to use Entity Framework Code First Migrations to deploy your SQL Server database to Azure SQL Database.</span></span>
> 
> ## <a name="software-versions-used-in-the-tutorial"></a><span data-ttu-id="ee0e7-124">Versions du logiciel utilisées dans le didacticiel</span><span class="sxs-lookup"><span data-stu-id="ee0e7-124">Software versions used in the tutorial</span></span>
> 
> 
> - <span data-ttu-id="ee0e7-125">Microsoft Visual Studio 2013 ou Microsoft Visual Studio Express 2013 pour le Web</span><span class="sxs-lookup"><span data-stu-id="ee0e7-125">Microsoft Visual Studio 2013 or Microsoft Visual Studio Express 2013 for Web</span></span>
>   
> 
> <span data-ttu-id="ee0e7-126">Ce didacticiel fonctionne également avec Visual Studio 2012, mais il y aura des différences dans le modèle de projet et d’interface utilisateur.</span><span class="sxs-lookup"><span data-stu-id="ee0e7-126">This tutorial also works with Visual Studio 2012 but there will be some differences in the user interface and project template.</span></span>


## <a name="what-youll-build"></a><span data-ttu-id="ee0e7-127">Vous allez générer</span><span class="sxs-lookup"><span data-stu-id="ee0e7-127">What you'll build</span></span>

<span data-ttu-id="ee0e7-128">Dans ce didacticiel, vous effectuerez les tâches suivantes :</span><span class="sxs-lookup"><span data-stu-id="ee0e7-128">In this tutorial, you'll:</span></span>

1. <span data-ttu-id="ee0e7-129">Générer des objets qui reflètent une université avec étudiants inscrits en cours</span><span class="sxs-lookup"><span data-stu-id="ee0e7-129">Build data objects that reflect a university with students enrolled in courses</span></span>
2. <span data-ttu-id="ee0e7-130">Générer des tables de base de données à partir des objets</span><span class="sxs-lookup"><span data-stu-id="ee0e7-130">Build database tables from the objects</span></span>
3. <span data-ttu-id="ee0e7-131">Remplir la base de données de test</span><span class="sxs-lookup"><span data-stu-id="ee0e7-131">Populate the database with test data</span></span>
4. <span data-ttu-id="ee0e7-132">Afficher des données dans un formulaire web</span><span class="sxs-lookup"><span data-stu-id="ee0e7-132">Display data in a web form</span></span>

## <a name="set-up-project"></a><span data-ttu-id="ee0e7-133">Configurer le projet</span><span class="sxs-lookup"><span data-stu-id="ee0e7-133">Set up project</span></span>

<span data-ttu-id="ee0e7-134">Dans Visual Studio 2013, créez un **Application Web ASP.NET** appelé **ContosoUniversityModelBinding**.</span><span class="sxs-lookup"><span data-stu-id="ee0e7-134">In Visual Studio 2013, create a new **ASP.NET Web Application** called **ContosoUniversityModelBinding**.</span></span>

![créer le projet](retrieving-data/_static/image2.png)

<span data-ttu-id="ee0e7-136">Sélectionnez le modèle Web Forms et laissez les autres options par défaut.</span><span class="sxs-lookup"><span data-stu-id="ee0e7-136">Select the Web Forms template, and leave the other default options.</span></span> <span data-ttu-id="ee0e7-137">Cliquez sur OK pour le projet d’installation.</span><span class="sxs-lookup"><span data-stu-id="ee0e7-137">Click OK to setup the project.</span></span>

![Sélectionner les formulaires web](retrieving-data/_static/image3.png)

<span data-ttu-id="ee0e7-139">Tout d’abord, vous allez apporter quelques modifications mineures pour personnaliser l’apparence du site.</span><span class="sxs-lookup"><span data-stu-id="ee0e7-139">First, you will make a couple of small changes to customize the appearance of the site.</span></span> <span data-ttu-id="ee0e7-140">Ouvrez le **Site.Master** de fichiers et de modifier le titre pour inclure University Contoso au lieu de mon Application ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="ee0e7-140">Open the **Site.Master** file, and change the title to include Contoso University instead of My ASP.NET Application.</span></span>

[!code-aspx[Main](retrieving-data/samples/sample1.aspx?highlight=1)]

<span data-ttu-id="ee0e7-141">Ensuite, modifiez le texte d’en-tête à partir de **nom de l’Application** à **Contoso University**.</span><span class="sxs-lookup"><span data-stu-id="ee0e7-141">Then, change the header text from **Application name** to **Contoso University**.</span></span>

[!code-aspx[Main](retrieving-data/samples/sample2.aspx?highlight=7)]

<span data-ttu-id="ee0e7-142">Également dans Site.Master, modifier les liens de navigation qui s’affichent dans l’en-tête pour refléter les pages qui s’appliquent à ce site.</span><span class="sxs-lookup"><span data-stu-id="ee0e7-142">Also in Site.Master, change the navigation links that appear in the header to reflect the pages that are relevant to this site.</span></span> <span data-ttu-id="ee0e7-143">Vous n’aurez pas soit le **sur** page ou le **Contact** page, ces liens peut être supprimée.</span><span class="sxs-lookup"><span data-stu-id="ee0e7-143">You will not need either the **About** page or the **Contact** page so those links can be removed.</span></span> <span data-ttu-id="ee0e7-144">Vous devez à la place, un lien vers une page appelée **étudiants**.</span><span class="sxs-lookup"><span data-stu-id="ee0e7-144">Instead, you will need a link to a page called **Students**.</span></span> <span data-ttu-id="ee0e7-145">Cette page n’a pas encore été créée.</span><span class="sxs-lookup"><span data-stu-id="ee0e7-145">This page has not been created yet.</span></span>

[!code-aspx[Main](retrieving-data/samples/sample3.aspx)]

<span data-ttu-id="ee0e7-146">Enregistrez et fermez Site.Master.</span><span class="sxs-lookup"><span data-stu-id="ee0e7-146">Save and close Site.Master.</span></span>

<span data-ttu-id="ee0e7-147">Maintenant, vous allez créer le formulaire web pour afficher les données de l’étudiant.</span><span class="sxs-lookup"><span data-stu-id="ee0e7-147">Now, you'll create the web form for displaying student data.</span></span> <span data-ttu-id="ee0e7-148">Avec le bouton droit de votre projet, et **ajouter** un **un nouvel élément**.</span><span class="sxs-lookup"><span data-stu-id="ee0e7-148">Right-click your project, and **Add** a **New Item**.</span></span> <span data-ttu-id="ee0e7-149">Sélectionnez le **Web Form avec Page maître** modèle et nommez-le **Students.aspx**.</span><span class="sxs-lookup"><span data-stu-id="ee0e7-149">Select the **Web Form with Master Page** template, and name it **Students.aspx**.</span></span>

![Créer une page](retrieving-data/_static/image5.png)

<span data-ttu-id="ee0e7-151">Sélectionnez **Site.Master** en tant que la page maître pour le nouveau formulaire web.</span><span class="sxs-lookup"><span data-stu-id="ee0e7-151">Select **Site.Master** as the master page for the new web form.</span></span>

## <a name="create-the-data-models-and-database"></a><span data-ttu-id="ee0e7-152">Créer la base de données et des modèles de données</span><span class="sxs-lookup"><span data-stu-id="ee0e7-152">Create the data models and database</span></span>

<span data-ttu-id="ee0e7-153">Vous allez utiliser les Migrations Code First pour créer des objets et les tables correspondantes de la base de données.</span><span class="sxs-lookup"><span data-stu-id="ee0e7-153">You will use Code First Migrations to create objects and the corresponding database tables.</span></span> <span data-ttu-id="ee0e7-154">Ces tables stocke les informations sur les étudiants et leurs cours.</span><span class="sxs-lookup"><span data-stu-id="ee0e7-154">These tables will store information about the students and their courses.</span></span>

<span data-ttu-id="ee0e7-155">Dans le dossier de modèles, ajoutez une nouvelle classe nommée **UniversityModels.cs**.</span><span class="sxs-lookup"><span data-stu-id="ee0e7-155">In the Models folder, add a new class named **UniversityModels.cs**.</span></span>

![créer la classe de modèle](retrieving-data/_static/image7.png)

<span data-ttu-id="ee0e7-157">Dans ce fichier, définissez les classes SchoolContext, étudiant, l’inscription et cours comme suit :</span><span class="sxs-lookup"><span data-stu-id="ee0e7-157">In this file, define the SchoolContext, Student, Enrollment, and Course classes as follows:</span></span>

[!code-csharp[Main](retrieving-data/samples/sample4.cs)]

<span data-ttu-id="ee0e7-158">La classe SchoolContext dérive DbContext, qui gère la connexion de base de données et les modifications des données.</span><span class="sxs-lookup"><span data-stu-id="ee0e7-158">The SchoolContext class derives from DbContext, which manages the database connection and changes in the data.</span></span>

<span data-ttu-id="ee0e7-159">Dans la classe Student, notez les attributs qui ont été appliqués à la **FirstName**, **LastName**, et **année** propriétés.</span><span class="sxs-lookup"><span data-stu-id="ee0e7-159">In the Student class, notice the attributes that have been applied to the **FirstName**, **LastName**, and **Year** properties.</span></span> <span data-ttu-id="ee0e7-160">Ces attributs seront utilisés pour la validation des données dans ce didacticiel.</span><span class="sxs-lookup"><span data-stu-id="ee0e7-160">These attributes will be used for data validation in this tutorial.</span></span> <span data-ttu-id="ee0e7-161">Pour simplifier le code pour ce projet de démonstration, que ces propriétés ont été marquées avec des attributs de validation des données.</span><span class="sxs-lookup"><span data-stu-id="ee0e7-161">To simplify the code for this demonstration project, only these properties were marked with data-validation attributes.</span></span> <span data-ttu-id="ee0e7-162">Dans un projet réel, vous devez appliquer des attributs de validation à toutes les propriétés nécessitant des données validées telles que les propriétés dans les classes d’inscription et de cours.</span><span class="sxs-lookup"><span data-stu-id="ee0e7-162">In a real project, you would apply validation attributes to all properties that need validated data, such as properties in the Enrollment and Course classes.</span></span>

<span data-ttu-id="ee0e7-163">Enregistrer UniversityModels.cs.</span><span class="sxs-lookup"><span data-stu-id="ee0e7-163">Save UniversityModels.cs.</span></span>

<span data-ttu-id="ee0e7-164">Les outils pour les Migrations Code First vous permet de configurer une base de données en fonction de ces classes.</span><span class="sxs-lookup"><span data-stu-id="ee0e7-164">You will use the tools for Code First Migrations to set up a database based on these classes.</span></span>

<span data-ttu-id="ee0e7-165">Dans **Package Manager Console**, exécutez la commande :</span><span class="sxs-lookup"><span data-stu-id="ee0e7-165">In **Package Manager Console**, run the command:</span></span>  
`enable-migrations -ContextTypeName ContosoUniversityModelBinding.Models.SchoolContext`

<span data-ttu-id="ee0e7-166">Si la commande se termine correctement, vous recevrez un message indiquant que les migrations ont été activées,</span><span class="sxs-lookup"><span data-stu-id="ee0e7-166">If the command completes successfully you will receive a message stating migrations have been enabled,</span></span>

![Activer les migrations](retrieving-data/_static/image8.png)

<span data-ttu-id="ee0e7-168">Notez qu’un nouveau fichier nommé **Configuration.cs** a été créé.</span><span class="sxs-lookup"><span data-stu-id="ee0e7-168">Notice that a new file named **Configuration.cs** has been created.</span></span> <span data-ttu-id="ee0e7-169">Dans Visual Studio, ce fichier est ouvert automatiquement après sa création.</span><span class="sxs-lookup"><span data-stu-id="ee0e7-169">In Visual Studio, this file is automatically opened after it is created.</span></span> <span data-ttu-id="ee0e7-170">La classe de Configuration contient un **Seed** méthode qui vous permet de préremplir les tables de la base de données de test.</span><span class="sxs-lookup"><span data-stu-id="ee0e7-170">The Configuration class contains a **Seed** method which enables you to pre-populate the database tables with test data.</span></span>

<span data-ttu-id="ee0e7-171">Ajoutez le code suivant à la méthode de valeur initiale.</span><span class="sxs-lookup"><span data-stu-id="ee0e7-171">Add the following code to the Seed method.</span></span> <span data-ttu-id="ee0e7-172">Vous devez ajouter un **à l’aide de** instruction pour le **ContosoUniversityModelBinding.Models** espace de noms.</span><span class="sxs-lookup"><span data-stu-id="ee0e7-172">You'll need to add a **using** statement for the **ContosoUniversityModelBinding.Models** namespace.</span></span>

[!code-csharp[Main](retrieving-data/samples/sample5.cs)]

<span data-ttu-id="ee0e7-173">Enregistrer Configuration.cs.</span><span class="sxs-lookup"><span data-stu-id="ee0e7-173">Save Configuration.cs.</span></span>

<span data-ttu-id="ee0e7-174">Dans la Console du Gestionnaire de Package, exécutez la commande `add-migration initial`.</span><span class="sxs-lookup"><span data-stu-id="ee0e7-174">In the Package Manager Console, run the command `add-migration initial`.</span></span>

<span data-ttu-id="ee0e7-175">Ensuite, exécutez la commande `update-database`.</span><span class="sxs-lookup"><span data-stu-id="ee0e7-175">Then, run the command `update-database`.</span></span>

<span data-ttu-id="ee0e7-176">Si vous recevez une exception lors de l’exécution de cette commande, il est possible que les valeurs de StudentID et CourseID aient variées à partir des valeurs dans la méthode de valeur initiale.</span><span class="sxs-lookup"><span data-stu-id="ee0e7-176">If you receive an exception when running this command, it is possible that the values for StudentID and CourseID have varied from the values in the Seed method.</span></span> <span data-ttu-id="ee0e7-177">Ouvrez ces tables dans la base de données et de trouver les valeurs existantes pour StudentID et CourseID.</span><span class="sxs-lookup"><span data-stu-id="ee0e7-177">Open those tables in the database and find existing values for StudentID and CourseID.</span></span> <span data-ttu-id="ee0e7-178">Ajouter ces valeurs dans le code pour l’amorçage de la table d’inscriptions.</span><span class="sxs-lookup"><span data-stu-id="ee0e7-178">Add those values in the code for seeding the Enrollments table.</span></span>

<span data-ttu-id="ee0e7-179">Le fichier de base de données a été ajouté, mais il est actuellement masqué dans le projet.</span><span class="sxs-lookup"><span data-stu-id="ee0e7-179">The database file has been added, but it is currently hidden in the project.</span></span> <span data-ttu-id="ee0e7-180">Cliquez sur **afficher tous les fichiers** pour afficher le fichier.</span><span class="sxs-lookup"><span data-stu-id="ee0e7-180">Click **Show All Files** to display the file.</span></span>

![Afficher tous les fichiers](retrieving-data/_static/image10.png)

<span data-ttu-id="ee0e7-182">Observez le fichier .mdf apparaît maintenant dans l’application\_dossier de données.</span><span class="sxs-lookup"><span data-stu-id="ee0e7-182">Notice the .mdf file now appears in the App\_Data folder.</span></span>

![fichier de base de données](retrieving-data/_static/image12.png)

<span data-ttu-id="ee0e7-184">Double-cliquez sur le fichier .mdf et ouvrez l’Explorateur de serveurs.</span><span class="sxs-lookup"><span data-stu-id="ee0e7-184">Double-click the .mdf file and open the Server Explorer.</span></span> <span data-ttu-id="ee0e7-185">Désormais, les tables existent et sont remplis avec des données.</span><span class="sxs-lookup"><span data-stu-id="ee0e7-185">The tables now exist and are populated with data.</span></span>

![tables de base de données](retrieving-data/_static/image14.png)

## <a name="display-data-from-students-and-related-tables"></a><span data-ttu-id="ee0e7-187">Afficher les données d’étudiants et les tables associées</span><span class="sxs-lookup"><span data-stu-id="ee0e7-187">Display data from Students and related tables</span></span>

<span data-ttu-id="ee0e7-188">Avec des données dans la base de données, vous êtes maintenant prêt à récupérer ces données et les afficher dans une page web.</span><span class="sxs-lookup"><span data-stu-id="ee0e7-188">With data in the database, you are now ready to retrieve that data and display it in a web page.</span></span> <span data-ttu-id="ee0e7-189">Vous allez utiliser un **GridView** contrôle pour afficher les données dans des colonnes et des lignes.</span><span class="sxs-lookup"><span data-stu-id="ee0e7-189">You will use a **GridView** control to display the data in columns and rows.</span></span>

<span data-ttu-id="ee0e7-190">Ouvrez Students.aspx et recherchez le **MainContent** espace réservé.</span><span class="sxs-lookup"><span data-stu-id="ee0e7-190">Open Students.aspx, and locate the **MainContent** placeholder.</span></span> <span data-ttu-id="ee0e7-191">Dans cet espace réservé, ajoutez un **GridView** contrôle qui inclut le code suivant.</span><span class="sxs-lookup"><span data-stu-id="ee0e7-191">Within that placeholder, add a **GridView** control that includes the following code.</span></span>

[!code-aspx[Main](retrieving-data/samples/sample6.aspx)]

<span data-ttu-id="ee0e7-192">Il existe quelques concepts importants dans ce code de balisage vous remarquer.</span><span class="sxs-lookup"><span data-stu-id="ee0e7-192">There are a couple of important concepts in this markup code for you to notice.</span></span> <span data-ttu-id="ee0e7-193">Tout d’abord, notez qu’une valeur est définie pour le **SelectMethod** propriété dans l’élément GridView.</span><span class="sxs-lookup"><span data-stu-id="ee0e7-193">First, notice that a value is set for the **SelectMethod** property in the GridView element.</span></span> <span data-ttu-id="ee0e7-194">Cette valeur spécifie le nom de la méthode qui est utilisée pour récupérer des données pour le contrôle GridView.</span><span class="sxs-lookup"><span data-stu-id="ee0e7-194">This value specifies the name of the method that is used for retrieving data for the GridView.</span></span> <span data-ttu-id="ee0e7-195">Vous allez créer cette méthode à l’étape suivante.</span><span class="sxs-lookup"><span data-stu-id="ee0e7-195">You will create this method in the next step.</span></span> <span data-ttu-id="ee0e7-196">En second lieu, notez que le **ItemType** est définie sur la classe Student que vous avez créé précédemment.</span><span class="sxs-lookup"><span data-stu-id="ee0e7-196">Second, notice that the **ItemType** property is set to the Student class that you created earlier.</span></span> <span data-ttu-id="ee0e7-197">En définissant cette valeur, vous pouvez faire référence aux propriétés de cette classe dans le code de balisage.</span><span class="sxs-lookup"><span data-stu-id="ee0e7-197">By setting this value, you can refer to properties of that class in the markup code.</span></span> <span data-ttu-id="ee0e7-198">Par exemple, la classe Student contient une collection nommée d’inscriptions.</span><span class="sxs-lookup"><span data-stu-id="ee0e7-198">For example, the Student class contains a collection named Enrollments.</span></span> <span data-ttu-id="ee0e7-199">Vous pouvez utiliser **Item.Enrollments** pour récupérer cette collection, puis utiliser la syntaxe LINQ pour récupérer la somme des crédits inscrits pour chaque étudiant.</span><span class="sxs-lookup"><span data-stu-id="ee0e7-199">You can use **Item.Enrollments** to retrieve that collection and then use LINQ syntax to retrieve the sum of enrolled credits for each student.</span></span>

<span data-ttu-id="ee0e7-200">Dans le fichier code-behind, vous devez ajouter la méthode qui est spécifiée pour le **SelectMethod** valeur.</span><span class="sxs-lookup"><span data-stu-id="ee0e7-200">In the code-behind file, you need to add the method that is specified for the **SelectMethod** value.</span></span> <span data-ttu-id="ee0e7-201">Ouvrez **Students.aspx.cs**et ajoutez **à l’aide de** instructions pour le **ContosoUniversityModelBinding.Models** et **System.Data.Entity**espaces de noms.</span><span class="sxs-lookup"><span data-stu-id="ee0e7-201">Open **Students.aspx.cs**, and add **using** statements for the **ContosoUniversityModelBinding.Models** and **System.Data.Entity** namespaces.</span></span>

[!code-csharp[Main](retrieving-data/samples/sample7.cs)]

<span data-ttu-id="ee0e7-202">Ensuite, ajoutez la méthode suivante.</span><span class="sxs-lookup"><span data-stu-id="ee0e7-202">Then, add the following method.</span></span> <span data-ttu-id="ee0e7-203">Notez que le nom de cette méthode correspond au nom que vous avez fourni pour SelectMethod.</span><span class="sxs-lookup"><span data-stu-id="ee0e7-203">Notice that the name of this method matches the name you provided for SelectMethod.</span></span>

[!code-csharp[Main](retrieving-data/samples/sample8.cs)]

<span data-ttu-id="ee0e7-204">Le **Include** clause améliore les performances de cette requête, mais n’est pas essentiel pour la requête fonctionne.</span><span class="sxs-lookup"><span data-stu-id="ee0e7-204">The **Include** clause improves the performance of this query but is not essential for the query to work.</span></span> <span data-ttu-id="ee0e7-205">Sans la clause Include, les données sont récupérées à l’aide d’un chargement différé, ce qui implique l’envoi de qu'une requête distincte pour la base de données liées de chaque fois que les données sont récupérées.</span><span class="sxs-lookup"><span data-stu-id="ee0e7-205">Without the Include clause, the data would be retrieved using lazy loading, which involves sending a separate query to the database each time related data is retrieved.</span></span> <span data-ttu-id="ee0e7-206">En fournissant la clause Include, les données sont récupérées à l’aide d’un chargement hâtif, ce qui signifie que toutes les données associées sont récupérées via une requête unique de la base de données.</span><span class="sxs-lookup"><span data-stu-id="ee0e7-206">By providing the Include clause, the data is retrieved using eager loading, which means all of the related data is retrieved through a single query of the database.</span></span> <span data-ttu-id="ee0e7-207">Dans le cas où la plupart des données connexes n’est pas utilisé, hâtif chargement peut être moins efficace, car davantage de données est récupérée.</span><span class="sxs-lookup"><span data-stu-id="ee0e7-207">In cases where most of the related data is not be used, eager loading can be less efficient because more data is retrieved.</span></span> <span data-ttu-id="ee0e7-208">Toutefois, dans ce cas, un chargement hâtif fournit les meilleures performances car les données associées sont affichées pour chaque enregistrement.</span><span class="sxs-lookup"><span data-stu-id="ee0e7-208">However, in this case, eager loading provides the best performance because the related data is displayed for each record.</span></span>

<span data-ttu-id="ee0e7-209">Pour plus d’informations sur la considération de performance lors du chargement des données associées, consultez la section intitulée **Lazy Eager et explicite du chargement des données associées** dans les [lors de la lecture des données associées avec Entity Framework dans une page ASP Application de MVC .NET](../../../../mvc/overview/getting-started/getting-started-with-ef-using-mvc/reading-related-data-with-the-entity-framework-in-an-asp-net-mvc-application.md) rubrique.</span><span class="sxs-lookup"><span data-stu-id="ee0e7-209">For more information about performance consideration when loading related data, see the section titled **Lazy, Eager, and Explicit Loading of Related Data** in the [Reading Related Data with the Entity Framework in an ASP.NET MVC Application](../../../../mvc/overview/getting-started/getting-started-with-ef-using-mvc/reading-related-data-with-the-entity-framework-in-an-asp-net-mvc-application.md) topic.</span></span>

<span data-ttu-id="ee0e7-210">Par défaut, les données sont triées en fonction des valeurs de la propriété marquée comme clé.</span><span class="sxs-lookup"><span data-stu-id="ee0e7-210">By default, the data is sorted by the values of the property marked as the key.</span></span> <span data-ttu-id="ee0e7-211">Vous pouvez ajouter une clause OrderBy pour spécifier une valeur différente pour le tri.</span><span class="sxs-lookup"><span data-stu-id="ee0e7-211">You can add an OrderBy clause to specify a different value for sorting.</span></span> <span data-ttu-id="ee0e7-212">Dans cet exemple, la propriété StudentID par défaut est utilisée pour le tri.</span><span class="sxs-lookup"><span data-stu-id="ee0e7-212">In this example, the default StudentID property is used for sorting.</span></span> <span data-ttu-id="ee0e7-213">Dans le [tri, la pagination et filtrage des données](sorting-paging-and-filtering-data.md) rubrique, vous allez activer l’utilisateur de sélectionner une colonne de tri.</span><span class="sxs-lookup"><span data-stu-id="ee0e7-213">In the [Sorting, Paging, and Filtering Data](sorting-paging-and-filtering-data.md) topic, you will enable the user to select a column for sorting.</span></span>

<span data-ttu-id="ee0e7-214">Exécuter votre application web et accédez à la page d’étudiants.</span><span class="sxs-lookup"><span data-stu-id="ee0e7-214">Run your web application, and navigate to the Students page.</span></span> <span data-ttu-id="ee0e7-215">La page d’étudiants affiche les informations suivantes.</span><span class="sxs-lookup"><span data-stu-id="ee0e7-215">The Students page displays the following student information.</span></span>

![Afficher les données](retrieving-data/_static/image16.png)

## <a name="automatic-generation-of-model-binding-methods"></a><span data-ttu-id="ee0e7-217">Génération automatique de méthodes de liaison de modèle</span><span class="sxs-lookup"><span data-stu-id="ee0e7-217">Automatic generation of model binding methods</span></span>

<span data-ttu-id="ee0e7-218">Lorsque vous parcourez cette série de didacticiels, vous pouvez simplement copier le code à partir du didacticiel à votre projet.</span><span class="sxs-lookup"><span data-stu-id="ee0e7-218">When working through this tutorial series, you can simply copy the code from the tutorial to your project.</span></span> <span data-ttu-id="ee0e7-219">Toutefois, l’un des inconvénients de cette approche sont que vous ne pouvez pas avoir connaissance de la fonctionnalité fournie par Visual Studio pour générer automatiquement le code pour les méthodes de liaison de modèle.</span><span class="sxs-lookup"><span data-stu-id="ee0e7-219">However, one disadvantage of this approach is that you may not become aware of the feature provided by Visual Studio to automatically generate code for model binding methods.</span></span> <span data-ttu-id="ee0e7-220">Lorsque vous travaillez sur vos propres projets, génération de code automatique peut vous gagner du temps et vous découvrez comment implémenter une opération.</span><span class="sxs-lookup"><span data-stu-id="ee0e7-220">When working on your own projects, automatic code generation can save you time and help you gain a sense of how to implement an operation.</span></span> <span data-ttu-id="ee0e7-221">Cette section décrit la fonctionnalité de génération de code automatique.</span><span class="sxs-lookup"><span data-stu-id="ee0e7-221">This section describes the automatic code generation feature.</span></span> <span data-ttu-id="ee0e7-222">Cette section est uniquement informatif et ne contient-elle pas de code, que vous devez implémenter dans votre projet.</span><span class="sxs-lookup"><span data-stu-id="ee0e7-222">This section is only informational and does not contain any code you need to implement in your project.</span></span>

<span data-ttu-id="ee0e7-223">Lorsque vous définissez une valeur pour le **SelectMethod**, **UpdateMethod**, **InsertMethod**, ou **DeleteMethod** propriétés dans le code de balisage, Vous pouvez sélectionner le **créer une nouvelle méthode** option.</span><span class="sxs-lookup"><span data-stu-id="ee0e7-223">When setting a value for the **SelectMethod**, **UpdateMethod**, **InsertMethod**, or **DeleteMethod** properties in the markup code, you can select the **Create New Method** option.</span></span>

![créer la nouvelle méthode](retrieving-data/_static/image18.png)

<span data-ttu-id="ee0e7-225">Visual Studio crée une méthode dans le code-behind avec la signature correcte mais génère également du code d’implémentation pour vous aider à effectuer l’opération.</span><span class="sxs-lookup"><span data-stu-id="ee0e7-225">Visual Studio not only creates a method in the code-behind with the proper signature, but also generates implementation code to assist you with performing the operation.</span></span> <span data-ttu-id="ee0e7-226">Si vous définissez tout d’abord le **ItemType** propriété avant d’utiliser la fonctionnalité de génération automatique de code, le code généré utilisera ce type pour les opérations.</span><span class="sxs-lookup"><span data-stu-id="ee0e7-226">If you first set the **ItemType** property before using the automatic code generation feature, the generated code will use that type for the operations.</span></span> <span data-ttu-id="ee0e7-227">Par exemple, lorsque vous définissez la propriété UpdateMethod, le code suivant est automatiquement généré :</span><span class="sxs-lookup"><span data-stu-id="ee0e7-227">For example, when setting the UpdateMethod property, the following code is automatically generated:</span></span>

[!code-csharp[Main](retrieving-data/samples/sample9.cs)]

<span data-ttu-id="ee0e7-228">Là encore, le code ci-dessus n’a pas besoin être ajouté à votre projet.</span><span class="sxs-lookup"><span data-stu-id="ee0e7-228">Again, the above code does not need to be added to your project.</span></span> <span data-ttu-id="ee0e7-229">Dans l’étape suivante du didacticiel, vous allez implémenter des méthodes pour la mise à jour, suppression et l’ajout de nouvelles données.</span><span class="sxs-lookup"><span data-stu-id="ee0e7-229">In the next tutorial, you will implement methods for updating, deleting and adding new data.</span></span>

## <a name="conclusion"></a><span data-ttu-id="ee0e7-230">Conclusion</span><span class="sxs-lookup"><span data-stu-id="ee0e7-230">Conclusion</span></span>

<span data-ttu-id="ee0e7-231">Dans ce didacticiel, vous créé des classes de modèle de données et généré une base de données à partir de ces classes.</span><span class="sxs-lookup"><span data-stu-id="ee0e7-231">In this tutorial, you created data model classes and generated a database from those classes.</span></span> <span data-ttu-id="ee0e7-232">Vous avez rempli les tables de base de données avec des données de test.</span><span class="sxs-lookup"><span data-stu-id="ee0e7-232">You filled the database tables with test data.</span></span> <span data-ttu-id="ee0e7-233">Votre liaison de modèle permet de récupérer des données à partir de la base de données, puis affiche les données dans un contrôle GridView.</span><span class="sxs-lookup"><span data-stu-id="ee0e7-233">You used model binding to retrieve data from the database, and then displayed the data in a GridView.</span></span>

<span data-ttu-id="ee0e7-234">Dans la prochaine [didacticiel](updating-deleting-and-creating-data.md) dans cette série, vous allez activer la mise à jour, la suppression et la création de données.</span><span class="sxs-lookup"><span data-stu-id="ee0e7-234">In the next [tutorial](updating-deleting-and-creating-data.md) in this series, you will enable updating, deleting, and creating data.</span></span>

>[!div class="step-by-step"]
[<span data-ttu-id="ee0e7-235">Next</span><span class="sxs-lookup"><span data-stu-id="ee0e7-235">Next</span></span>](updating-deleting-and-creating-data.md)
