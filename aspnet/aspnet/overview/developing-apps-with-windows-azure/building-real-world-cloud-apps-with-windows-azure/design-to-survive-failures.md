---
uid: aspnet/overview/developing-apps-with-windows-azure/building-real-world-cloud-apps-with-windows-azure/design-to-survive-failures
title: "Conception pour faire face aux défaillances (génération d’applications Cloud du monde réel avec Azure) | Documents Microsoft"
author: MikeWasson
description: "Les applications du Cloud monde réel construction avec Azure livres est basée sur une présentation développée par Scott Guthrie. Il explique 13 des modèles et des meilleures pratiques qui peuvent il..."
ms.author: aspnetcontent
manager: wpickett
ms.date: 06/12/2014
ms.topic: article
ms.assetid: 364ce84e-5af8-4e08-afc9-75a512b01f84
ms.technology: 
ms.prod: .net-framework
msc.legacyurl: /aspnet/overview/developing-apps-with-windows-azure/building-real-world-cloud-apps-with-windows-azure/design-to-survive-failures
msc.type: authoredcontent
ms.openlocfilehash: a0ee790da07c99cdb1279a6bca637a4ce8076e84
ms.sourcegitcommit: 9a9483aceb34591c97451997036a9120c3fe2baf
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 11/10/2017
---
<a name="design-to-survive-failures-building-real-world-cloud-apps-with-azure"></a><span data-ttu-id="33f73-104">Concevoir pour faire face aux défaillances (génération d’applications Cloud du monde réel avec Azure)</span><span class="sxs-lookup"><span data-stu-id="33f73-104">Design to Survive Failures (Building Real-World Cloud Apps with Azure)</span></span>
====================
<span data-ttu-id="33f73-105">par [Mike Wasson](https://github.com/MikeWasson), [Rick Anderson](https://github.com/Rick-Anderson), [Tom Dykstra](https://github.com/tdykstra)</span><span class="sxs-lookup"><span data-stu-id="33f73-105">by [Mike Wasson](https://github.com/MikeWasson), [Rick Anderson](https://github.com/Rick-Anderson), [Tom Dykstra](https://github.com/tdykstra)</span></span>

<span data-ttu-id="33f73-106">[Téléchargement corriger projet](http://code.msdn.microsoft.com/Fix-It-app-for-Building-cdd80df4) ou [télécharger des livres](http://blogs.msdn.com/b/microsoft_press/archive/2014/07/23/free-ebook-building-cloud-apps-with-microsoft-azure.aspx)</span><span class="sxs-lookup"><span data-stu-id="33f73-106">[Download Fix It Project](http://code.msdn.microsoft.com/Fix-It-app-for-Building-cdd80df4) or [Download E-book](http://blogs.msdn.com/b/microsoft_press/archive/2014/07/23/free-ebook-building-cloud-apps-with-microsoft-azure.aspx)</span></span>

> <span data-ttu-id="33f73-107">Le **construction réelle applications Cloud du monde avec Azure** livres est basé sur une présentation développée par Scott Guthrie.</span><span class="sxs-lookup"><span data-stu-id="33f73-107">The **Building Real World Cloud Apps with Azure** e-book is based on a presentation developed by Scott Guthrie.</span></span> <span data-ttu-id="33f73-108">Il explique 13 modèles et pratiques qui peuvent vous aider à réussir le développement d’applications web pour le cloud.</span><span class="sxs-lookup"><span data-stu-id="33f73-108">It explains 13 patterns and practices that can help you be successful developing web apps for the cloud.</span></span> <span data-ttu-id="33f73-109">Pour plus d’informations sur le livre électronique, consultez [le premier chapitre](introduction.md).</span><span class="sxs-lookup"><span data-stu-id="33f73-109">For information about the e-book, see [the first chapter](introduction.md).</span></span>


<span data-ttu-id="33f73-110">Une des choses que vous devez tenir compte lorsque vous générez n’importe quel type d’application, mais en particulier si celle-ci s’exécute dans le cloud, où un grand nombre de personnes utiliseront, est la conception de l’application afin qu’il peut normalement gérer les erreurs et continuer à fournir la valeur de mesure possible.</span><span class="sxs-lookup"><span data-stu-id="33f73-110">One of the things you have to think about when you build any type of application, but especially one that will run in the cloud where lots of people will be using it, is how to design the app so that it can gracefully handle failures and continue to deliver value as much as possible.</span></span> <span data-ttu-id="33f73-111">Avec le temps, choses vont se produire dans n’importe quel environnement ou n’importe quel système logiciel.</span><span class="sxs-lookup"><span data-stu-id="33f73-111">Given enough time, things are going to go wrong in any environment or any software system.</span></span> <span data-ttu-id="33f73-112">Comment votre application gère les situations détermine comment énervé vos clients obtiendront et combien de temps passé à analyser et résoudre les problèmes.</span><span class="sxs-lookup"><span data-stu-id="33f73-112">How your app handles those situations determines how upset your customers will get and how much time you have to spend analyzing and fixing problems.</span></span>

## <a name="types-of-failures"></a><span data-ttu-id="33f73-113">Types d’échecs</span><span class="sxs-lookup"><span data-stu-id="33f73-113">Types of failures</span></span>

<span data-ttu-id="33f73-114">Il existe deux catégories principales d’échecs que vous souhaitez gérer différemment :</span><span class="sxs-lookup"><span data-stu-id="33f73-114">There are two basic categories of failures that you'll want to handle differently:</span></span>

- <span data-ttu-id="33f73-115">Temporaire, la réparation automatique des erreurs telles que des problèmes de connectivité réseau intermittents.</span><span class="sxs-lookup"><span data-stu-id="33f73-115">Transient, self-healing failures such as intermittent network connectivity issues.</span></span>
- <span data-ttu-id="33f73-116">Échecs durable qui nécessitent une intervention.</span><span class="sxs-lookup"><span data-stu-id="33f73-116">Enduring failures that require intervention.</span></span>

<span data-ttu-id="33f73-117">Pour les erreurs temporaires, vous pouvez implémenter une stratégie de nouvelle tentative pour vous assurer que la plupart du temps, l’application récupère rapidement et automatiquement.</span><span class="sxs-lookup"><span data-stu-id="33f73-117">For transient failures, you can implement a retry policy to ensure that most of the time the app recovers quickly and automatically.</span></span> <span data-ttu-id="33f73-118">Vos clients peuvent remarquer des temps de réponse légèrement plus long, mais dans le cas contraire ils ne seront pas affectées.</span><span class="sxs-lookup"><span data-stu-id="33f73-118">Your customers might notice slightly longer response time, but otherwise they won't be affected.</span></span> <span data-ttu-id="33f73-119">Nous allons montrer quelques méthodes permettant de gérer ces erreurs dans le [chapitre de gestion temporaire des erreurs de](transient-fault-handling.md).</span><span class="sxs-lookup"><span data-stu-id="33f73-119">We'll show some ways to handle these errors in the [Transient Fault Handling chapter](transient-fault-handling.md).</span></span>

<span data-ttu-id="33f73-120">Pour vivants échecs, vous pouvez implémenter la surveillance et la journalisation des fonctionnalités qui vous avertit rapidement lorsque des problèmes surviennent et qui facilite l’analyse des causes.</span><span class="sxs-lookup"><span data-stu-id="33f73-120">For enduring failures, you can implement monitoring and logging functionality that notifies you promptly when issues arise and that facilitates root cause analysis.</span></span> <span data-ttu-id="33f73-121">Nous allons montrer quelques méthodes pour vous aider à tenir au courant de ces types d’erreurs dans le [chapitre surveillance et télémétrie](monitoring-and-telemetry.md).</span><span class="sxs-lookup"><span data-stu-id="33f73-121">We'll show some ways to help you stay on top of these kinds of errors in the [Monitoring and Telemetry chapter](monitoring-and-telemetry.md).</span></span>

## <a name="failure-scope"></a><span data-ttu-id="33f73-122">Étendue de l’échec</span><span class="sxs-lookup"><span data-stu-id="33f73-122">Failure scope</span></span>

<span data-ttu-id="33f73-123">Vous devez également réfléchir à portée de la défaillance : si un seul ordinateur est affecté, un service entier, telles que la base de données SQL ou de stockage ou d’une région entière.</span><span class="sxs-lookup"><span data-stu-id="33f73-123">You also have to think about failure scope – whether a single machine is affected, a whole service such as SQL Database or Storage, or an entire region.</span></span>

![Étendue de l’échec](design-to-survive-failures/_static/image1.png)

### <a name="machine-failures"></a><span data-ttu-id="33f73-125">Échecs d’ordinateur</span><span class="sxs-lookup"><span data-stu-id="33f73-125">Machine failures</span></span>

<span data-ttu-id="33f73-126">Dans Azure, un serveur défaillant est automatiquement remplacé par un autre, et une application bien conçue cloud récupère à partir de ce type d’échec rapidement et automatiquement.</span><span class="sxs-lookup"><span data-stu-id="33f73-126">In Azure, a failed server is automatically replaced by a new one, and a well-designed cloud app recovers from this kind of failure automatically and quickly.</span></span> <span data-ttu-id="33f73-127">Précédemment, nous souligner les avantages de l’évolutivité d’un niveau web sans état et la facilité de récupération à partir d’un serveur défaillant est un autre avantage de l’abandon de l’état.</span><span class="sxs-lookup"><span data-stu-id="33f73-127">Earlier we stressed the scalability benefits of a stateless web tier, and ease of recovery from a failed server is another benefit of statelessness.</span></span> <span data-ttu-id="33f73-128">Facilité de récupération est également un des avantages des fonctionnalités de (PaaS) platform-as-a-service telles que la base de données SQL et Azure App Service Web Apps.</span><span class="sxs-lookup"><span data-stu-id="33f73-128">Ease of recovery is also one of the benefits of platform-as-a-service (PaaS) features such as SQL Database and Azure App Service Web Apps.</span></span> <span data-ttu-id="33f73-129">Les pannes de matériel sont rares, mais quand elles se produisent que ces services de les gérer automatiquement ; Vous ne devez même écrire du code pour gérer les échecs de l’ordinateur lorsque vous utilisez l’un de ces services.</span><span class="sxs-lookup"><span data-stu-id="33f73-129">Hardware failures are rare, but when they occur these services handle them automatically; you don't even have to write code to handle machine failures when you're using one of these services.</span></span>

### <a name="service-failures"></a><span data-ttu-id="33f73-130">Échecs du service</span><span class="sxs-lookup"><span data-stu-id="33f73-130">Service failures</span></span>

<span data-ttu-id="33f73-131">Applications cloud utilisent généralement plusieurs services.</span><span class="sxs-lookup"><span data-stu-id="33f73-131">Cloud apps typically use multiple services.</span></span> <span data-ttu-id="33f73-132">Par exemple, l’application Fix It utilise le service de base de données SQL, le service de stockage, et l’application web est déployée vers Azure App Service.</span><span class="sxs-lookup"><span data-stu-id="33f73-132">For example, the Fix It app uses the SQL Database service, the Storage service, and the web app is deployed to Azure App Service.</span></span> <span data-ttu-id="33f73-133">Que votre application faire si un des services que vous dépendez échoue ?</span><span class="sxs-lookup"><span data-stu-id="33f73-133">What will your app do if one of the services you depend on fails?</span></span> <span data-ttu-id="33f73-134">Pour certains service échecs un nom convivial de la « Désolé, réessayez plus tard » message risque d’être la meilleure solution pour vous.</span><span class="sxs-lookup"><span data-stu-id="33f73-134">For some service failures a friendly "sorry, try again later" message might be the best you can do.</span></span> <span data-ttu-id="33f73-135">Toutefois, dans de nombreux scénarios vous pouvez mieux.</span><span class="sxs-lookup"><span data-stu-id="33f73-135">But in many scenarios you can do better.</span></span> <span data-ttu-id="33f73-136">Par exemple, lorsque votre banque de données du serveur principal est arrêté, vous pouvez accepter l’entrée d’utilisateur, afficher « votre demande a été reçue » et stocker l’entrée quelque part autre temporairement ; Ensuite, lorsque le service que vous avez besoin est opérationnel, vous pouvez récupérer l’entrée et le traiter.</span><span class="sxs-lookup"><span data-stu-id="33f73-136">For example, when your back-end data store is down, you can accept user input, display "your request has been received," and store the input someplace else temporarily; then when the service you need is operational again, you can retrieve the input and process it.</span></span>

<span data-ttu-id="33f73-137">Le [modèle centré sur la file d’attente de travail](queue-centric-work-pattern.md) chapitre montre une façon de gérer ce scénario.</span><span class="sxs-lookup"><span data-stu-id="33f73-137">The [Queue-centric Work Pattern](queue-centric-work-pattern.md) chapter shows one way to handle this scenario.</span></span> <span data-ttu-id="33f73-138">L’application corriger stocke les tâches dans la base de données SQL, mais il ne doit pas nécessairement de fermeture lors de la base de données SQL est arrêté.</span><span class="sxs-lookup"><span data-stu-id="33f73-138">The Fix It app stores tasks in SQL Database, but it doesn't have to quit working when SQL Database is down.</span></span> <span data-ttu-id="33f73-139">Dans ce chapitre, nous verrons comment stocker des entrées d’utilisateur pour une tâche dans une file d’attente et un processus de travail permet de lire la file d’attente et mettre à jour de la tâche.</span><span class="sxs-lookup"><span data-stu-id="33f73-139">In that chapter we'll see how to store user input for a task in a queue, and use a worker process to read the queue and update the task.</span></span> <span data-ttu-id="33f73-140">Si SQL est arrêté, la possibilité de créer des tâches de réparation est pas affectée ; le processus de travail peut attendre et traiter les nouvelles tâches lors de la base de données SQL est disponible.</span><span class="sxs-lookup"><span data-stu-id="33f73-140">If SQL is down, the ability to create Fix It tasks is unaffected; the worker process can wait and process new tasks when SQL Database is available.</span></span>

### <a name="region-failures"></a><span data-ttu-id="33f73-141">Échecs de la région</span><span class="sxs-lookup"><span data-stu-id="33f73-141">Region failures</span></span>

<span data-ttu-id="33f73-142">Régions entières peuvent échouer.</span><span class="sxs-lookup"><span data-stu-id="33f73-142">Entire regions may fail.</span></span> <span data-ttu-id="33f73-143">Une catastrophe naturelle peut détruire un centre de données, il peut obtenir aplatie en un meteor, la ligne de jonction dans le centre de données pourrait être tronquée par un exploitant par une vache avec rétro, etc. Que faire si votre application est hébergée dans le centre de données appliquer ?</span><span class="sxs-lookup"><span data-stu-id="33f73-143">A natural disaster might destroy a data center, it might get flattened by a meteor, the trunk line into the datacenter could be cut by a farmer burying a cow with a backhoe, etc. If your app is hosted in the stricken datacenter what do you do?</span></span> <span data-ttu-id="33f73-144">Il est possible de configurer votre application dans Azure pour s’exécuter simultanément dans plusieurs régions afin que s’il existe un reprise après sinistre dans un, vous continuez en cours d’exécution dans une autre région.</span><span class="sxs-lookup"><span data-stu-id="33f73-144">It's possible to set up your app in Azure to run in multiple regions simultaneously so that if there's a disaster in one, you continue running in another region.</span></span> <span data-ttu-id="33f73-145">Ces échecs sont extrêmement rares occurrences et ne quittez pas la plupart des applications via radiaux nécessaire pour éviter toute interruption du service via les échecs de ce type.</span><span class="sxs-lookup"><span data-stu-id="33f73-145">Such failures are extremely rare occurrences, and most apps don't jump through the hoops necessary to ensure uninterrupted service through failures of this sort.</span></span> <span data-ttu-id="33f73-146">Consultez la section de ressources à la fin de ce chapitre pour plus d’informations sur la façon de conserver votre application disponible même par le biais d’un échec de la région.</span><span class="sxs-lookup"><span data-stu-id="33f73-146">See the Resources section at the end of the chapter for information about how to keep your app available even through a region failure.</span></span>

<span data-ttu-id="33f73-147">Un Azure vise à faciliter le traitement des tous ces types d’échecs beaucoup plus faciles, et vous verrez quelques exemples de la façon dont nous faisons que dans les chapitres suivants.</span><span class="sxs-lookup"><span data-stu-id="33f73-147">A goal of Azure is to make handling all of these kinds of failures a lot easier, and you'll see some examples of how we're doing that in the following chapters.</span></span>

## <a name="slas"></a><span data-ttu-id="33f73-148">Contrats SLA</span><span class="sxs-lookup"><span data-stu-id="33f73-148">SLAs</span></span>

<span data-ttu-id="33f73-149">Personnes Découvrez souvent des contrats de niveau de service (SLA) dans l’environnement du cloud.</span><span class="sxs-lookup"><span data-stu-id="33f73-149">People often hear about service-level agreements (SLAs) in the cloud environment.</span></span> <span data-ttu-id="33f73-150">En fait, il s’agit promesses qui rendent des entreprises sur la fiabilité de leur service.</span><span class="sxs-lookup"><span data-stu-id="33f73-150">Basically these are promises that companies make about how reliable their service is.</span></span> <span data-ttu-id="33f73-151">Un 99,9 % SLA signifie que vous devez attendre que le service fonctionne correctement 99,9 % du temps.</span><span class="sxs-lookup"><span data-stu-id="33f73-151">A 99.9% SLA means you should expect the service to be working correctly 99.9% of the time.</span></span> <span data-ttu-id="33f73-152">Une valeur typique pour un contrat SLA et il ressemble à un nombre très élevé, mais vous ne réalisez pas combien de temps bas. 1 % correspond réellement.</span><span class="sxs-lookup"><span data-stu-id="33f73-152">That's a fairly typical value for an SLA and it sounds like a very high number, but you might not realize how much down time .1% actually amounts to.</span></span> <span data-ttu-id="33f73-153">Voici un tableau qui indique le temps d’inactivité différents pourcentages de contrat SLA montant sur une année, un mois et une semaine.</span><span class="sxs-lookup"><span data-stu-id="33f73-153">Here's a table that shows how much downtime various SLA percentages amount to over a year, a month, and a week.</span></span>

![Table de SLA](design-to-survive-failures/_static/image2.png)

<span data-ttu-id="33f73-155">Par conséquent, un contrat SLA signifie que votre service de 99,9 % est en panne 8,76 heures par an ou 43,2 minutes par mois.</span><span class="sxs-lookup"><span data-stu-id="33f73-155">So a 99.9% SLA means your service could be down 8.76 hours a year or 43.2 minutes a month.</span></span> <span data-ttu-id="33f73-156">Qui est plus temps d’arrêt que la plupart des gens réaliser.</span><span class="sxs-lookup"><span data-stu-id="33f73-156">That's more down time than most people realize.</span></span> <span data-ttu-id="33f73-157">En tant que développeur vous souhaitez donc Sachez qu’une certaine quantité de temps d’arrêt est possible et de gérer de manière appropriée.</span><span class="sxs-lookup"><span data-stu-id="33f73-157">So as a developer you want to be aware that a certain amount of down time is possible and handle it in a graceful way.</span></span> <span data-ttu-id="33f73-158">À un moment donné une personne va être à l’aide de votre application et un service va être arrêté, et vous souhaitez réduire l’impact négatif que sur le client.</span><span class="sxs-lookup"><span data-stu-id="33f73-158">At some point someone is going to be using your app, and a service is going to be down, and you want to minimize the negative impact of that on the customer.</span></span>

<span data-ttu-id="33f73-159">Vous devez savoir sur un contrat SLA est quel laps de temps qu’il fait référence à : l’horloge réinitialiser toutes les semaines, tous les mois ou chaque année ?</span><span class="sxs-lookup"><span data-stu-id="33f73-159">One thing you should know about an SLA is what time-frame it refers to: does the clock get reset every week, every month, or every year?</span></span> <span data-ttu-id="33f73-160">Dans Azure nous réinitialiser l’horloge chaque mois, ce qui vous convient le mieux à un contrat SLA annuel, dans la mesure où un contrat SLA annuel peut masquer mois incorrects en les décalant avec une série de mois bon.</span><span class="sxs-lookup"><span data-stu-id="33f73-160">In Azure we reset the clock every month, which is better for you than a yearly SLA, since a yearly SLA could hide bad months by offsetting them with a series of good months.</span></span>

<span data-ttu-id="33f73-161">Bien entendu nous toujours aspirer à faire de meilleures performances que le contrat SLA ; vous serez généralement moins importante que celle vers le bas.</span><span class="sxs-lookup"><span data-stu-id="33f73-161">Of course we always aspire to do better than the SLA; usually you'll be down much less than that.</span></span> <span data-ttu-id="33f73-162">La promesse est que si nous sommes jamais plus longue que le maximum de temps d’arrêt, vous pouvez demander le remboursement de.</span><span class="sxs-lookup"><span data-stu-id="33f73-162">The promise is that if we're ever down for longer than the maximum down time you can ask for money back.</span></span> <span data-ttu-id="33f73-163">La somme d’argent que vous récupérez probablement ne compense entièrement l’impact de l’excès de temps d’arrêt, mais cet aspect du contrat SLA se comporte comme une stratégie de mise en œuvre et vous permet de savoir que nous le prennent très au sérieux.</span><span class="sxs-lookup"><span data-stu-id="33f73-163">The amount of money you get back probably wouldn't fully compensate you for the business impact of the excess down time, but that aspect of the SLA acts as an enforcement policy and lets you know that we do take it very seriously.</span></span>

### <a name="composite-slas"></a><span data-ttu-id="33f73-164">SLA composite</span><span class="sxs-lookup"><span data-stu-id="33f73-164">Composite SLAs</span></span>

<span data-ttu-id="33f73-165">Important de tenir compte lorsque vous examinez SLA est l’impact de l’utilisation de plusieurs services dans une application, avec chaque service ayant un contrat SLA distinct.</span><span class="sxs-lookup"><span data-stu-id="33f73-165">An important thing to think about when you're looking at SLAs is the impact of using multiple services in an app, with each service having a separate SLA.</span></span> <span data-ttu-id="33f73-166">Par exemple, l’application Fix It utilise Azure App Service Web Apps, le stockage Azure et base de données SQL.</span><span class="sxs-lookup"><span data-stu-id="33f73-166">For example, the Fix It app uses Azure App Service Web Apps, Azure Storage, and SQL Database.</span></span> <span data-ttu-id="33f73-167">Voici leurs numéros de contrat SLA à compter de la date de que ce livre électronique est en cours d’écriture dans décembre 2013 :</span><span class="sxs-lookup"><span data-stu-id="33f73-167">Here are their SLA numbers as of the date this e-book is being written in December, 2013:</span></span>

![Base de données SQL de Site Web, le stockage, contrat SLA](design-to-survive-failures/_static/image3.png)

<span data-ttu-id="33f73-169">Quelle est la valeur maximale indisponibilité attendue de l’application en fonction de ces contrats de service ?</span><span class="sxs-lookup"><span data-stu-id="33f73-169">What is the maximum down time you would expect for the app based on these service SLAs?</span></span> <span data-ttu-id="33f73-170">Vous pouvez penser que votre temps d’arrêt serait égal à la pire pourcentage SLA ou 99,9 % dans ce cas.</span><span class="sxs-lookup"><span data-stu-id="33f73-170">You might think that your down time would be equal to the worst SLA percentage, or 99.9% in this case.</span></span> <span data-ttu-id="33f73-171">Qui est true si les trois services Échec toujours en même temps, mais qui n’est pas nécessairement que se passe-t-il réellement.</span><span class="sxs-lookup"><span data-stu-id="33f73-171">That would be true if all three services always failed at the same time, but that isn't necessarily what actually happens.</span></span> <span data-ttu-id="33f73-172">Chaque service peut échouer indépendamment à différents moments, donc vous devez calculer le contrat SLA composite en multipliant les numéros de contrat SLA individuels.</span><span class="sxs-lookup"><span data-stu-id="33f73-172">Each service may fail independently at different times, so you have to calculate the composite SLA by multiplying the individual SLA numbers.</span></span>

![Contrat SLA composite](design-to-survive-failures/_static/image4.png)

<span data-ttu-id="33f73-174">Pour votre application peut être arrêtée 43,2 minutes pas seulement un mois, 3 fois cette quantité, 108 minutes par mois – et continuer à dans les limites de contrat SLA Azure.</span><span class="sxs-lookup"><span data-stu-id="33f73-174">So your app could be down not just 43.2 minutes a month but 3 times that amount, 108 minutes a month – and still be within the Azure SLA limits.</span></span>

<span data-ttu-id="33f73-175">Ce problème n’est pas unique dans Azure.</span><span class="sxs-lookup"><span data-stu-id="33f73-175">This issue is not unique to Azure.</span></span> <span data-ttu-id="33f73-176">Nous fournissons réellement le cloud meilleur contrats SLA de n’importe quel service de cloud disponible, et vous avez des problèmes similaires à gérer si vous utilisez les services de cloud computing de n’importe quel fournisseur.</span><span class="sxs-lookup"><span data-stu-id="33f73-176">We actually provide the best cloud SLAs of any cloud service available, and you'll have similar issues to deal with if you use any vendor's cloud services.</span></span> <span data-ttu-id="33f73-177">Ce que cela met en surbrillance est l’importance de réfléchir à la conception de votre application de gérer les échecs de service inévitable normalement, car ils peuvent se produire assez souvent un impact sur vos clients ou utilisateurs.</span><span class="sxs-lookup"><span data-stu-id="33f73-177">What this highlights is the importance of thinking about how you can design your app to handle the inevitable service failures gracefully, because they might happen often enough to impact your customers or users.</span></span>

### <a name="cloud-slas-compared-to-enterprise-down-time-experience"></a><span data-ttu-id="33f73-178">SLA cloud par rapport à l’expérience de temps d’arrêt d’entreprise</span><span class="sxs-lookup"><span data-stu-id="33f73-178">Cloud SLAs compared to enterprise down-time experience</span></span>

<span data-ttu-id="33f73-179">Personnes parfois, par exemple, « Dans mon application d’entreprise je n’ont jamais ces problèmes. »</span><span class="sxs-lookup"><span data-stu-id="33f73-179">People sometimes say, "In my enterprise app I never have these problems."</span></span> <span data-ttu-id="33f73-180">Si vous demandez combien de temps bas mois qu’ils ont en fait, ils affirment généralement, «, il se produit occasionnellement. »</span><span class="sxs-lookup"><span data-stu-id="33f73-180">If you ask how much down time a month they actually have, they usually say, "Well, it happens occasionally."</span></span> <span data-ttu-id="33f73-181">Et si vous vous demandez la fréquence à laquelle ils admettent que « Parfois nous n’avez pas besoin de sauvegarder ou installer un nouveau serveur ou mise à jour. »</span><span class="sxs-lookup"><span data-stu-id="33f73-181">And if you ask how often, they admit that "Sometimes we do need to back up or install a new server or update software."</span></span> <span data-ttu-id="33f73-182">Bien entendu, qui compte comme temps d’arrêt.</span><span class="sxs-lookup"><span data-stu-id="33f73-182">Of course, that counts as down time.</span></span> <span data-ttu-id="33f73-183">La plupart des applications d’entreprise, sauf si elles sont particulièrement critique sont réellement vers le bas pour plus d’informations à la quantité de temps autorisée par nos contrats de service.</span><span class="sxs-lookup"><span data-stu-id="33f73-183">Most enterprise apps unless they are especially mission-critical are actually down for more than the amount of time allowed by our service SLAs.</span></span> <span data-ttu-id="33f73-184">Mais quand il est votre serveur et votre infrastructure et vous êtes responsable pour lui et de contrôle de celui-ci, que vous allez se sentir moins secret sur les temps d’inactivité.</span><span class="sxs-lookup"><span data-stu-id="33f73-184">But when it's your server and your infrastructure and you're responsible for it and in control of it, you tend to feel less angst about down times.</span></span> <span data-ttu-id="33f73-185">Dans un environnement de cloud vous dépend d’une autre personne et si vous ne connaissez pas ce qui se passe, afin que vous allez peut-être obtenir plus inquiéter.</span><span class="sxs-lookup"><span data-stu-id="33f73-185">In a cloud environment you're dependent on someone else and you don't know what's going on, so you might tend to get more worried about it.</span></span>

<span data-ttu-id="33f73-186">Lorsqu’une entreprise réalise un pourcentage de temps d’exécution supérieur que vous obtenez à partir d’un contrat SLA cloud, ils le faire en money beaucoup plus de dépense sur du matériel.</span><span class="sxs-lookup"><span data-stu-id="33f73-186">When an enterprise achieves a greater up-time percentage than you get from a cloud SLA, they do it by spending a lot more money on hardware.</span></span> <span data-ttu-id="33f73-187">Un service cloud peut faire mais aurait à facturer bien plus encore pour ses services.</span><span class="sxs-lookup"><span data-stu-id="33f73-187">A cloud service could do that but would have to charge much more for its services.</span></span> <span data-ttu-id="33f73-188">Au lieu de cela, vous tirer parti d’un service économique et concevez votre logiciel afin que les échecs inévitables provoquent une interruption minimale de vos clients.</span><span class="sxs-lookup"><span data-stu-id="33f73-188">Instead, you take advantage of a cost-effective service and design your software so that the inevitable failures cause minimum disruption to your customers.</span></span> <span data-ttu-id="33f73-189">Votre travail en tant qu’un concepteur d’application cloud n’est pas tellement afin d’éviter l’échec afin d’éviter une catastrophe, et pour ce faire, en mettant l’accent sur le logiciel, pas sur le matériel.</span><span class="sxs-lookup"><span data-stu-id="33f73-189">Your job as a cloud app designer is not so much to avoid failure as to avoid catastrophe, and you do that by focusing on software, not on hardware.</span></span> <span data-ttu-id="33f73-190">Alors que les applications d’entreprise s’efforcent afin d’optimiser le temps moyen entre défaillances, les applications cloud s’efforcent afin de réduire le temps moyen de récupérer.</span><span class="sxs-lookup"><span data-stu-id="33f73-190">Whereas enterprise apps strive to maximize mean time between failures, cloud apps strive to minimize mean time to recover.</span></span>

### <a name="not-all-cloud-services-have-slas"></a><span data-ttu-id="33f73-191">Tous les services cloud ont des contrats SLA</span><span class="sxs-lookup"><span data-stu-id="33f73-191">Not all cloud services have SLAs</span></span>

<span data-ttu-id="33f73-192">Sachez également pas chaque service cloud même qu’un contrat SLA.</span><span class="sxs-lookup"><span data-stu-id="33f73-192">Be aware also that not every cloud service even has an SLA.</span></span> <span data-ttu-id="33f73-193">Si votre application dépend d’un service sans garantie d’un temps d’exécution, vous êtes peut-être inaccessible beaucoup plus de temps que vous pouvez l’imaginer.</span><span class="sxs-lookup"><span data-stu-id="33f73-193">If your app is dependent on a service with no up-time guarantee, you could be down far longer than you might imagine.</span></span> <span data-ttu-id="33f73-194">Par exemple, si vous activez l’ouverture de session à votre site à l’aide d’un fournisseur de réseaux sociaux tels que Facebook ou Twitter, vérifiez avec le fournisseur de services pour savoir si est un contrat SLA, et il peut y n’est pas un.</span><span class="sxs-lookup"><span data-stu-id="33f73-194">For example, if you enable log-in to your site using a social provider such as Facebook or Twitter, check with the service provider to find out if there is an SLA, and you might find out there isn't one.</span></span> <span data-ttu-id="33f73-195">Mais si le service d’authentification tombe en panne ou ne peut pas prendre en charge le volume de requêtes que vous lui envoyez, vos clients sont verrouillés hors de votre application.</span><span class="sxs-lookup"><span data-stu-id="33f73-195">But if the authentication service goes down or is unable to support the volume of requests you throw at it, your customers are locked out of your app.</span></span> <span data-ttu-id="33f73-196">Vous pouvez être vers le bas pour les jours ou plus.</span><span class="sxs-lookup"><span data-stu-id="33f73-196">You could be down for days or longer.</span></span> <span data-ttu-id="33f73-197">Les créateurs d’une nouvelle application attendu des centaines de millions de téléchargements et a pris une dépendance sur l’authentification Facebook – mais n’avez pas communiquer avec Facebook avant de passer de live et découvertes trop tard qui s’est pas de contrat SLA pour ce service.</span><span class="sxs-lookup"><span data-stu-id="33f73-197">The creators of one new app expected hundreds of millions of downloads and took a dependency on Facebook authentication – but didn't talk to Facebook before going live and discovered too late that there was no SLA for that service.</span></span>

### <a name="not-all-downtime-counts-toward-slas"></a><span data-ttu-id="33f73-198">Pas tous les nombres de temps d’arrêt vers SLA</span><span class="sxs-lookup"><span data-stu-id="33f73-198">Not all downtime counts toward SLAs</span></span>

<span data-ttu-id="33f73-199">Certains services de cloud computing peuvent délibérément refus de service si votre application les utilise trop.</span><span class="sxs-lookup"><span data-stu-id="33f73-199">Some cloud services may deliberately deny service if your app over-uses them.</span></span> <span data-ttu-id="33f73-200">Il s’agit *limitation*.</span><span class="sxs-lookup"><span data-stu-id="33f73-200">This is called *throttling*.</span></span> <span data-ttu-id="33f73-201">Si un service dispose d’un contrat SLA, il doit indiquer les conditions dans lesquelles vous pourrez être limitée, et la conception de votre application doit éviter ces conditions et réagir de façon appropriée pour la limitation s’il se produit.</span><span class="sxs-lookup"><span data-stu-id="33f73-201">If a service has an SLA, it should state the conditions under which you might be throttled, and your app design should avoid those conditions and react appropriately to the throttling if it happens.</span></span> <span data-ttu-id="33f73-202">Par exemple, si des requêtes à un service commencent à échouer lorsque vous dépassez un certain nombre par seconde, vous souhaitez vous assurer de nouvelles tentatives automatiques ne se produisent pas rapidement qu’ils provoquent la limitation continuer.</span><span class="sxs-lookup"><span data-stu-id="33f73-202">For example, if requests to a service start to fail when you exceed a certain number per second, you want to make sure automatic retries don't happen so fast that they cause the throttling to continue.</span></span> <span data-ttu-id="33f73-203">Nous aurons plus d’informations à propos de la limitation dans les [chapitre de gestion temporaire des erreurs de](transient-fault-handling.md).</span><span class="sxs-lookup"><span data-stu-id="33f73-203">We'll have more to say about throttling in the [Transient Fault Handling chapter](transient-fault-handling.md).</span></span>

## <a name="summary"></a><span data-ttu-id="33f73-204">Résumé</span><span class="sxs-lookup"><span data-stu-id="33f73-204">Summary</span></span>

<span data-ttu-id="33f73-205">Ce chapitre a essayé de vous permettre de réaliser la raison pour laquelle une application de cloud du monde réel doit être conçu survivre à des échecs en douceur.</span><span class="sxs-lookup"><span data-stu-id="33f73-205">This chapter has tried to help you realize why a real world cloud app has to be designed to survive failures gracefully.</span></span> <span data-ttu-id="33f73-206">En commençant par le [chapitre suivant](monitoring-and-telemetry.md), les modèles restants dans cette série aller plus en détail certaines stratégies que vous pouvez utiliser pour ce faire :</span><span class="sxs-lookup"><span data-stu-id="33f73-206">Starting with the [next chapter](monitoring-and-telemetry.md), the remaining patterns in this series go into more detail about some strategies you can use to do that:</span></span>

- <span data-ttu-id="33f73-207">Ont de bonnes [surveillance et télémétrie](monitoring-and-telemetry.md), de sorte que vous découvrez rapidement les défaillances qui nécessitent une intervention, et vous disposez de suffisamment d’informations pour les résoudre.</span><span class="sxs-lookup"><span data-stu-id="33f73-207">Have good [monitoring and telemetry](monitoring-and-telemetry.md), so that you find out quickly about failures that require intervention, and you have sufficient information to resolve them.</span></span>
- <span data-ttu-id="33f73-208">[Gérer les erreurs temporaires](transient-fault-handling.md) en implémentant la logique de nouvelle tentative intelligent, afin que votre application récupère automatiquement lorsqu’il peut et revient à [disjoncteur](transient-fault-handling.md#circuitbreakers) logique lorsqu’il ne peut pas.</span><span class="sxs-lookup"><span data-stu-id="33f73-208">[Handle transient faults](transient-fault-handling.md) by implementing intelligent retry logic, so that your app recovers automatically when it can and falls back to [circuit breaker](transient-fault-handling.md#circuitbreakers) logic when it can't.</span></span>
- <span data-ttu-id="33f73-209">Utilisez [mise en cache distribuée](distributed-caching.md) afin de réduire les problèmes de connexion, la latence et débit avec un accès de base de données.</span><span class="sxs-lookup"><span data-stu-id="33f73-209">Use [distributed caching](distributed-caching.md) in order to minimize throughput, latency, and connection problems with database access.</span></span>
- <span data-ttu-id="33f73-210">Implémentez faible couplage la [centré sur la file d’attente de travail modèle](queue-centric-work-pattern.md), de sorte que votre frontale de l’application peut continuer à fonctionner lorsque le serveur principal est arrêté.</span><span class="sxs-lookup"><span data-stu-id="33f73-210">Implement loose coupling via the [queue-centric work pattern](queue-centric-work-pattern.md), so that your app front end can continue to work when the back end is down.</span></span>

## <a name="resources"></a><span data-ttu-id="33f73-211">Ressources</span><span class="sxs-lookup"><span data-stu-id="33f73-211">Resources</span></span>

<span data-ttu-id="33f73-212">Pour plus d’informations, consultez les chapitres suivants de ce livre électronique et les ressources suivantes.</span><span class="sxs-lookup"><span data-stu-id="33f73-212">For more information, see later chapters in this e-book and the following resources.</span></span>

<span data-ttu-id="33f73-213">Documentation :</span><span class="sxs-lookup"><span data-stu-id="33f73-213">Documentation:</span></span>

- <span data-ttu-id="33f73-214">[Prévention de défaillance : Aide sur les Architectures de Cloud résilientes](https://msdn.microsoft.com/en-us/library/windowsazure/jj853352.aspx).</span><span class="sxs-lookup"><span data-stu-id="33f73-214">[Failsafe: Guidance for Resilient Cloud Architectures](https://msdn.microsoft.com/en-us/library/windowsazure/jj853352.aspx).</span></span> <span data-ttu-id="33f73-215">Livre blanc par Marc Mercuri, Ulrich Homann et Andrew Townhill.</span><span class="sxs-lookup"><span data-stu-id="33f73-215">White paper by Marc Mercuri, Ulrich Homann, and Andrew Townhill.</span></span> <span data-ttu-id="33f73-216">Version de la page Web de la série de vidéos de prévention de défaillance.</span><span class="sxs-lookup"><span data-stu-id="33f73-216">Web page version of the FailSafe video series.</span></span>
- <span data-ttu-id="33f73-217">[Meilleures pratiques pour la création de Services à grande échelle sur les Services Cloud Azure](https://msdn.microsoft.com/en-us/library/windowsazure/jj717232.aspx).</span><span class="sxs-lookup"><span data-stu-id="33f73-217">[Best Practices for the Design of Large-Scale Services on Azure Cloud Services](https://msdn.microsoft.com/en-us/library/windowsazure/jj717232.aspx).</span></span> <span data-ttu-id="33f73-218">Livre blanc par Mark Simms et Michael Thomassy.</span><span class="sxs-lookup"><span data-stu-id="33f73-218">White paper by Mark Simms and Michael Thomassy.</span></span>
- <span data-ttu-id="33f73-219">[Aide technique de continuité des activités Azure](https://msdn.microsoft.com/en-us/library/windowsazure/hh873027.aspx).</span><span class="sxs-lookup"><span data-stu-id="33f73-219">[Azure Business Continuity Technical Guidance](https://msdn.microsoft.com/en-us/library/windowsazure/hh873027.aspx).</span></span> <span data-ttu-id="33f73-220">Livre blanc en Patrick Wickline, Jason Roth.</span><span class="sxs-lookup"><span data-stu-id="33f73-220">White paper by Patrick Wickline and Jason Roth.</span></span>
- <span data-ttu-id="33f73-221">[Récupération d’urgence et haute disponibilité pour les Applications Azure](https://msdn.microsoft.com/en-us/library/windowsazure/dn251004.aspx).</span><span class="sxs-lookup"><span data-stu-id="33f73-221">[Disaster Recovery and High Availability for Azure Applications](https://msdn.microsoft.com/en-us/library/windowsazure/dn251004.aspx).</span></span> <span data-ttu-id="33f73-222">Livre blanc par Michael McKeown, Hanu Kommalapati et Jason Roth.</span><span class="sxs-lookup"><span data-stu-id="33f73-222">White paper by Michael McKeown, Hanu Kommalapati, and Jason Roth.</span></span>
- <span data-ttu-id="33f73-223">[Microsoft Patterns and Practices - Guide Azure](https://msdn.microsoft.com/en-us/library/dn568099.aspx).</span><span class="sxs-lookup"><span data-stu-id="33f73-223">[Microsoft Patterns and Practices - Azure Guidance](https://msdn.microsoft.com/en-us/library/dn568099.aspx).</span></span> <span data-ttu-id="33f73-224">Consultez le Guide de déploiement de centre de données multiples, modèle de disjoncteur.</span><span class="sxs-lookup"><span data-stu-id="33f73-224">See Multi Data Center Deployment guidance, Circuit breaker pattern.</span></span>
- <span data-ttu-id="33f73-225">[Prise en charge de Azure - les contrats de niveau de Service](https://azure.microsoft.com/support/legal/sla/).</span><span class="sxs-lookup"><span data-stu-id="33f73-225">[Azure Support - Service Level Agreements](https://azure.microsoft.com/support/legal/sla/).</span></span>
- <span data-ttu-id="33f73-226">[Continuité des activités dans la base de données SQL Azure](https://msdn.microsoft.com/en-us/library/windowsazure/hh852669.aspx).</span><span class="sxs-lookup"><span data-stu-id="33f73-226">[Business Continuity in Azure SQL Database](https://msdn.microsoft.com/en-us/library/windowsazure/hh852669.aspx).</span></span> <span data-ttu-id="33f73-227">Documentation sur la base de données SQL haute disponibilité et reprise après sinistre fonctionnalités de récupération.</span><span class="sxs-lookup"><span data-stu-id="33f73-227">Documentation about SQL Database high availability and disaster recovery features.</span></span>
- <span data-ttu-id="33f73-228">[Haute disponibilité et récupération d’urgence pour SQL Server dans des Machines virtuelles](https://msdn.microsoft.com/en-us/library/windowsazure/jj870962.aspx).</span><span class="sxs-lookup"><span data-stu-id="33f73-228">[High Availability and Disaster Recovery for SQL Server in Azure Virtual Machines](https://msdn.microsoft.com/en-us/library/windowsazure/jj870962.aspx).</span></span>

<span data-ttu-id="33f73-229">Vidéos :</span><span class="sxs-lookup"><span data-stu-id="33f73-229">Videos:</span></span>

- <span data-ttu-id="33f73-230">[Prévention de défaillance : Création de Services de cloud computing évolutive et robuste](https://channel9.msdn.com/Series/FailSafe).</span><span class="sxs-lookup"><span data-stu-id="33f73-230">[FailSafe: Building Scalable, Resilient Cloud Services](https://channel9.msdn.com/Series/FailSafe).</span></span> <span data-ttu-id="33f73-231">Série en neuf parties par Ulrich Homann, Marc Mercuri et Mark Simms.</span><span class="sxs-lookup"><span data-stu-id="33f73-231">Nine-part series by Ulrich Homann, Marc Mercuri, and Mark Simms.</span></span> <span data-ttu-id="33f73-232">Présente les principaux concepts et les principes d’architecture de manière très accessible et intéressante, avec récits tirés de l’expérience de Microsoft Customer Advisory Team (CAT) avec des clients réels.</span><span class="sxs-lookup"><span data-stu-id="33f73-232">Presents high-level concepts and architectural principles in a very accessible and interesting way, with stories drawn from Microsoft Customer Advisory Team (CAT) experience with actual customers.</span></span> <span data-ttu-id="33f73-233">Épisodes 1 et 8 aborde en détail les raisons de conception d’applications de cloud pour faire face aux défaillances.</span><span class="sxs-lookup"><span data-stu-id="33f73-233">Episodes 1 and 8 go in depth into the reasons for designing cloud apps to survive failures.</span></span> <span data-ttu-id="33f73-234">Voir aussi la discussion de suivi de la limitation dans l’épisode 2 en commençant à la discussion de disjoncteurs dans épisode 3 en commençant à 40:55 49:57 et la discussion des points d’échec et les modes d’échec du démarrage de l’épisode 2 à 56:05.</span><span class="sxs-lookup"><span data-stu-id="33f73-234">See also the follow-up discussion of throttling in episode 2 starting at 49:57, the discussion of failure points and failure modes in episode 2 starting at 56:05, and the discussion of circuit breakers in episode 3 starting at 40:55.</span></span>
- <span data-ttu-id="33f73-235">[Construction Big : Leçons reçues des clients Azure - partie II](https://channel9.msdn.com/Events/Build/2012/3-030).</span><span class="sxs-lookup"><span data-stu-id="33f73-235">[Building Big: Lessons learned from Azure customers - Part II](https://channel9.msdn.com/Events/Build/2012/3-030).</span></span> <span data-ttu-id="33f73-236">Mark Simms parle de la conception en cas d’échec et l’instrumentation de tous les éléments.</span><span class="sxs-lookup"><span data-stu-id="33f73-236">Mark Simms talks about designing for failure and instrumenting everything.</span></span> <span data-ttu-id="33f73-237">Similaire à la série de prévention de défaillance mais le passage en plus de détails sur les procédures.</span><span class="sxs-lookup"><span data-stu-id="33f73-237">Similar to the Failsafe series but goes into more how-to details.</span></span>

>[!div class="step-by-step"]
<span data-ttu-id="33f73-238">[Précédent](unstructured-blob-storage.md)
[Suivant](monitoring-and-telemetry.md)</span><span class="sxs-lookup"><span data-stu-id="33f73-238">[Previous](unstructured-blob-storage.md)
[Next](monitoring-and-telemetry.md)</span></span>
