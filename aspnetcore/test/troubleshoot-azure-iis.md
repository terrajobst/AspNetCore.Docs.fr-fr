---
title: Résoudre les problèmes de ASP.NET Core sur Azure App Service et IIS
author: rick-anderson
description: Découvrez comment diagnostiquer les problèmes liés aux déploiements Azure App Service et Internet Information Services (IIS) des applications ASP.NET Core.
monikerRange: '>= aspnetcore-2.1'
ms.author: riande
ms.custom: mvc
ms.date: 02/07/2020
uid: test/troubleshoot-azure-iis
ms.openlocfilehash: 671f68da2ea261cb8ae32a9d5ef875217859054d
ms.sourcegitcommit: 9a129f5f3e31cc449742b164d5004894bfca90aa
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 03/06/2020
ms.locfileid: "78655329"
---
# <a name="troubleshoot-aspnet-core-on-azure-app-service-and-iis"></a><span data-ttu-id="0528b-103">Résoudre les problèmes de ASP.NET Core sur Azure App Service et IIS</span><span class="sxs-lookup"><span data-stu-id="0528b-103">Troubleshoot ASP.NET Core on Azure App Service and IIS</span></span>

<span data-ttu-id="0528b-104">Par [Justin Kotalik](https://github.com/jkotalik)</span><span class="sxs-lookup"><span data-stu-id="0528b-104">By [Justin Kotalik](https://github.com/jkotalik)</span></span>

::: moniker range=">= aspnetcore-3.0"

<span data-ttu-id="0528b-105">Cet article fournit des informations sur les erreurs de démarrage d’application courantes et des instructions sur la façon de diagnostiquer les erreurs quand une application est déployée sur Azure App Service ou IIS :</span><span class="sxs-lookup"><span data-stu-id="0528b-105">This article provides information on common app startup errors and instructions on how to diagnose errors when an app is deployed to Azure App Service or IIS:</span></span>

[<span data-ttu-id="0528b-106">Erreurs de démarrage de l’application</span><span class="sxs-lookup"><span data-stu-id="0528b-106">App startup errors</span></span>](#app-startup-errors)  
<span data-ttu-id="0528b-107">Explique les scénarios courants de code d’état HTTP de démarrage.</span><span class="sxs-lookup"><span data-stu-id="0528b-107">Explains common startup HTTP status code scenarios.</span></span>

[<span data-ttu-id="0528b-108">Résoudre les problèmes sur Azure App Service</span><span class="sxs-lookup"><span data-stu-id="0528b-108">Troubleshoot on Azure App Service</span></span>](#troubleshoot-on-azure-app-service)  
<span data-ttu-id="0528b-109">Fournit des conseils de dépannage pour les applications déployées sur Azure App Service.</span><span class="sxs-lookup"><span data-stu-id="0528b-109">Provides troubleshooting advice for apps deployed to Azure App Service.</span></span>

[<span data-ttu-id="0528b-110">Résoudre les problèmes sur IIS</span><span class="sxs-lookup"><span data-stu-id="0528b-110">Troubleshoot on IIS</span></span>](#troubleshoot-on-iis)  
<span data-ttu-id="0528b-111">Fournit des conseils de dépannage pour les applications déployées sur IIS ou exécutées localement sur IIS Express.</span><span class="sxs-lookup"><span data-stu-id="0528b-111">Provides troubleshooting advice for apps deployed to IIS or running on IIS Express locally.</span></span> <span data-ttu-id="0528b-112">Ce guide s’applique aux déploiements Windows Server et Windows Desktop.</span><span class="sxs-lookup"><span data-stu-id="0528b-112">The guidance applies to both Windows Server and Windows desktop deployments.</span></span>

[<span data-ttu-id="0528b-113">Effacer les caches de package</span><span class="sxs-lookup"><span data-stu-id="0528b-113">Clear package caches</span></span>](#clear-package-caches)  
<span data-ttu-id="0528b-114">Explique ce qu’il faut faire quand des packages incohérents interrompent une application lors des mises à niveau majeures ou de la modification des versions de package.</span><span class="sxs-lookup"><span data-stu-id="0528b-114">Explains what to do when incoherent packages break an app when performing major upgrades or changing package versions.</span></span>

[<span data-ttu-id="0528b-115">Ressources supplémentaires</span><span class="sxs-lookup"><span data-stu-id="0528b-115">Additional resources</span></span>](#additional-resources)  
<span data-ttu-id="0528b-116">Répertorie des rubriques supplémentaires sur la résolution des problèmes.</span><span class="sxs-lookup"><span data-stu-id="0528b-116">Lists additional troubleshooting topics.</span></span>

## <a name="app-startup-errors"></a><span data-ttu-id="0528b-117">Erreurs de démarrage de l’application</span><span class="sxs-lookup"><span data-stu-id="0528b-117">App startup errors</span></span>

<span data-ttu-id="0528b-118">Dans Visual Studio, un projet ASP.NET Core est par défaut hébergé sur [IIS Express](/iis/extensions/introduction-to-iis-express/iis-express-overview) pendant une opération de débogage.</span><span class="sxs-lookup"><span data-stu-id="0528b-118">In Visual Studio, an ASP.NET Core project defaults to [IIS Express](/iis/extensions/introduction-to-iis-express/iis-express-overview) hosting during debugging.</span></span> <span data-ttu-id="0528b-119">Un *échec de processus 502,5* ou un *échec de démarrage de 500,30* qui se produit lorsque le débogage local peut être diagnostiqué à l’aide des conseils de cette rubrique.</span><span class="sxs-lookup"><span data-stu-id="0528b-119">A *502.5 - Process Failure* or a *500.30 - Start Failure* that occurs when debugging locally can be diagnosed using the advice in this topic.</span></span>

### <a name="40314-forbidden"></a><span data-ttu-id="0528b-120">403,14 interdit</span><span class="sxs-lookup"><span data-stu-id="0528b-120">403.14 Forbidden</span></span>

<span data-ttu-id="0528b-121">L’application ne démarre pas.</span><span class="sxs-lookup"><span data-stu-id="0528b-121">The app fails to start.</span></span> <span data-ttu-id="0528b-122">L’erreur suivante est enregistrée :</span><span class="sxs-lookup"><span data-stu-id="0528b-122">The following error is logged:</span></span>

```
The Web server is configured to not list the contents of this directory.
```

<span data-ttu-id="0528b-123">L’erreur est généralement causée par un déploiement rompu sur le système d’hébergement, qui comprend l’un des scénarios suivants :</span><span class="sxs-lookup"><span data-stu-id="0528b-123">The error is usually caused by a broken deployment on the hosting system, which includes any of the following scenarios:</span></span>

* <span data-ttu-id="0528b-124">L’application est déployée dans le mauvais dossier sur le système d’hébergement.</span><span class="sxs-lookup"><span data-stu-id="0528b-124">The app is deployed to the wrong folder on the hosting system.</span></span>
* <span data-ttu-id="0528b-125">Le processus de déploiement n’a pas réussi à déplacer tous les fichiers et dossiers de l’application vers le dossier de déploiement sur le système d’hébergement.</span><span class="sxs-lookup"><span data-stu-id="0528b-125">The deployment process failed to move all of the app's files and folders to the deployment folder on the hosting system.</span></span>
* <span data-ttu-id="0528b-126">Le fichier *Web. config* est manquant dans le déploiement ou le contenu du fichier *Web. config* est incorrect.</span><span class="sxs-lookup"><span data-stu-id="0528b-126">The *web.config* file is missing from the deployment, or the *web.config* file contents are malformed.</span></span>

<span data-ttu-id="0528b-127">Procédez comme suit :</span><span class="sxs-lookup"><span data-stu-id="0528b-127">Perform the following steps:</span></span>

1. <span data-ttu-id="0528b-128">Supprimez tous les fichiers et dossiers du dossier de déploiement sur le système d’hébergement.</span><span class="sxs-lookup"><span data-stu-id="0528b-128">Delete all of the files and folders from the deployment folder on the hosting system.</span></span>
1. <span data-ttu-id="0528b-129">Redéployez le contenu du dossier de *publication* de l’application sur le système d’hébergement à l’aide de votre méthode de déploiement normale, telle que Visual Studio, PowerShell ou le déploiement manuel :</span><span class="sxs-lookup"><span data-stu-id="0528b-129">Redeploy the contents of the app's *publish* folder to the hosting system using your normal method of deployment, such as Visual Studio, PowerShell, or manual deployment:</span></span>
   * <span data-ttu-id="0528b-130">Vérifiez que le fichier *Web. config* est présent dans le déploiement et que son contenu est correct.</span><span class="sxs-lookup"><span data-stu-id="0528b-130">Confirm that the *web.config* file is present in the deployment and that its contents are correct.</span></span>
   * <span data-ttu-id="0528b-131">Lors de l’hébergement sur Azure App Service, vérifiez que l’application est déployée dans le dossier `D:\home\site\wwwroot`.</span><span class="sxs-lookup"><span data-stu-id="0528b-131">When hosting on Azure App Service, confirm that the app is deployed to the `D:\home\site\wwwroot` folder.</span></span>
   * <span data-ttu-id="0528b-132">Lorsque l’application est hébergée par IIS, vérifiez que l’application est déployée sur le **chemin d’accès physique** IIS indiqué dans les **paramètres de base**du gestionnaire des **services Internet**.</span><span class="sxs-lookup"><span data-stu-id="0528b-132">When the app is hosted by IIS, confirm that the app is deployed to the IIS **Physical path** shown in **IIS Manager**'s **Basic Settings**.</span></span>
1. <span data-ttu-id="0528b-133">Confirmez que tous les fichiers et dossiers de l’application sont déployés en comparant le déploiement sur le système d’hébergement au contenu du dossier de *publication* du projet.</span><span class="sxs-lookup"><span data-stu-id="0528b-133">Confirm that all of the app's files and folders are deployed by comparing the deployment on the hosting system to the contents of the project's *publish* folder.</span></span>

<span data-ttu-id="0528b-134">Pour plus d’informations sur la disposition d’une application ASP.NET Core publiée, consultez <xref:host-and-deploy/directory-structure>.</span><span class="sxs-lookup"><span data-stu-id="0528b-134">For more information on the layout of a published ASP.NET Core app, see <xref:host-and-deploy/directory-structure>.</span></span> <span data-ttu-id="0528b-135">Pour plus d’informations sur le fichier *Web. config* , consultez <xref:host-and-deploy/aspnet-core-module#configuration-with-webconfig>.</span><span class="sxs-lookup"><span data-stu-id="0528b-135">For more information on the *web.config* file, see <xref:host-and-deploy/aspnet-core-module#configuration-with-webconfig>.</span></span>

### <a name="500-internal-server-error"></a><span data-ttu-id="0528b-136">500 Erreur interne du serveur</span><span class="sxs-lookup"><span data-stu-id="0528b-136">500 Internal Server Error</span></span>

<span data-ttu-id="0528b-137">L’application démarre, mais une erreur empêche le serveur de répondre à la requête.</span><span class="sxs-lookup"><span data-stu-id="0528b-137">The app starts, but an error prevents the server from fulfilling the request.</span></span>

<span data-ttu-id="0528b-138">Cette erreur se produit dans le code de l’application pendant le démarrage ou durant la création d’une réponse.</span><span class="sxs-lookup"><span data-stu-id="0528b-138">This error occurs within the app's code during startup or while creating a response.</span></span> <span data-ttu-id="0528b-139">La réponse peut être dépourvue de contenu ou apparaître sous la forme d’une *erreur de serveur interne 500* dans le navigateur.</span><span class="sxs-lookup"><span data-stu-id="0528b-139">The response may contain no content, or the response may appear as a *500 Internal Server Error* in the browser.</span></span> <span data-ttu-id="0528b-140">Le Journal des événements de l’application indique généralement qu’elle a démarré normalement.</span><span class="sxs-lookup"><span data-stu-id="0528b-140">The Application Event Log usually states that the app started normally.</span></span> <span data-ttu-id="0528b-141">Du point de vue du serveur, c’est exact.</span><span class="sxs-lookup"><span data-stu-id="0528b-141">From the server's perspective, that's correct.</span></span> <span data-ttu-id="0528b-142">L’application a démarré, mais elle ne parvient pas à générer une réponse valide.</span><span class="sxs-lookup"><span data-stu-id="0528b-142">The app did start, but it can't generate a valid response.</span></span> <span data-ttu-id="0528b-143">Exécutez l’application à partir d’une invite de commandes sur le serveur ou activez le journal stdout du module ASP.NET Core pour résoudre le problème.</span><span class="sxs-lookup"><span data-stu-id="0528b-143">Run the app at a command prompt on the server or enable the ASP.NET Core Module stdout log to troubleshoot the problem.</span></span>

### <a name="5000-in-process-handler-load-failure"></a><span data-ttu-id="0528b-144">500.0 - Échec de chargement du gestionnaire in-process</span><span class="sxs-lookup"><span data-stu-id="0528b-144">500.0 In-Process Handler Load Failure</span></span>

<span data-ttu-id="0528b-145">Le processus de travail échoue.</span><span class="sxs-lookup"><span data-stu-id="0528b-145">The worker process fails.</span></span> <span data-ttu-id="0528b-146">L’application ne démarre pas.</span><span class="sxs-lookup"><span data-stu-id="0528b-146">The app doesn't start.</span></span>

<span data-ttu-id="0528b-147">Une erreur inconnue s’est produite lors du chargement des composants du [Module ASP.net Core](xref:host-and-deploy/aspnet-core-module) .</span><span class="sxs-lookup"><span data-stu-id="0528b-147">An unknown error occurred loading [ASP.NET Core Module](xref:host-and-deploy/aspnet-core-module) components.</span></span> <span data-ttu-id="0528b-148">Effectuez l'une des opérations suivantes :</span><span class="sxs-lookup"><span data-stu-id="0528b-148">Take one of the following actions:</span></span>

* <span data-ttu-id="0528b-149">Contactez le [Support Microsoft](https://support.microsoft.com/oas/default.aspx?prid=15832) (sélectionnez **Outils de développement**, puis **ASP.NET Core**).</span><span class="sxs-lookup"><span data-stu-id="0528b-149">Contact [Microsoft Support](https://support.microsoft.com/oas/default.aspx?prid=15832) (select **Developer Tools** then **ASP.NET Core**).</span></span>
* <span data-ttu-id="0528b-150">Posez une question sur Stack Overflow.</span><span class="sxs-lookup"><span data-stu-id="0528b-150">Ask a question on Stack Overflow.</span></span>
* <span data-ttu-id="0528b-151">Signalez un problème sur notre [dépôt GitHub](https://github.com/dotnet/AspNetCore).</span><span class="sxs-lookup"><span data-stu-id="0528b-151">File an issue on our [GitHub repository](https://github.com/dotnet/AspNetCore).</span></span>

### <a name="50030-in-process-startup-failure"></a><span data-ttu-id="0528b-152">500.30 - Échec du démarrage in-process</span><span class="sxs-lookup"><span data-stu-id="0528b-152">500.30 In-Process Startup Failure</span></span>

<span data-ttu-id="0528b-153">Le processus de travail échoue.</span><span class="sxs-lookup"><span data-stu-id="0528b-153">The worker process fails.</span></span> <span data-ttu-id="0528b-154">L’application ne démarre pas.</span><span class="sxs-lookup"><span data-stu-id="0528b-154">The app doesn't start.</span></span>

<span data-ttu-id="0528b-155">Le [Module ASP.net Core](xref:host-and-deploy/aspnet-core-module) tente de démarrer le CLR .net Core in-process, mais il ne parvient pas à démarrer.</span><span class="sxs-lookup"><span data-stu-id="0528b-155">The [ASP.NET Core Module](xref:host-and-deploy/aspnet-core-module) attempts to start the .NET Core CLR in-process, but it fails to start.</span></span> <span data-ttu-id="0528b-156">La cause d’un échec de démarrage d’un processus peut généralement être déterminée à partir des entrées dans le journal des événements d’application et le journal stdout du module ASP.NET Core.</span><span class="sxs-lookup"><span data-stu-id="0528b-156">The cause of a process startup failure can usually be determined from entries in the Application Event Log and the ASP.NET Core Module stdout log.</span></span>

<span data-ttu-id="0528b-157">Conditions d’échec courantes :</span><span class="sxs-lookup"><span data-stu-id="0528b-157">Common failure conditions:</span></span>

* <span data-ttu-id="0528b-158">L’application n’est pas configurée en raison du ciblage d’une version du Framework partagé ASP.NET Core qui n’est pas présent.</span><span class="sxs-lookup"><span data-stu-id="0528b-158">The app is misconfigured due to targeting a version of the ASP.NET Core shared framework that isn't present.</span></span> <span data-ttu-id="0528b-159">Vérifiez les versions du framework partagé ASP.NET Core qui sont installées sur l’ordinateur cible.</span><span class="sxs-lookup"><span data-stu-id="0528b-159">Check which versions of the ASP.NET Core shared framework are installed on the target machine.</span></span>
* <span data-ttu-id="0528b-160">À l’aide de Azure Key Vault, le manque d’autorisations au Key Vault.</span><span class="sxs-lookup"><span data-stu-id="0528b-160">Using Azure Key Vault, lack of permissions to the Key Vault.</span></span> <span data-ttu-id="0528b-161">Vérifiez les stratégies d’accès dans le Key Vault ciblé pour vous assurer que les autorisations appropriées sont accordées.</span><span class="sxs-lookup"><span data-stu-id="0528b-161">Check the access policies in the targeted Key Vault to ensure that the correct permissions are granted.</span></span>

### <a name="50031-ancm-failed-to-find-native-dependencies"></a><span data-ttu-id="0528b-162">500.31 - Échec de la recherche de dépendances natives par ANCM</span><span class="sxs-lookup"><span data-stu-id="0528b-162">500.31 ANCM Failed to Find Native Dependencies</span></span>

<span data-ttu-id="0528b-163">Le processus de travail échoue.</span><span class="sxs-lookup"><span data-stu-id="0528b-163">The worker process fails.</span></span> <span data-ttu-id="0528b-164">L’application ne démarre pas.</span><span class="sxs-lookup"><span data-stu-id="0528b-164">The app doesn't start.</span></span>

<span data-ttu-id="0528b-165">Le [Module ASP.net Core](xref:host-and-deploy/aspnet-core-module) tente de démarrer le Runtime .net Core in-process, mais il ne parvient pas à démarrer.</span><span class="sxs-lookup"><span data-stu-id="0528b-165">The [ASP.NET Core Module](xref:host-and-deploy/aspnet-core-module) attempts to start the .NET Core runtime in-process, but it fails to start.</span></span> <span data-ttu-id="0528b-166">La cause la plus courante de cet échec de démarrage est liée à la non-installation du runtime `Microsoft.NETCore.App` ou `Microsoft.AspNetCore.App`.</span><span class="sxs-lookup"><span data-stu-id="0528b-166">The most common cause of this startup failure is when the `Microsoft.NETCore.App` or `Microsoft.AspNetCore.App` runtime isn't installed.</span></span> <span data-ttu-id="0528b-167">Si l’application est déployée pour cibler ASP.NET Core 3.0, et si cette version n’existe pas sur la machine, cette erreur se produit.</span><span class="sxs-lookup"><span data-stu-id="0528b-167">If the app is deployed to target ASP.NET Core 3.0 and that version doesn't exist on the machine, this error occurs.</span></span> <span data-ttu-id="0528b-168">Voici un exemple de message d’erreur :</span><span class="sxs-lookup"><span data-stu-id="0528b-168">An example error message follows:</span></span>

```
The specified framework 'Microsoft.NETCore.App', version '3.0.0' was not found.
  - The following frameworks were found:
      2.2.1 at [C:\Program Files\dotnet\x64\shared\Microsoft.NETCore.App]
      3.0.0-preview5-27626-15 at [C:\Program Files\dotnet\x64\shared\Microsoft.NETCore.App]
      3.0.0-preview6-27713-13 at [C:\Program Files\dotnet\x64\shared\Microsoft.NETCore.App]
      3.0.0-preview6-27714-15 at [C:\Program Files\dotnet\x64\shared\Microsoft.NETCore.App]
      3.0.0-preview6-27723-08 at [C:\Program Files\dotnet\x64\shared\Microsoft.NETCore.App]
```

<span data-ttu-id="0528b-169">Le message d’erreur liste toutes les versions installées de .NET Core ainsi que la version demandée par l’application.</span><span class="sxs-lookup"><span data-stu-id="0528b-169">The error message lists all the installed .NET Core versions and the version requested by the app.</span></span> <span data-ttu-id="0528b-170">Pour corriger cette erreur, vous avez le choix entre plusieurs possibilités :</span><span class="sxs-lookup"><span data-stu-id="0528b-170">To fix this error, either:</span></span>

* <span data-ttu-id="0528b-171">Installez la version appropriée de .NET Core sur la machine.</span><span class="sxs-lookup"><span data-stu-id="0528b-171">Install the appropriate version of .NET Core on the machine.</span></span>
* <span data-ttu-id="0528b-172">Changez l’application pour cibler une version de .NET Core présente sur la machine.</span><span class="sxs-lookup"><span data-stu-id="0528b-172">Change the app to target a version of .NET Core that's present on the machine.</span></span>
* <span data-ttu-id="0528b-173">Publiez l’application sous forme de [déploiement autonome](/dotnet/core/deploying/#self-contained-deployments-scd).</span><span class="sxs-lookup"><span data-stu-id="0528b-173">Publish the app as a [self-contained deployment](/dotnet/core/deploying/#self-contained-deployments-scd).</span></span>

<span data-ttu-id="0528b-174">Durant l’exécution en phase de développement (la variable d’environnement `ASPNETCORE_ENVIRONMENT` a la valeur `Development`), l’erreur spécifique est écrite dans la réponse HTTP.</span><span class="sxs-lookup"><span data-stu-id="0528b-174">When running in development (the `ASPNETCORE_ENVIRONMENT` environment variable is set to `Development`), the specific error is written to the HTTP response.</span></span> <span data-ttu-id="0528b-175">La cause de l’échec du démarrage d’un processus se trouve également dans le journal des événements de l’application.</span><span class="sxs-lookup"><span data-stu-id="0528b-175">The cause of a process startup failure is also found in the Application Event Log.</span></span>

### <a name="50032-ancm-failed-to-load-dll"></a><span data-ttu-id="0528b-176">500.32 - Échec du chargement de la dll par ANCM</span><span class="sxs-lookup"><span data-stu-id="0528b-176">500.32 ANCM Failed to Load dll</span></span>

<span data-ttu-id="0528b-177">Le processus de travail échoue.</span><span class="sxs-lookup"><span data-stu-id="0528b-177">The worker process fails.</span></span> <span data-ttu-id="0528b-178">L’application ne démarre pas.</span><span class="sxs-lookup"><span data-stu-id="0528b-178">The app doesn't start.</span></span>

<span data-ttu-id="0528b-179">Le plus souvent, cette erreur provient du fait que l’application est publiée pour une architecture de processeur incompatible.</span><span class="sxs-lookup"><span data-stu-id="0528b-179">The most common cause for this error is that the app is published for an incompatible processor architecture.</span></span> <span data-ttu-id="0528b-180">Si le processus de travail s’exécute en tant qu’application 32 bits et si l’application a été publiée pour cibler une architecture 64 bits, cette erreur se produit.</span><span class="sxs-lookup"><span data-stu-id="0528b-180">If the worker process is running as a 32-bit app and the app was published to target 64-bit, this error occurs.</span></span>

<span data-ttu-id="0528b-181">Pour corriger cette erreur, vous avez le choix entre plusieurs possibilités :</span><span class="sxs-lookup"><span data-stu-id="0528b-181">To fix this error, either:</span></span>

* <span data-ttu-id="0528b-182">Republiez l’application pour la même architecture de processeur que celle du processus de travail.</span><span class="sxs-lookup"><span data-stu-id="0528b-182">Republish the app for the same processor architecture as the worker process.</span></span>
* <span data-ttu-id="0528b-183">Publiez l’application sous forme de [déploiement dépendant du framework](/dotnet/core/deploying/#framework-dependent-executables-fde).</span><span class="sxs-lookup"><span data-stu-id="0528b-183">Publish the app as a [framework-dependent deployment](/dotnet/core/deploying/#framework-dependent-executables-fde).</span></span>

### <a name="50033-ancm-request-handler-load-failure"></a><span data-ttu-id="0528b-184">500.33 - Échec du chargement du gestionnaire de requêtes ANCM</span><span class="sxs-lookup"><span data-stu-id="0528b-184">500.33 ANCM Request Handler Load Failure</span></span>

<span data-ttu-id="0528b-185">Le processus de travail échoue.</span><span class="sxs-lookup"><span data-stu-id="0528b-185">The worker process fails.</span></span> <span data-ttu-id="0528b-186">L’application ne démarre pas.</span><span class="sxs-lookup"><span data-stu-id="0528b-186">The app doesn't start.</span></span>

<span data-ttu-id="0528b-187">L’application n’a pas référencé le framework `Microsoft.AspNetCore.App`.</span><span class="sxs-lookup"><span data-stu-id="0528b-187">The app didn't reference the `Microsoft.AspNetCore.App` framework.</span></span> <span data-ttu-id="0528b-188">Seules les applications ciblant l’infrastructure `Microsoft.AspNetCore.App` peuvent être hébergées par le [Module ASP.net Core](xref:host-and-deploy/aspnet-core-module).</span><span class="sxs-lookup"><span data-stu-id="0528b-188">Only apps targeting the `Microsoft.AspNetCore.App` framework can be hosted by the [ASP.NET Core Module](xref:host-and-deploy/aspnet-core-module).</span></span>

<span data-ttu-id="0528b-189">Pour corriger cette erreur, vérifiez que l’application cible le framework `Microsoft.AspNetCore.App`.</span><span class="sxs-lookup"><span data-stu-id="0528b-189">To fix this error, confirm that the app is targeting the `Microsoft.AspNetCore.App` framework.</span></span> <span data-ttu-id="0528b-190">Examinez le fichier `.runtimeconfig.json` pour vérifier le framework ciblé par l’application.</span><span class="sxs-lookup"><span data-stu-id="0528b-190">Check the `.runtimeconfig.json` to verify the framework targeted by the app.</span></span>

### <a name="50034-ancm-mixed-hosting-models-not-supported"></a><span data-ttu-id="0528b-191">500.34 - Modèles d’hébergement mixtes ANCM non pris en charge</span><span class="sxs-lookup"><span data-stu-id="0528b-191">500.34 ANCM Mixed Hosting Models Not Supported</span></span>

<span data-ttu-id="0528b-192">Le processus de travail ne peut pas exécuter à la fois une application in-process et une application out-of-process dans le même processus.</span><span class="sxs-lookup"><span data-stu-id="0528b-192">The worker process can't run both an in-process app and an out-of-process app in the same process.</span></span>

<span data-ttu-id="0528b-193">Pour corriger cette erreur, exécutez les applications dans des pools d’applications IIS distincts.</span><span class="sxs-lookup"><span data-stu-id="0528b-193">To fix this error, run apps in separate IIS application pools.</span></span>

### <a name="50035-ancm-multiple-in-process-applications-in-same-process"></a><span data-ttu-id="0528b-194">500.35 - Applications in-process multiples dans le même processus ANCM</span><span class="sxs-lookup"><span data-stu-id="0528b-194">500.35 ANCM Multiple In-Process Applications in same Process</span></span>

<span data-ttu-id="0528b-195">Le processus de travail ne peut pas exécuter plusieurs applications in-process dans le même processus.</span><span class="sxs-lookup"><span data-stu-id="0528b-195">The worker process can't run multiple in-process apps in the same process.</span></span>

<span data-ttu-id="0528b-196">Pour corriger cette erreur, exécutez les applications dans des pools d’applications IIS distincts.</span><span class="sxs-lookup"><span data-stu-id="0528b-196">To fix this error, run apps in separate IIS application pools.</span></span>

### <a name="50036-ancm-out-of-process-handler-load-failure"></a><span data-ttu-id="0528b-197">500.36 - Échec de chargement du gestionnaire out-of-process ANCM</span><span class="sxs-lookup"><span data-stu-id="0528b-197">500.36 ANCM Out-Of-Process Handler Load Failure</span></span>

<span data-ttu-id="0528b-198">Le gestionnaire de requêtes out-of-process, *aspnetcorev2_outofprocess.dll*, ne se trouve pas aux côtés du fichier *aspnetcorev2.dll*.</span><span class="sxs-lookup"><span data-stu-id="0528b-198">The out-of-process request handler, *aspnetcorev2_outofprocess.dll*, isn't next to the *aspnetcorev2.dll* file.</span></span> <span data-ttu-id="0528b-199">Cela indique une installation endommagée du [Module ASP.net Core](xref:host-and-deploy/aspnet-core-module).</span><span class="sxs-lookup"><span data-stu-id="0528b-199">This indicates a corrupted installation of the [ASP.NET Core Module](xref:host-and-deploy/aspnet-core-module).</span></span>

<span data-ttu-id="0528b-200">Pour corriger cette erreur, réparez l’installation du [bundle d’hébergement .NET Core](xref:host-and-deploy/iis/index#install-the-net-core-hosting-bundle) (pour IIS) ou Visual Studio (pour IIS Express).</span><span class="sxs-lookup"><span data-stu-id="0528b-200">To fix this error, repair the installation of the [.NET Core Hosting Bundle](xref:host-and-deploy/iis/index#install-the-net-core-hosting-bundle) (for IIS) or Visual Studio (for IIS Express).</span></span>

### <a name="50037-ancm-failed-to-start-within-startup-time-limit"></a><span data-ttu-id="0528b-201">500.37 - Échec du démarrage d’ANCM dans le délai imparti</span><span class="sxs-lookup"><span data-stu-id="0528b-201">500.37 ANCM Failed to Start Within Startup Time Limit</span></span>

<span data-ttu-id="0528b-202">ANCM n’a pas pu démarrer dans le délai imparti spécifié.</span><span class="sxs-lookup"><span data-stu-id="0528b-202">ANCM failed to start within the provied startup time limit.</span></span> <span data-ttu-id="0528b-203">Par défaut, le délai d’expiration est de 120 secondes.</span><span class="sxs-lookup"><span data-stu-id="0528b-203">By default, the timeout is 120 seconds.</span></span>

<span data-ttu-id="0528b-204">Cette erreur peut se produire quand un grand nombre d’applications démarrent sur la même machine.</span><span class="sxs-lookup"><span data-stu-id="0528b-204">This error can occur when starting a large number of apps on the same machine.</span></span> <span data-ttu-id="0528b-205">Recherchez les pics d’utilisation du processeur/de la mémoire sur le serveur durant le démarrage.</span><span class="sxs-lookup"><span data-stu-id="0528b-205">Check for CPU/Memory usage spikes on the server during startup.</span></span> <span data-ttu-id="0528b-206">Vous devrez peut-être décaler le processus de démarrage de plusieurs applications.</span><span class="sxs-lookup"><span data-stu-id="0528b-206">You may need to stagger the startup process of multiple apps.</span></span>

### <a name="5025-process-failure"></a><span data-ttu-id="0528b-207">Échec de processus 502.5</span><span class="sxs-lookup"><span data-stu-id="0528b-207">502.5 Process Failure</span></span>

<span data-ttu-id="0528b-208">Le processus de travail échoue.</span><span class="sxs-lookup"><span data-stu-id="0528b-208">The worker process fails.</span></span> <span data-ttu-id="0528b-209">L’application ne démarre pas.</span><span class="sxs-lookup"><span data-stu-id="0528b-209">The app doesn't start.</span></span>

<span data-ttu-id="0528b-210">Le [module ASP.NET Core](xref:host-and-deploy/aspnet-core-module) tente, en vain, de démarrer le processus de travail.</span><span class="sxs-lookup"><span data-stu-id="0528b-210">The [ASP.NET Core Module](xref:host-and-deploy/aspnet-core-module) attempts to start the worker process but it fails to start.</span></span> <span data-ttu-id="0528b-211">La cause d’un échec de démarrage d’un processus peut généralement être déterminée à partir des entrées dans le journal des événements d’application et le journal stdout du module ASP.NET Core.</span><span class="sxs-lookup"><span data-stu-id="0528b-211">The cause of a process startup failure can usually be determined from entries in the Application Event Log and the ASP.NET Core Module stdout log.</span></span>

<span data-ttu-id="0528b-212">Une condition d’échec courante est une application mal configurée qui cible une version du framework partagé ASP.NET Core non présente.</span><span class="sxs-lookup"><span data-stu-id="0528b-212">A common failure condition is the app is misconfigured due to targeting a version of the ASP.NET Core shared framework that isn't present.</span></span> <span data-ttu-id="0528b-213">Vérifiez les versions du framework partagé ASP.NET Core qui sont installées sur l’ordinateur cible.</span><span class="sxs-lookup"><span data-stu-id="0528b-213">Check which versions of the ASP.NET Core shared framework are installed on the target machine.</span></span> <span data-ttu-id="0528b-214">Le *framework partagé* est le jeu d’assemblys (fichiers *.dll*) qui sont installés sur l’ordinateur et référencés par un métapaquet comme `Microsoft.AspNetCore.App`.</span><span class="sxs-lookup"><span data-stu-id="0528b-214">The *shared framework* is the set of assemblies (*.dll* files) that are installed on the machine and referenced by a metapackage such as `Microsoft.AspNetCore.App`.</span></span> <span data-ttu-id="0528b-215">La référence de métapaquet peut spécifier une version minimale requise.</span><span class="sxs-lookup"><span data-stu-id="0528b-215">The metapackage reference can specify a minimum required version.</span></span> <span data-ttu-id="0528b-216">Pour plus d’informations, consultez [Le framework partagé](https://natemcmaster.com/blog/2018/08/29/netcore-primitives-2/).</span><span class="sxs-lookup"><span data-stu-id="0528b-216">For more information, see [The shared framework](https://natemcmaster.com/blog/2018/08/29/netcore-primitives-2/).</span></span>

<span data-ttu-id="0528b-217">La page d’erreur d’un *échec de processus 502.5* est retournée quand une erreur de configuration d’hébergement ou d’application entraîne l’échec du processus de travail :</span><span class="sxs-lookup"><span data-stu-id="0528b-217">The *502.5 Process Failure* error page is returned when a hosting or app misconfiguration causes the worker process to fail:</span></span>

### <a name="failed-to-start-application-errorcode-0x800700c1"></a><span data-ttu-id="0528b-218">Échec du démarrage de l’application (code d’erreur « 0x800700c1 »)</span><span class="sxs-lookup"><span data-stu-id="0528b-218">Failed to start application (ErrorCode '0x800700c1')</span></span>

```
EventID: 1010
Source: IIS AspNetCore Module V2
Failed to start application '/LM/W3SVC/6/ROOT/', ErrorCode '0x800700c1'.
```

<span data-ttu-id="0528b-219">L’application n’a pas pu démarrer, car l’assembly de l’application ( *.dll*) n’a pas pu être chargé.</span><span class="sxs-lookup"><span data-stu-id="0528b-219">The app failed to start because the app's assembly (*.dll*) couldn't be loaded.</span></span>

<span data-ttu-id="0528b-220">Cette erreur se produit lorsqu’il existe une incompatibilité au niveau du nombre de bits entre l’application publiée et le processus w3wp/iisexpress.</span><span class="sxs-lookup"><span data-stu-id="0528b-220">This error occurs when there's a bitness mismatch between the published app and the w3wp/iisexpress process.</span></span>

<span data-ttu-id="0528b-221">Vérifiez que le paramètre 32 bits du pool d’applications est correct :</span><span class="sxs-lookup"><span data-stu-id="0528b-221">Confirm that the app pool's 32-bit setting is correct:</span></span>

1. <span data-ttu-id="0528b-222">Sélectionnez le pool d’applications parmi les **Pools d’applications** IIS Manager.</span><span class="sxs-lookup"><span data-stu-id="0528b-222">Select the app pool in IIS Manager's **Application Pools**.</span></span>
1. <span data-ttu-id="0528b-223">Sélectionnez **Paramètres avancés** sous **Modifier le pool d’applications** dans le volet **Actions**.</span><span class="sxs-lookup"><span data-stu-id="0528b-223">Select **Advanced Settings** under **Edit Application Pool** in the **Actions** panel.</span></span>
1. <span data-ttu-id="0528b-224">Définissez **Activer les applications 32 bits** :</span><span class="sxs-lookup"><span data-stu-id="0528b-224">Set **Enable 32-Bit Applications**:</span></span>
   * <span data-ttu-id="0528b-225">Si vous déployez une application 32 bits (x86), définissez la valeur sur `True`.</span><span class="sxs-lookup"><span data-stu-id="0528b-225">If deploying a 32-bit (x86) app, set the value to `True`.</span></span>
   * <span data-ttu-id="0528b-226">Si vous déployez une application 64 bits (x64), définissez la valeur sur `False`.</span><span class="sxs-lookup"><span data-stu-id="0528b-226">If deploying a 64-bit (x64) app, set the value to `False`.</span></span>

<span data-ttu-id="0528b-227">Confirmez qu’il n’existe pas de conflit entre une `<Platform>` propriété MSBuild dans le fichier projet et le nombre de bits publié de l’application.</span><span class="sxs-lookup"><span data-stu-id="0528b-227">Confirm that there isn't a conflict between a `<Platform>` MSBuild property in the project file and the published bitness of the app.</span></span>

### <a name="connection-reset"></a><span data-ttu-id="0528b-228">Réinitialisation de la connexion</span><span class="sxs-lookup"><span data-stu-id="0528b-228">Connection reset</span></span>

<span data-ttu-id="0528b-229">Si une erreur se produit après l’envoi des en-têtes, il est trop tard pour que le serveur puisse envoyer une **erreur de serveur interne 500**.</span><span class="sxs-lookup"><span data-stu-id="0528b-229">If an error occurs after the headers are sent, it's too late for the server to send a **500 Internal Server Error** when an error occurs.</span></span> <span data-ttu-id="0528b-230">C’est souvent le cas quand une erreur se produit pendant la sérialisation des objets complexes d’une réponse.</span><span class="sxs-lookup"><span data-stu-id="0528b-230">This often happens when an error occurs during the serialization of complex objects for a response.</span></span> <span data-ttu-id="0528b-231">Ce type d’erreur apparaît en tant qu’erreur de *réinitialisation de la connexion* sur le client.</span><span class="sxs-lookup"><span data-stu-id="0528b-231">This type of error appears as a *connection reset* error on the client.</span></span> <span data-ttu-id="0528b-232">La [journalisation des applications](xref:fundamentals/logging/index) peut aider à le résoudre.</span><span class="sxs-lookup"><span data-stu-id="0528b-232">[Application logging](xref:fundamentals/logging/index) can help troubleshoot these types of errors.</span></span>

### <a name="default-startup-limits"></a><span data-ttu-id="0528b-233">Limites de démarrage par défaut</span><span class="sxs-lookup"><span data-stu-id="0528b-233">Default startup limits</span></span>

<span data-ttu-id="0528b-234">Le [Module ASP.net Core](xref:host-and-deploy/aspnet-core-module) est configuré avec un *startupTimeLimit* par défaut de 120 secondes.</span><span class="sxs-lookup"><span data-stu-id="0528b-234">The [ASP.NET Core Module](xref:host-and-deploy/aspnet-core-module) is configured with a default *startupTimeLimit* of 120 seconds.</span></span> <span data-ttu-id="0528b-235">Quand cette valeur par défaut est conservée, une application peut mettre jusqu’à deux minutes à démarrer avant que le module ne consigne un échec de processus.</span><span class="sxs-lookup"><span data-stu-id="0528b-235">When left at the default value, an app may take up to two minutes to start before the module logs a process failure.</span></span> <span data-ttu-id="0528b-236">Pour plus d’informations sur la configuration du module, voir [Attributs de l’élément aspNetCore](xref:host-and-deploy/aspnet-core-module#attributes-of-the-aspnetcore-element).</span><span class="sxs-lookup"><span data-stu-id="0528b-236">For information on configuring the module, see [Attributes of the aspNetCore element](xref:host-and-deploy/aspnet-core-module#attributes-of-the-aspnetcore-element).</span></span>

## <a name="troubleshoot-on-azure-app-service"></a><span data-ttu-id="0528b-237">Résoudre les problèmes sur Azure App Service</span><span class="sxs-lookup"><span data-stu-id="0528b-237">Troubleshoot on Azure App Service</span></span>

[!INCLUDE [Azure App Service Preview Notice](~/includes/azure-apps-preview-notice.md)]

### <a name="application-event-log-azure-app-service"></a><span data-ttu-id="0528b-238">Journal des événements d’application (Azure App Service)</span><span class="sxs-lookup"><span data-stu-id="0528b-238">Application Event Log (Azure App Service)</span></span>

<span data-ttu-id="0528b-239">Pour accéder au Journal des événements de l’application, utilisez le panneau **Diagnostiquer et résoudre les problèmes** du Portail Azure :</span><span class="sxs-lookup"><span data-stu-id="0528b-239">To access the Application Event Log, use the **Diagnose and solve problems** blade in the Azure portal:</span></span>

1. <span data-ttu-id="0528b-240">Dans le Portail Azure, ouvrez l’application dans **App Services**.</span><span class="sxs-lookup"><span data-stu-id="0528b-240">In the Azure portal, open the app in **App Services**.</span></span>
1. <span data-ttu-id="0528b-241">Sélectionnez **Diagnostiquer et résoudre les problèmes**.</span><span class="sxs-lookup"><span data-stu-id="0528b-241">Select **Diagnose and solve problems**.</span></span>
1. <span data-ttu-id="0528b-242">Sélectionnez le titre **Outils de diagnostic**.</span><span class="sxs-lookup"><span data-stu-id="0528b-242">Select the **Diagnostic Tools** heading.</span></span>
1. <span data-ttu-id="0528b-243">Sous **Outils de support**, sélectionnez le bouton **Événements d’application**.</span><span class="sxs-lookup"><span data-stu-id="0528b-243">Under **Support Tools**, select the **Application Events** button.</span></span>
1. <span data-ttu-id="0528b-244">Examinez la dernière erreur fournie par l’entrée *IIS AspNetCoreModule* ou *IIS AspNetCoreModule V2* dans la colonne **Source**.</span><span class="sxs-lookup"><span data-stu-id="0528b-244">Examine the latest error provided by the *IIS AspNetCoreModule* or *IIS AspNetCoreModule V2* entry in the **Source** column.</span></span>

<span data-ttu-id="0528b-245">En dehors de la solution consistant à utiliser le panneau **Diagnostiquer et résoudre les problèmes**, vous pouvez examiner directement le fichier Journal des événements de l’application avec [Kudu](https://github.com/projectkudu/kudu/wiki) :</span><span class="sxs-lookup"><span data-stu-id="0528b-245">An alternative to using the **Diagnose and solve problems** blade is to examine the Application Event Log file directly using [Kudu](https://github.com/projectkudu/kudu/wiki):</span></span>

1. <span data-ttu-id="0528b-246">Ouvrez les **Outils avancés** dans la zone **Outils de développement**.</span><span class="sxs-lookup"><span data-stu-id="0528b-246">Open **Advanced Tools** in the **Development Tools** area.</span></span> <span data-ttu-id="0528b-247">Sélectionnez le bouton **Atteindre&rarr;** .</span><span class="sxs-lookup"><span data-stu-id="0528b-247">Select the **Go&rarr;** button.</span></span> <span data-ttu-id="0528b-248">La console Kudu s’ouvre dans un nouvel onglet ou une nouvelle fenêtre du navigateur.</span><span class="sxs-lookup"><span data-stu-id="0528b-248">The Kudu console opens in a new browser tab or window.</span></span>
1. <span data-ttu-id="0528b-249">Dans la barre de navigation en haut de la page, ouvrez **Console de débogage** et sélectionnez **CMD**.</span><span class="sxs-lookup"><span data-stu-id="0528b-249">Using the navigation bar at the top of the page, open **Debug console** and select **CMD**.</span></span>
1. <span data-ttu-id="0528b-250">Ouvrez le fichier **LogFiles** .</span><span class="sxs-lookup"><span data-stu-id="0528b-250">Open the **LogFiles** folder.</span></span>
1. <span data-ttu-id="0528b-251">Sélectionnez l’icône en forme de crayon à côté du fichier *eventlog.xml*.</span><span class="sxs-lookup"><span data-stu-id="0528b-251">Select the pencil icon next to the *eventlog.xml* file.</span></span>
1. <span data-ttu-id="0528b-252">Examinez le journal.</span><span class="sxs-lookup"><span data-stu-id="0528b-252">Examine the log.</span></span> <span data-ttu-id="0528b-253">Allez en bas du journal pour voir les événements les plus récents.</span><span class="sxs-lookup"><span data-stu-id="0528b-253">Scroll to the bottom of the log to see the most recent events.</span></span>

### <a name="run-the-app-in-the-kudu-console"></a><span data-ttu-id="0528b-254">Exécuter l’application dans la console Kudu</span><span class="sxs-lookup"><span data-stu-id="0528b-254">Run the app in the Kudu console</span></span>

<span data-ttu-id="0528b-255">De nombreuses erreurs de démarrage ne produisent pas d’informations utiles dans le Journal des événements de l’application.</span><span class="sxs-lookup"><span data-stu-id="0528b-255">Many startup errors don't produce useful information in the Application Event Log.</span></span> <span data-ttu-id="0528b-256">Vous pouvez exécuter l’application dans la console d’exécution à distance [Kudu](https://github.com/projectkudu/kudu/wiki) pour détecter l’erreur :</span><span class="sxs-lookup"><span data-stu-id="0528b-256">You can run the app in the [Kudu](https://github.com/projectkudu/kudu/wiki) Remote Execution Console to discover the error:</span></span>

1. <span data-ttu-id="0528b-257">Ouvrez les **Outils avancés** dans la zone **Outils de développement**.</span><span class="sxs-lookup"><span data-stu-id="0528b-257">Open **Advanced Tools** in the **Development Tools** area.</span></span> <span data-ttu-id="0528b-258">Sélectionnez le bouton **Atteindre&rarr;** .</span><span class="sxs-lookup"><span data-stu-id="0528b-258">Select the **Go&rarr;** button.</span></span> <span data-ttu-id="0528b-259">La console Kudu s’ouvre dans un nouvel onglet ou une nouvelle fenêtre du navigateur.</span><span class="sxs-lookup"><span data-stu-id="0528b-259">The Kudu console opens in a new browser tab or window.</span></span>
1. <span data-ttu-id="0528b-260">Dans la barre de navigation en haut de la page, ouvrez **Console de débogage** et sélectionnez **CMD**.</span><span class="sxs-lookup"><span data-stu-id="0528b-260">Using the navigation bar at the top of the page, open **Debug console** and select **CMD**.</span></span>

#### <a name="test-a-32-bit-x86-app"></a><span data-ttu-id="0528b-261">Tester une application 32 bits (x86)</span><span class="sxs-lookup"><span data-stu-id="0528b-261">Test a 32-bit (x86) app</span></span>

<span data-ttu-id="0528b-262">**Version actuelle**</span><span class="sxs-lookup"><span data-stu-id="0528b-262">**Current release**</span></span>

1. `cd d:\home\site\wwwroot`
1. <span data-ttu-id="0528b-263">Exécutez l’application :</span><span class="sxs-lookup"><span data-stu-id="0528b-263">Run the app:</span></span>
   * <span data-ttu-id="0528b-264">Si l’application est un [déploiement dépendant du framework](/dotnet/core/deploying/#framework-dependent-deployments-fdd) :</span><span class="sxs-lookup"><span data-stu-id="0528b-264">If the app is a [framework-dependent deployment](/dotnet/core/deploying/#framework-dependent-deployments-fdd):</span></span>

     ```dotnetcli
     dotnet .\{ASSEMBLY NAME}.dll
     ```

   * <span data-ttu-id="0528b-265">Si l’application est un [déploiement autonome](/dotnet/core/deploying/#self-contained-deployments-scd) :</span><span class="sxs-lookup"><span data-stu-id="0528b-265">If the app is a [self-contained deployment](/dotnet/core/deploying/#self-contained-deployments-scd):</span></span>

     ```console
     {ASSEMBLY NAME}.exe
     ```

<span data-ttu-id="0528b-266">La sortie de console de l’application, affichant toutes les erreurs éventuelles, est transmise à la console Kudu.</span><span class="sxs-lookup"><span data-stu-id="0528b-266">The console output from the app, showing any errors, is piped to the Kudu console.</span></span>

<span data-ttu-id="0528b-267">**Déploiement dépendant du Framework s’exécutant sur une version préliminaire**</span><span class="sxs-lookup"><span data-stu-id="0528b-267">**Framework-dependent deployment running on a preview release**</span></span>

<span data-ttu-id="0528b-268">*Installation de l’extension de site du runtime ASP.NET Core {VERSION} (x86) requise.*</span><span class="sxs-lookup"><span data-stu-id="0528b-268">*Requires installing the ASP.NET Core {VERSION} (x86) Runtime site extension.*</span></span>

1. <span data-ttu-id="0528b-269">`cd D:\home\SiteExtensions\AspNetCoreRuntime.{X.Y}.x32` (`{X.Y}` est la version du runtime).</span><span class="sxs-lookup"><span data-stu-id="0528b-269">`cd D:\home\SiteExtensions\AspNetCoreRuntime.{X.Y}.x32` (`{X.Y}` is the runtime version)</span></span>
1. <span data-ttu-id="0528b-270">Exécutez l'application : `dotnet \home\site\wwwroot\{ASSEMBLY NAME}.dll`.</span><span class="sxs-lookup"><span data-stu-id="0528b-270">Run the app: `dotnet \home\site\wwwroot\{ASSEMBLY NAME}.dll`</span></span>

<span data-ttu-id="0528b-271">La sortie de console de l’application, affichant toutes les erreurs éventuelles, est transmise à la console Kudu.</span><span class="sxs-lookup"><span data-stu-id="0528b-271">The console output from the app, showing any errors, is piped to the Kudu console.</span></span>

#### <a name="test-a-64-bit-x64-app"></a><span data-ttu-id="0528b-272">Tester une application 64 bits (x64)</span><span class="sxs-lookup"><span data-stu-id="0528b-272">Test a 64-bit (x64) app</span></span>

<span data-ttu-id="0528b-273">**Version actuelle**</span><span class="sxs-lookup"><span data-stu-id="0528b-273">**Current release**</span></span>

* <span data-ttu-id="0528b-274">Si l’application est un [déploiement dépendant du framework](/dotnet/core/deploying/#framework-dependent-deployments-fdd) 64 bits (x64) :</span><span class="sxs-lookup"><span data-stu-id="0528b-274">If the app is a 64-bit (x64) [framework-dependent deployment](/dotnet/core/deploying/#framework-dependent-deployments-fdd):</span></span>
  1. `cd D:\Program Files\dotnet`
  1. <span data-ttu-id="0528b-275">Exécutez l'application : `dotnet \home\site\wwwroot\{ASSEMBLY NAME}.dll`.</span><span class="sxs-lookup"><span data-stu-id="0528b-275">Run the app: `dotnet \home\site\wwwroot\{ASSEMBLY NAME}.dll`</span></span>
* <span data-ttu-id="0528b-276">Si l’application est un [déploiement autonome](/dotnet/core/deploying/#self-contained-deployments-scd) :</span><span class="sxs-lookup"><span data-stu-id="0528b-276">If the app is a [self-contained deployment](/dotnet/core/deploying/#self-contained-deployments-scd):</span></span>
  1. `cd D:\home\site\wwwroot`
  1. <span data-ttu-id="0528b-277">Exécutez l'application : `{ASSEMBLY NAME}.exe`.</span><span class="sxs-lookup"><span data-stu-id="0528b-277">Run the app: `{ASSEMBLY NAME}.exe`</span></span>

<span data-ttu-id="0528b-278">La sortie de console de l’application, affichant toutes les erreurs éventuelles, est transmise à la console Kudu.</span><span class="sxs-lookup"><span data-stu-id="0528b-278">The console output from the app, showing any errors, is piped to the Kudu console.</span></span>

<span data-ttu-id="0528b-279">**Déploiement dépendant du Framework s’exécutant sur une version préliminaire**</span><span class="sxs-lookup"><span data-stu-id="0528b-279">**Framework-dependent deployment running on a preview release**</span></span>

<span data-ttu-id="0528b-280">*Installation de l’extension de site du runtime ASP.NET Core {VERSION} (x64) requise.*</span><span class="sxs-lookup"><span data-stu-id="0528b-280">*Requires installing the ASP.NET Core {VERSION} (x64) Runtime site extension.*</span></span>

1. <span data-ttu-id="0528b-281">`cd D:\home\SiteExtensions\AspNetCoreRuntime.{X.Y}.x64` (`{X.Y}` est la version du runtime).</span><span class="sxs-lookup"><span data-stu-id="0528b-281">`cd D:\home\SiteExtensions\AspNetCoreRuntime.{X.Y}.x64` (`{X.Y}` is the runtime version)</span></span>
1. <span data-ttu-id="0528b-282">Exécutez l'application : `dotnet \home\site\wwwroot\{ASSEMBLY NAME}.dll`.</span><span class="sxs-lookup"><span data-stu-id="0528b-282">Run the app: `dotnet \home\site\wwwroot\{ASSEMBLY NAME}.dll`</span></span>

<span data-ttu-id="0528b-283">La sortie de console de l’application, affichant toutes les erreurs éventuelles, est transmise à la console Kudu.</span><span class="sxs-lookup"><span data-stu-id="0528b-283">The console output from the app, showing any errors, is piped to the Kudu console.</span></span>

### <a name="aspnet-core-module-stdout-log-azure-app-service"></a><span data-ttu-id="0528b-284">Journal stdout du module ASP.NET Core (Azure App Service)</span><span class="sxs-lookup"><span data-stu-id="0528b-284">ASP.NET Core Module stdout log (Azure App Service)</span></span>

<span data-ttu-id="0528b-285">Le journal stdout du module ASP.NET Core enregistre souvent des messages d’erreur utiles et absents du Journal des événements de l’application.</span><span class="sxs-lookup"><span data-stu-id="0528b-285">The ASP.NET Core Module stdout log often records useful error messages not found in the Application Event Log.</span></span> <span data-ttu-id="0528b-286">Pour activer et afficher les journaux stdout :</span><span class="sxs-lookup"><span data-stu-id="0528b-286">To enable and view stdout logs:</span></span>

1. <span data-ttu-id="0528b-287">Accédez au panneau **Diagnostiquer et résoudre les problèmes** du Portail Azure.</span><span class="sxs-lookup"><span data-stu-id="0528b-287">Navigate to the **Diagnose and solve problems** blade in the Azure portal.</span></span>
1. <span data-ttu-id="0528b-288">Sous **SÉLECTIONNER UNE CATÉGORIE DE PROBLÈME**, sélectionnez le bouton **Application web en panne**.</span><span class="sxs-lookup"><span data-stu-id="0528b-288">Under **SELECT PROBLEM CATEGORY**, select the **Web App Down** button.</span></span>
1. <span data-ttu-id="0528b-289">Sous **solutions suggérées** > **activer la redirection de journal stdout**, cliquez sur le bouton pour **ouvrir la console Kudu afin de modifier le fichier Web. config**.</span><span class="sxs-lookup"><span data-stu-id="0528b-289">Under **Suggested Solutions** > **Enable Stdout Log Redirection**, select the button to **Open Kudu Console to edit Web.Config**.</span></span>
1. <span data-ttu-id="0528b-290">Dans la **Console de diagnostic** Kudu, ouvrez les dossiers sur le chemin d’accès **site** > **wwwroot**.</span><span class="sxs-lookup"><span data-stu-id="0528b-290">In the Kudu **Diagnostic Console**, open the folders to the path **site** > **wwwroot**.</span></span> <span data-ttu-id="0528b-291">Faites défiler la page jusqu’à révéler le fichier *web.config* en bas de la liste.</span><span class="sxs-lookup"><span data-stu-id="0528b-291">Scroll down to reveal the *web.config* file at the bottom of the list.</span></span>
1. <span data-ttu-id="0528b-292">Cliquez sur l’icône en forme de crayon à côté du fichier *web.config*.</span><span class="sxs-lookup"><span data-stu-id="0528b-292">Click the pencil icon next to the *web.config* file.</span></span>
1. <span data-ttu-id="0528b-293">Définissez **stdoutLogEnabled** sur `true` et remplacez le chemin **stdoutLogFile** par : `\\?\%home%\LogFiles\stdout`.</span><span class="sxs-lookup"><span data-stu-id="0528b-293">Set **stdoutLogEnabled** to `true` and change the **stdoutLogFile** path to: `\\?\%home%\LogFiles\stdout`.</span></span>
1. <span data-ttu-id="0528b-294">Sélectionnez **Enregistrer** pour enregistrer le fichier *web.config* mis à jour.</span><span class="sxs-lookup"><span data-stu-id="0528b-294">Select **Save** to save the updated *web.config* file.</span></span>
1. <span data-ttu-id="0528b-295">Adressez une demande à l’application.</span><span class="sxs-lookup"><span data-stu-id="0528b-295">Make a request to the app.</span></span>
1. <span data-ttu-id="0528b-296">Revenez au Portail Azure.</span><span class="sxs-lookup"><span data-stu-id="0528b-296">Return to the Azure portal.</span></span> <span data-ttu-id="0528b-297">Sélectionnez le panneau **Outils avancés** dans la zone **OUTILS DE DÉVELOPPEMENT**.</span><span class="sxs-lookup"><span data-stu-id="0528b-297">Select the **Advanced Tools** blade in the **DEVELOPMENT TOOLS** area.</span></span> <span data-ttu-id="0528b-298">Sélectionnez le bouton **Atteindre&rarr;** .</span><span class="sxs-lookup"><span data-stu-id="0528b-298">Select the **Go&rarr;** button.</span></span> <span data-ttu-id="0528b-299">La console Kudu s’ouvre dans un nouvel onglet ou une nouvelle fenêtre du navigateur.</span><span class="sxs-lookup"><span data-stu-id="0528b-299">The Kudu console opens in a new browser tab or window.</span></span>
1. <span data-ttu-id="0528b-300">Dans la barre de navigation en haut de la page, ouvrez **Console de débogage** et sélectionnez **CMD**.</span><span class="sxs-lookup"><span data-stu-id="0528b-300">Using the navigation bar at the top of the page, open **Debug console** and select **CMD**.</span></span>
1. <span data-ttu-id="0528b-301">Sélectionnez le dossier **LogFiles**.</span><span class="sxs-lookup"><span data-stu-id="0528b-301">Select the **LogFiles** folder.</span></span>
1. <span data-ttu-id="0528b-302">Inspectez la colonne **Modifié** et sélectionnez l’icône en forme de crayon pour modifier le journal stdout avec la date de dernière modification.</span><span class="sxs-lookup"><span data-stu-id="0528b-302">Inspect the **Modified** column and select the pencil icon to edit the stdout log with the latest modification date.</span></span>
1. <span data-ttu-id="0528b-303">Lorsque le fichier journal s’ouvre, l’erreur s’affiche.</span><span class="sxs-lookup"><span data-stu-id="0528b-303">When the log file opens, the error is displayed.</span></span>

<span data-ttu-id="0528b-304">Désactivez la journalisation stdout, une fois les problèmes résolus :</span><span class="sxs-lookup"><span data-stu-id="0528b-304">Disable stdout logging when troubleshooting is complete:</span></span>

1. <span data-ttu-id="0528b-305">Dans la **Console de diagnostic** Kudu, revenez au chemin d’accès **site** > **wwwroot** pour faire apparaître le fichier *web.config*.</span><span class="sxs-lookup"><span data-stu-id="0528b-305">In the Kudu **Diagnostic Console**, return to the path **site** > **wwwroot** to reveal the *web.config* file.</span></span> <span data-ttu-id="0528b-306">Ouvrez à nouveau le fichier **web.config** en sélectionnant l’icône en forme de crayon.</span><span class="sxs-lookup"><span data-stu-id="0528b-306">Open the **web.config** file again by selecting the pencil icon.</span></span>
1. <span data-ttu-id="0528b-307">Définissez **stdoutLogEnabled** sur `false`.</span><span class="sxs-lookup"><span data-stu-id="0528b-307">Set **stdoutLogEnabled** to `false`.</span></span>
1. <span data-ttu-id="0528b-308">Sélectionnez **Enregistrer** pour enregistrer le fichier.</span><span class="sxs-lookup"><span data-stu-id="0528b-308">Select **Save** to save the file.</span></span>

<span data-ttu-id="0528b-309">Pour plus d’informations, consultez <xref:host-and-deploy/aspnet-core-module#log-creation-and-redirection>.</span><span class="sxs-lookup"><span data-stu-id="0528b-309">For more information, see <xref:host-and-deploy/aspnet-core-module#log-creation-and-redirection>.</span></span>

> [!WARNING]
> <span data-ttu-id="0528b-310">Si vous ne désactivez pas le journal stdout, l’application ou le serveur risque d’échouer.</span><span class="sxs-lookup"><span data-stu-id="0528b-310">Failure to disable the stdout log can lead to app or server failure.</span></span> <span data-ttu-id="0528b-311">Il n’existe aucune limite quant à la taille du fichier journal ou au nombre de fichiers journaux créés.</span><span class="sxs-lookup"><span data-stu-id="0528b-311">There's no limit on log file size or the number of log files created.</span></span> <span data-ttu-id="0528b-312">N’utilisez la journalisation stdout que pour résoudre les problèmes de démarrage de l’application.</span><span class="sxs-lookup"><span data-stu-id="0528b-312">Only use stdout logging to troubleshoot app startup problems.</span></span>
>
> <span data-ttu-id="0528b-313">Pour la journalisation générale dans une application ASP.NET Core après le démarrage, utilisez une bibliothèque de journalisation qui limite la taille du fichier journal et applique une rotation aux journaux.</span><span class="sxs-lookup"><span data-stu-id="0528b-313">For general logging in an ASP.NET Core app after startup, use a logging library that limits log file size and rotates logs.</span></span> <span data-ttu-id="0528b-314">Pour plus d’informations, voir [Fournisseurs de journalisation tiers](xref:fundamentals/logging/index#third-party-logging-providers).</span><span class="sxs-lookup"><span data-stu-id="0528b-314">For more information, see [third-party logging providers](xref:fundamentals/logging/index#third-party-logging-providers).</span></span>

### <a name="aspnet-core-module-debug-log-azure-app-service"></a><span data-ttu-id="0528b-315">Journal de débogage du module ASP.NET Core (Azure App Service)</span><span class="sxs-lookup"><span data-stu-id="0528b-315">ASP.NET Core Module debug log (Azure App Service)</span></span>

<span data-ttu-id="0528b-316">Le journal de débogage du module ASP.NET Core fournit une journalisation supplémentaire, plus approfondie, à partir du module ASP.NET Core.</span><span class="sxs-lookup"><span data-stu-id="0528b-316">The ASP.NET Core Module debug log provides additional, deeper logging from the ASP.NET Core Module.</span></span> <span data-ttu-id="0528b-317">Pour activer et afficher les journaux stdout :</span><span class="sxs-lookup"><span data-stu-id="0528b-317">To enable and view stdout logs:</span></span>

1. <span data-ttu-id="0528b-318">Pour activer le journal de diagnostic amélioré, effectuez l’une des opérations suivantes :</span><span class="sxs-lookup"><span data-stu-id="0528b-318">To enable the enhanced diagnostic log, perform either of the following:</span></span>
   * <span data-ttu-id="0528b-319">Suivez les instructions indiquées dans [Journaux de diagnostic améliorés](xref:host-and-deploy/aspnet-core-module#enhanced-diagnostic-logs) afin de configurer l’application pour une journalisation des diagnostics améliorée.</span><span class="sxs-lookup"><span data-stu-id="0528b-319">Follow the instructions in [Enhanced diagnostic logs](xref:host-and-deploy/aspnet-core-module#enhanced-diagnostic-logs) to configure the app for an enhanced diagnostic logging.</span></span> <span data-ttu-id="0528b-320">Redéployez l’application.</span><span class="sxs-lookup"><span data-stu-id="0528b-320">Redeploy the app.</span></span>
   * <span data-ttu-id="0528b-321">Ajoutez le `<handlerSettings>` présenté dans [Journaux de diagnostic améliorés](xref:host-and-deploy/aspnet-core-module#enhanced-diagnostic-logs) au fichier *web.config* de l’application en production à l’aide de la console Kudu :</span><span class="sxs-lookup"><span data-stu-id="0528b-321">Add the `<handlerSettings>` shown in [Enhanced diagnostic logs](xref:host-and-deploy/aspnet-core-module#enhanced-diagnostic-logs) to the live app's *web.config* file using the Kudu console:</span></span>
     1. <span data-ttu-id="0528b-322">Ouvrez les **Outils avancés** dans la zone **Outils de développement**.</span><span class="sxs-lookup"><span data-stu-id="0528b-322">Open **Advanced Tools** in the **Development Tools** area.</span></span> <span data-ttu-id="0528b-323">Sélectionnez le bouton **Atteindre&rarr;** .</span><span class="sxs-lookup"><span data-stu-id="0528b-323">Select the **Go&rarr;** button.</span></span> <span data-ttu-id="0528b-324">La console Kudu s’ouvre dans un nouvel onglet ou une nouvelle fenêtre du navigateur.</span><span class="sxs-lookup"><span data-stu-id="0528b-324">The Kudu console opens in a new browser tab or window.</span></span>
     1. <span data-ttu-id="0528b-325">Dans la barre de navigation en haut de la page, ouvrez **Console de débogage** et sélectionnez **CMD**.</span><span class="sxs-lookup"><span data-stu-id="0528b-325">Using the navigation bar at the top of the page, open **Debug console** and select **CMD**.</span></span>
     1. <span data-ttu-id="0528b-326">Ouvrez les dossiers sur le chemin d’accès **site** > **wwwroot**.</span><span class="sxs-lookup"><span data-stu-id="0528b-326">Open the folders to the path **site** > **wwwroot**.</span></span> <span data-ttu-id="0528b-327">Modifiez le fichier *web.config* en sélectionnant le bouton représentant un crayon.</span><span class="sxs-lookup"><span data-stu-id="0528b-327">Edit the *web.config* file by selecting the pencil button.</span></span> <span data-ttu-id="0528b-328">Ajoutez la section `<handlerSettings>` comme indiqué dans [Journaux de diagnostic améliorés](xref:host-and-deploy/aspnet-core-module#enhanced-diagnostic-logs).</span><span class="sxs-lookup"><span data-stu-id="0528b-328">Add the `<handlerSettings>` section as shown in [Enhanced diagnostic logs](xref:host-and-deploy/aspnet-core-module#enhanced-diagnostic-logs).</span></span> <span data-ttu-id="0528b-329">Sélectionnez le bouton **Enregistrer**.</span><span class="sxs-lookup"><span data-stu-id="0528b-329">Select the **Save** button.</span></span>
1. <span data-ttu-id="0528b-330">Ouvrez les **Outils avancés** dans la zone **Outils de développement**.</span><span class="sxs-lookup"><span data-stu-id="0528b-330">Open **Advanced Tools** in the **Development Tools** area.</span></span> <span data-ttu-id="0528b-331">Sélectionnez le bouton **Atteindre&rarr;** .</span><span class="sxs-lookup"><span data-stu-id="0528b-331">Select the **Go&rarr;** button.</span></span> <span data-ttu-id="0528b-332">La console Kudu s’ouvre dans un nouvel onglet ou une nouvelle fenêtre du navigateur.</span><span class="sxs-lookup"><span data-stu-id="0528b-332">The Kudu console opens in a new browser tab or window.</span></span>
1. <span data-ttu-id="0528b-333">Dans la barre de navigation en haut de la page, ouvrez **Console de débogage** et sélectionnez **CMD**.</span><span class="sxs-lookup"><span data-stu-id="0528b-333">Using the navigation bar at the top of the page, open **Debug console** and select **CMD**.</span></span>
1. <span data-ttu-id="0528b-334">Ouvrez les dossiers sur le chemin d’accès **site** > **wwwroot**.</span><span class="sxs-lookup"><span data-stu-id="0528b-334">Open the folders to the path **site** > **wwwroot**.</span></span> <span data-ttu-id="0528b-335">Si vous n’avez pas indiqué de chemin pour le fichier *aspnetcore-debug.log*, le fichier apparaît dans la liste.</span><span class="sxs-lookup"><span data-stu-id="0528b-335">If you didn't supply a path for the *aspnetcore-debug.log* file, the file appears in the list.</span></span> <span data-ttu-id="0528b-336">Si vous avez indiqué un chemin, accédez à l’emplacement du fichier journal.</span><span class="sxs-lookup"><span data-stu-id="0528b-336">If you supplied a path, navigate to the location of the log file.</span></span>
1. <span data-ttu-id="0528b-337">Ouvrez le fichier journal à l’aide du bouton représentant un crayon à côté du nom de fichier.</span><span class="sxs-lookup"><span data-stu-id="0528b-337">Open the log file with the pencil button next to the file name.</span></span>

<span data-ttu-id="0528b-338">Désactivez la journalisation du débogage, une fois la résolution des problèmes effectuée :</span><span class="sxs-lookup"><span data-stu-id="0528b-338">Disable debug logging when troubleshooting is complete:</span></span>

<span data-ttu-id="0528b-339">Pour désactiver la journalisation de débogage améliorée, effectuez l’une des opérations suivantes :</span><span class="sxs-lookup"><span data-stu-id="0528b-339">To disable the enhanced debug log, perform either of the following:</span></span>

* <span data-ttu-id="0528b-340">Supprimez `<handlerSettings>` du fichier *web.config* localement, puis redéployez l’application.</span><span class="sxs-lookup"><span data-stu-id="0528b-340">Remove the `<handlerSettings>` from the *web.config* file locally and redeploy the app.</span></span>
* <span data-ttu-id="0528b-341">Utilisez la console Kudu pour modifier le fichier *web.config* et supprimer la section `<handlerSettings>`.</span><span class="sxs-lookup"><span data-stu-id="0528b-341">Use the Kudu console to edit the *web.config* file and remove the `<handlerSettings>` section.</span></span> <span data-ttu-id="0528b-342">Enregistrez le fichier .</span><span class="sxs-lookup"><span data-stu-id="0528b-342">Save the file.</span></span>

<span data-ttu-id="0528b-343">Pour plus d’informations, consultez <xref:host-and-deploy/aspnet-core-module#enhanced-diagnostic-logs>.</span><span class="sxs-lookup"><span data-stu-id="0528b-343">For more information, see <xref:host-and-deploy/aspnet-core-module#enhanced-diagnostic-logs>.</span></span>

> [!WARNING]
> <span data-ttu-id="0528b-344">Si le journal de débogage n’est pas désactivé, cela peut entraîner une défaillance de l’application ou du serveur.</span><span class="sxs-lookup"><span data-stu-id="0528b-344">Failure to disable the debug log can lead to app or server failure.</span></span> <span data-ttu-id="0528b-345">Il n’existe aucune limite à la taille du fichier journal.</span><span class="sxs-lookup"><span data-stu-id="0528b-345">There's no limit on log file size.</span></span> <span data-ttu-id="0528b-346">Utilisez uniquement la journalisation de débogage pour résoudre les problèmes de démarrage d’application.</span><span class="sxs-lookup"><span data-stu-id="0528b-346">Only use debug logging to troubleshoot app startup problems.</span></span>
>
> <span data-ttu-id="0528b-347">Pour la journalisation générale dans une application ASP.NET Core après le démarrage, utilisez une bibliothèque de journalisation qui limite la taille du fichier journal et applique une rotation aux journaux.</span><span class="sxs-lookup"><span data-stu-id="0528b-347">For general logging in an ASP.NET Core app after startup, use a logging library that limits log file size and rotates logs.</span></span> <span data-ttu-id="0528b-348">Pour plus d’informations, voir [Fournisseurs de journalisation tiers](xref:fundamentals/logging/index#third-party-logging-providers).</span><span class="sxs-lookup"><span data-stu-id="0528b-348">For more information, see [third-party logging providers](xref:fundamentals/logging/index#third-party-logging-providers).</span></span>

### <a name="slow-or-hanging-app-azure-app-service"></a><span data-ttu-id="0528b-349">Application lente ou suspendue (Azure App Service)</span><span class="sxs-lookup"><span data-stu-id="0528b-349">Slow or hanging app (Azure App Service)</span></span>

<span data-ttu-id="0528b-350">Si une application répond lentement ou se bloque sur une requête, voir les articles suivants :</span><span class="sxs-lookup"><span data-stu-id="0528b-350">When an app responds slowly or hangs on a request, see the following articles:</span></span>

* [<span data-ttu-id="0528b-351">Résoudre les problèmes de baisse de performances d’une application web dans Azure App Service</span><span class="sxs-lookup"><span data-stu-id="0528b-351">Troubleshoot slow web app performance issues in Azure App Service</span></span>](/azure/app-service/app-service-web-troubleshoot-performance-degradation)
* [<span data-ttu-id="0528b-352">Utiliser l’extension de site Outil de diagnostic des incidents pour capturer une image mémoire des problèmes d’exception intermittente ou de performances sur Azure Web App</span><span class="sxs-lookup"><span data-stu-id="0528b-352">Use Crash Diagnoser Site Extension to Capture Dump for Intermittent Exception issues or performance issues on Azure Web App</span></span>](https://blogs.msdn.microsoft.com/asiatech/2015/12/28/use-crash-diagnoser-site-extension-to-capture-dump-for-intermittent-exception-issues-or-performance-issues-on-azure-web-app/)

### <a name="monitoring-blades"></a><span data-ttu-id="0528b-353">Panneaux Monitoring</span><span class="sxs-lookup"><span data-stu-id="0528b-353">Monitoring blades</span></span>

<span data-ttu-id="0528b-354">Les panneaux Monitoring offrent une expérience de résolution des erreurs différente des méthodes décrites précédemment dans la rubrique.</span><span class="sxs-lookup"><span data-stu-id="0528b-354">Monitoring blades provide an alternative troubleshooting experience to the methods described earlier in the topic.</span></span> <span data-ttu-id="0528b-355">Ils peuvent servir à diagnostiquer les erreurs de la série 500.</span><span class="sxs-lookup"><span data-stu-id="0528b-355">These blades can be used to diagnose 500-series errors.</span></span>

<span data-ttu-id="0528b-356">Vérifiez que les extensions ASP.NET Core sont installées.</span><span class="sxs-lookup"><span data-stu-id="0528b-356">Confirm that the ASP.NET Core Extensions are installed.</span></span> <span data-ttu-id="0528b-357">Si ce n’est pas le cas, installez-les manuellement :</span><span class="sxs-lookup"><span data-stu-id="0528b-357">If the extensions aren't installed, install them manually:</span></span>

1. <span data-ttu-id="0528b-358">Dans la section du panneau **OUTILS DE DÉVELOPPEMENT**, sélectionnez le panneau **Extensions**.</span><span class="sxs-lookup"><span data-stu-id="0528b-358">In the **DEVELOPMENT TOOLS** blade section, select the **Extensions** blade.</span></span>
1. <span data-ttu-id="0528b-359">Les **Extensions ASP.NET Core** devraient apparaître dans la liste.</span><span class="sxs-lookup"><span data-stu-id="0528b-359">The **ASP.NET Core Extensions** should appear in the list.</span></span>
1. <span data-ttu-id="0528b-360">Si les extensions ne sont pas installées, sélectionnez le bouton **Ajouter**.</span><span class="sxs-lookup"><span data-stu-id="0528b-360">If the extensions aren't installed, select the **Add** button.</span></span>
1. <span data-ttu-id="0528b-361">Choisissez les **Extensions ASP.NET Core** dans la liste.</span><span class="sxs-lookup"><span data-stu-id="0528b-361">Choose the **ASP.NET Core Extensions** from the list.</span></span>
1. <span data-ttu-id="0528b-362">Sélectionnez **OK** pour accepter les conditions légales.</span><span class="sxs-lookup"><span data-stu-id="0528b-362">Select **OK** to accept the legal terms.</span></span>
1. <span data-ttu-id="0528b-363">Sélectionnez **OK** sur le panneau **Ajouter une extension**.</span><span class="sxs-lookup"><span data-stu-id="0528b-363">Select **OK** on the **Add extension** blade.</span></span>
1. <span data-ttu-id="0528b-364">Un message contextuel d’information indique que les extensions sont bien installées.</span><span class="sxs-lookup"><span data-stu-id="0528b-364">An informational pop-up message indicates when the extensions are successfully installed.</span></span>

<span data-ttu-id="0528b-365">Si la journalisation stdout n’est pas activée, suivez les étapes ci-dessous :</span><span class="sxs-lookup"><span data-stu-id="0528b-365">If stdout logging isn't enabled, follow these steps:</span></span>

1. <span data-ttu-id="0528b-366">Sur le Portail Azure, sélectionnez le panneau **Outils avancés** dans la zone **OUTILS DE DÉVELOPPEMENT**.</span><span class="sxs-lookup"><span data-stu-id="0528b-366">In the Azure portal, select the **Advanced Tools** blade in the **DEVELOPMENT TOOLS** area.</span></span> <span data-ttu-id="0528b-367">Sélectionnez le bouton **Atteindre&rarr;** .</span><span class="sxs-lookup"><span data-stu-id="0528b-367">Select the **Go&rarr;** button.</span></span> <span data-ttu-id="0528b-368">La console Kudu s’ouvre dans un nouvel onglet ou une nouvelle fenêtre du navigateur.</span><span class="sxs-lookup"><span data-stu-id="0528b-368">The Kudu console opens in a new browser tab or window.</span></span>
1. <span data-ttu-id="0528b-369">Dans la barre de navigation en haut de la page, ouvrez **Console de débogage** et sélectionnez **CMD**.</span><span class="sxs-lookup"><span data-stu-id="0528b-369">Using the navigation bar at the top of the page, open **Debug console** and select **CMD**.</span></span>
1. <span data-ttu-id="0528b-370">Ouvrez les dossiers sur le **site** du chemin d’accès > **wwwroot** et faites défiler vers le bas pour afficher le fichier *Web. config* au bas de la liste.</span><span class="sxs-lookup"><span data-stu-id="0528b-370">Open the folders to the path **site** > **wwwroot** and scroll down to reveal the *web.config* file at the bottom of the list.</span></span>
1. <span data-ttu-id="0528b-371">Cliquez sur l’icône en forme de crayon à côté du fichier *web.config*.</span><span class="sxs-lookup"><span data-stu-id="0528b-371">Click the pencil icon next to the *web.config* file.</span></span>
1. <span data-ttu-id="0528b-372">Définissez **stdoutLogEnabled** sur `true` et remplacez le chemin **stdoutLogFile** par : `\\?\%home%\LogFiles\stdout`.</span><span class="sxs-lookup"><span data-stu-id="0528b-372">Set **stdoutLogEnabled** to `true` and change the **stdoutLogFile** path to: `\\?\%home%\LogFiles\stdout`.</span></span>
1. <span data-ttu-id="0528b-373">Sélectionnez **Enregistrer** pour enregistrer le fichier *web.config* mis à jour.</span><span class="sxs-lookup"><span data-stu-id="0528b-373">Select **Save** to save the updated *web.config* file.</span></span>

<span data-ttu-id="0528b-374">Maintenant, activez la journalisation des diagnostics :</span><span class="sxs-lookup"><span data-stu-id="0528b-374">Proceed to activate diagnostic logging:</span></span>

1. <span data-ttu-id="0528b-375">Sur le Portail Azure, sélectionnez le panneau **Journaux de diagnostic**.</span><span class="sxs-lookup"><span data-stu-id="0528b-375">In the Azure portal, select the **Diagnostics logs** blade.</span></span>
1. <span data-ttu-id="0528b-376">Basculez **Journalisation des applications (système de fichiers)** et **Messages d’erreur détaillés** sur **Activé**.</span><span class="sxs-lookup"><span data-stu-id="0528b-376">Select the **On** switch for **Application Logging (Filesystem)** and **Detailed error messages**.</span></span> <span data-ttu-id="0528b-377">Sélectionnez le bouton **Enregistrer** en haut du panneau.</span><span class="sxs-lookup"><span data-stu-id="0528b-377">Select the **Save** button at the top of the blade.</span></span>
1. <span data-ttu-id="0528b-378">Pour inclure le suivi des demandes ayant échoué, également appelé Mise en mémoire tampon des événements d’échec des demandes (FREB), basculez **Suivi des demandes ayant échoué** sur **Activé**.</span><span class="sxs-lookup"><span data-stu-id="0528b-378">To include failed request tracing, also known as Failed Request Event Buffering (FREB) logging, select the **On** switch for **Failed request tracing**.</span></span>
1. <span data-ttu-id="0528b-379">Sélectionnez le panneau **Flux du journal** situé juste sous le panneau **Journaux de diagnostic** sur le portail.</span><span class="sxs-lookup"><span data-stu-id="0528b-379">Select the **Log stream** blade, which is listed immediately under the **Diagnostics logs** blade in the portal.</span></span>
1. <span data-ttu-id="0528b-380">Adressez une demande à l’application.</span><span class="sxs-lookup"><span data-stu-id="0528b-380">Make a request to the app.</span></span>
1. <span data-ttu-id="0528b-381">La cause de l’erreur est indiquée dans les données de flux de journal.</span><span class="sxs-lookup"><span data-stu-id="0528b-381">Within the log stream data, the cause of the error is indicated.</span></span>

<span data-ttu-id="0528b-382">Veillez à désactiver la journalisation stdout une fois la résolution des problèmes effectuée.</span><span class="sxs-lookup"><span data-stu-id="0528b-382">Be sure to disable stdout logging when troubleshooting is complete.</span></span>

<span data-ttu-id="0528b-383">Pour afficher les journaux de suivi des demandes ayant échoué (journaux FREB) :</span><span class="sxs-lookup"><span data-stu-id="0528b-383">To view the failed request tracing logs (FREB logs):</span></span>

1. <span data-ttu-id="0528b-384">Accédez au panneau **Diagnostiquer et résoudre les problèmes** du Portail Azure.</span><span class="sxs-lookup"><span data-stu-id="0528b-384">Navigate to the **Diagnose and solve problems** blade in the Azure portal.</span></span>
1. <span data-ttu-id="0528b-385">Sélectionnez **Journaux de suivi des demandes ayant échoué** dans la zone **OUTILS DE PRISE EN CHARGE** de la barre latérale.</span><span class="sxs-lookup"><span data-stu-id="0528b-385">Select **Failed Request Tracing Logs** from the **SUPPORT TOOLS** area of the sidebar.</span></span>

<span data-ttu-id="0528b-386">Voir la [section Traces des demandes ayant échoué de la rubrique Activer la journalisation des diagnostics pour les applications web dans Azure App Service](/azure/app-service/web-sites-enable-diagnostic-log#failed-request-traces) et [FAQ sur les performances des applications web dans Azure : comment activer le suivi des demandes ayant échoué ?](/azure/app-service/app-service-web-availability-performance-application-issues-faq#how-do-i-turn-on-failed-request-tracing) pour plus d’informations.</span><span class="sxs-lookup"><span data-stu-id="0528b-386">See [Failed request traces section of the Enable diagnostics logging for web apps in Azure App Service topic](/azure/app-service/web-sites-enable-diagnostic-log#failed-request-traces) and the [Application performance FAQs for Web Apps in Azure: How do I turn on failed request tracing?](/azure/app-service/app-service-web-availability-performance-application-issues-faq#how-do-i-turn-on-failed-request-tracing) for more information.</span></span>

<span data-ttu-id="0528b-387">Pour plus d’informations, voir [Activer la journalisation des diagnostics pour les applications web dans Azure App Service](/azure/app-service/web-sites-enable-diagnostic-log).</span><span class="sxs-lookup"><span data-stu-id="0528b-387">For more information, see [Enable diagnostics logging for web apps in Azure App Service](/azure/app-service/web-sites-enable-diagnostic-log).</span></span>

> [!WARNING]
> <span data-ttu-id="0528b-388">Si vous ne désactivez pas le journal stdout, l’application ou le serveur risque d’échouer.</span><span class="sxs-lookup"><span data-stu-id="0528b-388">Failure to disable the stdout log can lead to app or server failure.</span></span> <span data-ttu-id="0528b-389">Il n’existe aucune limite quant à la taille du fichier journal ou au nombre de fichiers journaux créés.</span><span class="sxs-lookup"><span data-stu-id="0528b-389">There's no limit on log file size or the number of log files created.</span></span>
>
> <span data-ttu-id="0528b-390">Pour journaliser la routine d’une application ASP.NET Core, utilisez une bibliothèque de journalisation qui limite la taille du fichier journal et appliquez une rotation aux journaux.</span><span class="sxs-lookup"><span data-stu-id="0528b-390">For routine logging in an ASP.NET Core app, use a logging library that limits log file size and rotates logs.</span></span> <span data-ttu-id="0528b-391">Pour plus d’informations, voir [Fournisseurs de journalisation tiers](xref:fundamentals/logging/index#third-party-logging-providers).</span><span class="sxs-lookup"><span data-stu-id="0528b-391">For more information, see [third-party logging providers](xref:fundamentals/logging/index#third-party-logging-providers).</span></span>

## <a name="troubleshoot-on-iis"></a><span data-ttu-id="0528b-392">Résoudre les problèmes sur IIS</span><span class="sxs-lookup"><span data-stu-id="0528b-392">Troubleshoot on IIS</span></span>

### <a name="application-event-log-iis"></a><span data-ttu-id="0528b-393">Journal des événements d’application (IIS)</span><span class="sxs-lookup"><span data-stu-id="0528b-393">Application Event Log (IIS)</span></span>

<span data-ttu-id="0528b-394">Accédez au Journal des événements de l’application :</span><span class="sxs-lookup"><span data-stu-id="0528b-394">Access the Application Event Log:</span></span>

1. <span data-ttu-id="0528b-395">Ouvrez le menu Démarrer, recherchez *Observateur d’événements*, puis sélectionnez l’application **Observateur d’événements** .</span><span class="sxs-lookup"><span data-stu-id="0528b-395">Open the Start menu, search for *Event Viewer*, and select the **Event Viewer** app.</span></span>
1. <span data-ttu-id="0528b-396">Dans **Observateur d’événements**, ouvrez le nœud **Journaux Windows**.</span><span class="sxs-lookup"><span data-stu-id="0528b-396">In **Event Viewer**, open the **Windows Logs** node.</span></span>
1. <span data-ttu-id="0528b-397">Sélectionnez **Application** pour ouvrir le Journal des événements de l’application.</span><span class="sxs-lookup"><span data-stu-id="0528b-397">Select **Application** to open the Application Event Log.</span></span>
1. <span data-ttu-id="0528b-398">Recherchez les erreurs liées à l’application défectueuse.</span><span class="sxs-lookup"><span data-stu-id="0528b-398">Search for errors associated with the failing app.</span></span> <span data-ttu-id="0528b-399">Les erreurs sont signalées par une valeur *IIS AspNetCore Module* (Module AspNetCore IIS) ou *IIS Express AspNetCore Module* (Module AspNetCore IIS Express) dans la colonne *Source*.</span><span class="sxs-lookup"><span data-stu-id="0528b-399">Errors have a value of *IIS AspNetCore Module* or *IIS Express AspNetCore Module* in the *Source* column.</span></span>

### <a name="run-the-app-at-a-command-prompt"></a><span data-ttu-id="0528b-400">Exécuter l’application depuis une invite de commandes</span><span class="sxs-lookup"><span data-stu-id="0528b-400">Run the app at a command prompt</span></span>

<span data-ttu-id="0528b-401">De nombreuses erreurs de démarrage ne produisent pas d’informations utiles dans le Journal des événements de l’application.</span><span class="sxs-lookup"><span data-stu-id="0528b-401">Many startup errors don't produce useful information in the Application Event Log.</span></span> <span data-ttu-id="0528b-402">Vous pouvez trouver la cause de certaines erreurs en exécutant l’application depuis une invite de commandes sur le système hôte.</span><span class="sxs-lookup"><span data-stu-id="0528b-402">You can find the cause of some errors by running the app at a command prompt on the hosting system.</span></span>

#### <a name="framework-dependent-deployment"></a><span data-ttu-id="0528b-403">Déploiement dépendant du framework</span><span class="sxs-lookup"><span data-stu-id="0528b-403">Framework-dependent deployment</span></span>

<span data-ttu-id="0528b-404">Si l’application est un [déploiement dépendant du framework](/dotnet/core/deploying/#framework-dependent-deployments-fdd) :</span><span class="sxs-lookup"><span data-stu-id="0528b-404">If the app is a [framework-dependent deployment](/dotnet/core/deploying/#framework-dependent-deployments-fdd):</span></span>

1. <span data-ttu-id="0528b-405">Depuis une invite de commandes, accédez au dossier de déploiement et exécutez l’application en exécutant l’assembly de l’application avec *dotnet.exe*.</span><span class="sxs-lookup"><span data-stu-id="0528b-405">At a command prompt, navigate to the deployment folder and run the app by executing the app's assembly with *dotnet.exe*.</span></span> <span data-ttu-id="0528b-406">Dans la commande suivante, substituez le nom de l’assembly de l’application à \<assembly_name>: `dotnet .\<assembly_name>.dll`.</span><span class="sxs-lookup"><span data-stu-id="0528b-406">In the following command, substitute the name of the app's assembly for \<assembly_name>: `dotnet .\<assembly_name>.dll`.</span></span>
1. <span data-ttu-id="0528b-407">La sortie de console de l’application est écrite dans la fenêtre de console, affichant toutes les erreurs éventuelles.</span><span class="sxs-lookup"><span data-stu-id="0528b-407">The console output from the app, showing any errors, is written to the console window.</span></span>
1. <span data-ttu-id="0528b-408">Si les erreurs se produisent pendant qu’une requête est adressée à l’application, effectuez une requête en direction de l’hôte et du port sur lequel Kestrel écoute.</span><span class="sxs-lookup"><span data-stu-id="0528b-408">If the errors occur when making a request to the app, make a request to the host and port where Kestrel listens.</span></span> <span data-ttu-id="0528b-409">À l’aide de l’hôte et du port par défaut, faites une requête en direction de `http://localhost:5000/`.</span><span class="sxs-lookup"><span data-stu-id="0528b-409">Using the default host and post, make a request to `http://localhost:5000/`.</span></span> <span data-ttu-id="0528b-410">Si l’application répond normalement à l’adresse de point de terminaison Kestrel, le problème est probablement lié à la configuration de l’hébergement plutôt qu’à l’application.</span><span class="sxs-lookup"><span data-stu-id="0528b-410">If the app responds normally at the Kestrel endpoint address, the problem is more likely related to the hosting configuration and less likely within the app.</span></span>

#### <a name="self-contained-deployment"></a><span data-ttu-id="0528b-411">Déploiement autonome</span><span class="sxs-lookup"><span data-stu-id="0528b-411">Self-contained deployment</span></span>

<span data-ttu-id="0528b-412">Si l’application est un [déploiement autonome](/dotnet/core/deploying/#self-contained-deployments-scd) :</span><span class="sxs-lookup"><span data-stu-id="0528b-412">If the app is a [self-contained deployment](/dotnet/core/deploying/#self-contained-deployments-scd):</span></span>

1. <span data-ttu-id="0528b-413">Depuis une invite de commandes, accédez au dossier de déploiement et exécutez l’exécutable de l’application.</span><span class="sxs-lookup"><span data-stu-id="0528b-413">At a command prompt, navigate to the deployment folder and run the app's executable.</span></span> <span data-ttu-id="0528b-414">Dans la commande suivante, substituez le nom de l’assembly de l’application à \<assembly_name>: `<assembly_name>.exe`.</span><span class="sxs-lookup"><span data-stu-id="0528b-414">In the following command, substitute the name of the app's assembly for \<assembly_name>: `<assembly_name>.exe`.</span></span>
1. <span data-ttu-id="0528b-415">La sortie de console de l’application est écrite dans la fenêtre de console, affichant toutes les erreurs éventuelles.</span><span class="sxs-lookup"><span data-stu-id="0528b-415">The console output from the app, showing any errors, is written to the console window.</span></span>
1. <span data-ttu-id="0528b-416">Si les erreurs se produisent pendant qu’une requête est adressée à l’application, effectuez une requête en direction de l’hôte et du port sur lequel Kestrel écoute.</span><span class="sxs-lookup"><span data-stu-id="0528b-416">If the errors occur when making a request to the app, make a request to the host and port where Kestrel listens.</span></span> <span data-ttu-id="0528b-417">À l’aide de l’hôte et du port par défaut, faites une requête en direction de `http://localhost:5000/`.</span><span class="sxs-lookup"><span data-stu-id="0528b-417">Using the default host and post, make a request to `http://localhost:5000/`.</span></span> <span data-ttu-id="0528b-418">Si l’application répond normalement à l’adresse de point de terminaison Kestrel, le problème est probablement lié à la configuration de l’hébergement plutôt qu’à l’application.</span><span class="sxs-lookup"><span data-stu-id="0528b-418">If the app responds normally at the Kestrel endpoint address, the problem is more likely related to the hosting configuration and less likely within the app.</span></span>

### <a name="aspnet-core-module-stdout-log-iis"></a><span data-ttu-id="0528b-419">Journal stdout du module ASP.NET Core (IIS)</span><span class="sxs-lookup"><span data-stu-id="0528b-419">ASP.NET Core Module stdout log (IIS)</span></span>

<span data-ttu-id="0528b-420">Pour activer et afficher les journaux stdout :</span><span class="sxs-lookup"><span data-stu-id="0528b-420">To enable and view stdout logs:</span></span>

1. <span data-ttu-id="0528b-421">Accédez au dossier de déploiement du site sur le système hôte.</span><span class="sxs-lookup"><span data-stu-id="0528b-421">Navigate to the site's deployment folder on the hosting system.</span></span>
1. <span data-ttu-id="0528b-422">Si le dossier *logs* n’est pas présent, créez-le.</span><span class="sxs-lookup"><span data-stu-id="0528b-422">If the *logs* folder isn't present, create the folder.</span></span> <span data-ttu-id="0528b-423">Pour obtenir des instructions sur l’activation de MSBuild et créer le dossier *logs* dans le déploiement automatiquement, consultez la rubrique [Structure des répertoires](xref:host-and-deploy/directory-structure).</span><span class="sxs-lookup"><span data-stu-id="0528b-423">For instructions on how to enable MSBuild to create the *logs* folder in the deployment automatically, see the [Directory structure](xref:host-and-deploy/directory-structure) topic.</span></span>
1. <span data-ttu-id="0528b-424">Modifiez le fichier *web.config*.</span><span class="sxs-lookup"><span data-stu-id="0528b-424">Edit the *web.config* file.</span></span> <span data-ttu-id="0528b-425">Définissez **stdoutLogEnabled** sur `true` et faites pointer le chemin **stdoutLogFile** vers le dossier *logs* (par exemple, `.\logs\stdout`).</span><span class="sxs-lookup"><span data-stu-id="0528b-425">Set **stdoutLogEnabled** to `true` and change the **stdoutLogFile** path to point to the *logs* folder (for example, `.\logs\stdout`).</span></span> <span data-ttu-id="0528b-426">Dans le chemin, `stdout` est le préfixe du nom du fichier journal.</span><span class="sxs-lookup"><span data-stu-id="0528b-426">`stdout` in the path is the log file name prefix.</span></span> <span data-ttu-id="0528b-427">Un horodatage, un ID de processus et une extension de fichier sont ajoutés automatiquement quand le journal est créé.</span><span class="sxs-lookup"><span data-stu-id="0528b-427">A timestamp, process id, and file extension are added automatically when the log is created.</span></span> <span data-ttu-id="0528b-428">Si `stdout` est utilisé comme préfixe du nom de fichier, un fichier journal classique porte le nom *stdout_20180205184032_5412.log*.</span><span class="sxs-lookup"><span data-stu-id="0528b-428">Using `stdout` as the file name prefix, a typical log file is named *stdout_20180205184032_5412.log*.</span></span>
1. <span data-ttu-id="0528b-429">Vérifiez que l’identité de votre pool d’applications dispose des autorisations d’écriture sur le dossier *logs*.</span><span class="sxs-lookup"><span data-stu-id="0528b-429">Ensure your application pool's identity has write permissions to the *logs* folder.</span></span>
1. <span data-ttu-id="0528b-430">Enregistrez le fichier *web.config* mis à jour.</span><span class="sxs-lookup"><span data-stu-id="0528b-430">Save the updated *web.config* file.</span></span>
1. <span data-ttu-id="0528b-431">Adressez une demande à l’application.</span><span class="sxs-lookup"><span data-stu-id="0528b-431">Make a request to the app.</span></span>
1. <span data-ttu-id="0528b-432">Accédez au dossier *logs*.</span><span class="sxs-lookup"><span data-stu-id="0528b-432">Navigate to the *logs* folder.</span></span> <span data-ttu-id="0528b-433">Recherchez et ouvrez le journal stdout le plus récent.</span><span class="sxs-lookup"><span data-stu-id="0528b-433">Find and open the most recent stdout log.</span></span>
1. <span data-ttu-id="0528b-434">Déterminez si le journal contient des erreurs.</span><span class="sxs-lookup"><span data-stu-id="0528b-434">Study the log for errors.</span></span>

<span data-ttu-id="0528b-435">Désactivez la journalisation stdout, une fois les problèmes résolus :</span><span class="sxs-lookup"><span data-stu-id="0528b-435">Disable stdout logging when troubleshooting is complete:</span></span>

1. <span data-ttu-id="0528b-436">Modifiez le fichier *web.config*.</span><span class="sxs-lookup"><span data-stu-id="0528b-436">Edit the *web.config* file.</span></span>
1. <span data-ttu-id="0528b-437">Définissez **stdoutLogEnabled** sur `false`.</span><span class="sxs-lookup"><span data-stu-id="0528b-437">Set **stdoutLogEnabled** to `false`.</span></span>
1. <span data-ttu-id="0528b-438">Enregistrez le fichier .</span><span class="sxs-lookup"><span data-stu-id="0528b-438">Save the file.</span></span>

<span data-ttu-id="0528b-439">Pour plus d’informations, consultez <xref:host-and-deploy/aspnet-core-module#log-creation-and-redirection>.</span><span class="sxs-lookup"><span data-stu-id="0528b-439">For more information, see <xref:host-and-deploy/aspnet-core-module#log-creation-and-redirection>.</span></span>

> [!WARNING]
> <span data-ttu-id="0528b-440">Si vous ne désactivez pas le journal stdout, l’application ou le serveur risque d’échouer.</span><span class="sxs-lookup"><span data-stu-id="0528b-440">Failure to disable the stdout log can lead to app or server failure.</span></span> <span data-ttu-id="0528b-441">Il n’existe aucune limite quant à la taille du fichier journal ou au nombre de fichiers journaux créés.</span><span class="sxs-lookup"><span data-stu-id="0528b-441">There's no limit on log file size or the number of log files created.</span></span>
>
> <span data-ttu-id="0528b-442">Pour journaliser la routine d’une application ASP.NET Core, utilisez une bibliothèque de journalisation qui limite la taille du fichier journal et appliquez une rotation aux journaux.</span><span class="sxs-lookup"><span data-stu-id="0528b-442">For routine logging in an ASP.NET Core app, use a logging library that limits log file size and rotates logs.</span></span> <span data-ttu-id="0528b-443">Pour plus d’informations, voir [Fournisseurs de journalisation tiers](xref:fundamentals/logging/index#third-party-logging-providers).</span><span class="sxs-lookup"><span data-stu-id="0528b-443">For more information, see [third-party logging providers](xref:fundamentals/logging/index#third-party-logging-providers).</span></span>

### <a name="aspnet-core-module-debug-log-iis"></a><span data-ttu-id="0528b-444">Journal de débogage du module ASP.NET Core (IIS)</span><span class="sxs-lookup"><span data-stu-id="0528b-444">ASP.NET Core Module debug log (IIS)</span></span>

<span data-ttu-id="0528b-445">Ajoutez les paramètres de gestionnaire suivants au fichier *Web. config* de l’application pour activer ASP.net Core journal de débogage du module :</span><span class="sxs-lookup"><span data-stu-id="0528b-445">Add the following handler settings to the app's *web.config* file to enable ASP.NET Core Module debug log:</span></span>

```xml
<aspNetCore ...>
  <handlerSettings>
    <handlerSetting name="debugLevel" value="file" />
    <handlerSetting name="debugFile" value="c:\temp\ancm.log" />
  </handlerSettings>
</aspNetCore>
```

<span data-ttu-id="0528b-446">Vérifiez que le chemin spécifié pour le journal existe, et que l’identité du pool d’applications dispose des autorisations en écriture pour l’emplacement.</span><span class="sxs-lookup"><span data-stu-id="0528b-446">Confirm that the path specified for the log exists and that the app pool's identity has write permissions to the location.</span></span>

<span data-ttu-id="0528b-447">Pour plus d’informations, consultez <xref:host-and-deploy/aspnet-core-module#enhanced-diagnostic-logs>.</span><span class="sxs-lookup"><span data-stu-id="0528b-447">For more information, see <xref:host-and-deploy/aspnet-core-module#enhanced-diagnostic-logs>.</span></span>

### <a name="enable-the-developer-exception-page"></a><span data-ttu-id="0528b-448">Afficher la page d’exception de développeur</span><span class="sxs-lookup"><span data-stu-id="0528b-448">Enable the Developer Exception Page</span></span>

<span data-ttu-id="0528b-449">La [variable d’environnement `ASPNETCORE_ENVIRONMENT` peut être ajoutée à Web. config](xref:host-and-deploy/aspnet-core-module#setting-environment-variables) pour exécuter l’application dans l’environnement de développement.</span><span class="sxs-lookup"><span data-stu-id="0528b-449">The `ASPNETCORE_ENVIRONMENT` [environment variable can be added to web.config](xref:host-and-deploy/aspnet-core-module#setting-environment-variables) to run the app in the Development environment.</span></span> <span data-ttu-id="0528b-450">Tant que l’environnement n’est pas substitué dans le démarrage de l’application par `UseEnvironment` sur le générateur de l’hôte, la définition de la variable d’environnement permet à la [page d’exception de développeur](xref:fundamentals/error-handling) d’apparaître quand l’application est exécutée.</span><span class="sxs-lookup"><span data-stu-id="0528b-450">As long as the environment isn't overridden in app startup by `UseEnvironment` on the host builder, setting the environment variable allows the [Developer Exception Page](xref:fundamentals/error-handling) to appear when the app is run.</span></span>

```xml
<aspNetCore processPath="dotnet"
      arguments=".\MyApp.dll"
      stdoutLogEnabled="false"
      stdoutLogFile=".\logs\stdout"
      hostingModel="InProcess">
  <environmentVariables>
    <environmentVariable name="ASPNETCORE_ENVIRONMENT" value="Development" />
  </environmentVariables>
</aspNetCore>
```

<span data-ttu-id="0528b-451">La définition de la variable d’environnement `ASPNETCORE_ENVIRONMENT` est recommandée uniquement en vue d’une utilisation sur les serveurs de préproduction et de test qui ne sont pas exposés à Internet.</span><span class="sxs-lookup"><span data-stu-id="0528b-451">Setting the environment variable for `ASPNETCORE_ENVIRONMENT` is only recommended for use on staging and testing servers that aren't exposed to the Internet.</span></span> <span data-ttu-id="0528b-452">Supprimez la variable d’environnement du fichier *web.config* une fois la résolution des problèmes effectuée.</span><span class="sxs-lookup"><span data-stu-id="0528b-452">Remove the environment variable from the *web.config* file after troubleshooting.</span></span> <span data-ttu-id="0528b-453">Pour plus d’informations sur la définition des variables d’environnement dans *web.config*, consultez la section sur [l’élément enfant environmentVariables d’aspNetCore](xref:host-and-deploy/aspnet-core-module#setting-environment-variables).</span><span class="sxs-lookup"><span data-stu-id="0528b-453">For information on setting environment variables in *web.config*, see [environmentVariables child element of aspNetCore](xref:host-and-deploy/aspnet-core-module#setting-environment-variables).</span></span>

### <a name="obtain-data-from-an-app"></a><span data-ttu-id="0528b-454">Obtenir des données à partir d’une application</span><span class="sxs-lookup"><span data-stu-id="0528b-454">Obtain data from an app</span></span>

<span data-ttu-id="0528b-455">Si une application est capable de répondre aux requêtes, obtenez des informations sur une requête, une connexion et d’autres informations supplémentaires à partir d’une application à l’aide de l’intergiciel en ligne terminal.</span><span class="sxs-lookup"><span data-stu-id="0528b-455">If an app is capable of responding to requests, obtain request, connection, and additional data from the app using terminal inline middleware.</span></span> <span data-ttu-id="0528b-456">Pour obtenir des informations supplémentaires ainsi qu'un code d'exemple, consultez <xref:test/troubleshoot#obtain-data-from-an-app>.</span><span class="sxs-lookup"><span data-stu-id="0528b-456">For more information and sample code, see <xref:test/troubleshoot#obtain-data-from-an-app>.</span></span>

### <a name="slow-or-hanging-app-iis"></a><span data-ttu-id="0528b-457">Application lente ou bloquée (IIS)</span><span class="sxs-lookup"><span data-stu-id="0528b-457">Slow or hanging app (IIS)</span></span>

<span data-ttu-id="0528b-458">Un *vidage sur incident* est un instantané de la mémoire du système et peut aider à déterminer la cause d’un incident d’application, d’un échec de démarrage ou d’une application lente.</span><span class="sxs-lookup"><span data-stu-id="0528b-458">A *crash dump* is a snapshot of the system's memory and can help determine the cause of an app crash, startup failure, or slow app.</span></span>

#### <a name="app-crashes-or-encounters-an-exception"></a><span data-ttu-id="0528b-459">L’application cesse de fonctionner ou rencontre une exception</span><span class="sxs-lookup"><span data-stu-id="0528b-459">App crashes or encounters an exception</span></span>

<span data-ttu-id="0528b-460">Obtenez un fichier dump et analysez-le depuis le [Rapport d'erreurs Windows](/windows/desktop/wer/windows-error-reporting) :</span><span class="sxs-lookup"><span data-stu-id="0528b-460">Obtain and analyze a dump from [Windows Error Reporting (WER)](/windows/desktop/wer/windows-error-reporting):</span></span>

1. <span data-ttu-id="0528b-461">Créez un dossier pour accueillir les fichiers d’image mémoire dans `c:\dumps`.</span><span class="sxs-lookup"><span data-stu-id="0528b-461">Create a folder to hold crash dump files at `c:\dumps`.</span></span> <span data-ttu-id="0528b-462">Le pool d’application doit disposer des accès d’écriture dans le dossier.</span><span class="sxs-lookup"><span data-stu-id="0528b-462">The app pool must have write access to the folder.</span></span>
1. <span data-ttu-id="0528b-463">Exécutez le [script PowerShell EnableDumps](https://github.com/dotnet/AspNetCore.Docs/blob/master/aspnetcore/test/troubleshoot-azure-iis/scripts/EnableDumps.ps1) :</span><span class="sxs-lookup"><span data-stu-id="0528b-463">Run the [EnableDumps PowerShell script](https://github.com/dotnet/AspNetCore.Docs/blob/master/aspnetcore/test/troubleshoot-azure-iis/scripts/EnableDumps.ps1):</span></span>
   * <span data-ttu-id="0528b-464">Si l’application utilise le [modèle d’hébergement in-process](xref:host-and-deploy/iis/index#in-process-hosting-model), exécutez le script pour *w3wp.exe* :</span><span class="sxs-lookup"><span data-stu-id="0528b-464">If the app uses the [in-process hosting model](xref:host-and-deploy/iis/index#in-process-hosting-model), run the script for *w3wp.exe*:</span></span>

     ```console
     .\EnableDumps w3wp.exe c:\dumps
     ```

   * <span data-ttu-id="0528b-465">Si l’application utilise le [modèle d’hébergement out-of-process](xref:host-and-deploy/iis/index#out-of-process-hosting-model), exécutez le script pour *dotnet.exe* :</span><span class="sxs-lookup"><span data-stu-id="0528b-465">If the app uses the [out-of-process hosting model](xref:host-and-deploy/iis/index#out-of-process-hosting-model), run the script for *dotnet.exe*:</span></span>

     ```console
     .\EnableDumps dotnet.exe c:\dumps
     ```

1. <span data-ttu-id="0528b-466">Exécutez l’application en reproduisant les conditions ayant entraîné l’incident.</span><span class="sxs-lookup"><span data-stu-id="0528b-466">Run the app under the conditions that cause the crash to occur.</span></span>
1. <span data-ttu-id="0528b-467">Une fois l’incident survenu, exécutez le [script PowerShell DisableDumps](https://github.com/dotnet/AspNetCore.Docs/blob/master/aspnetcore/test/troubleshoot-azure-iis/scripts/DisableDumps.ps1) :</span><span class="sxs-lookup"><span data-stu-id="0528b-467">After the crash has occurred, run the [DisableDumps PowerShell script](https://github.com/dotnet/AspNetCore.Docs/blob/master/aspnetcore/test/troubleshoot-azure-iis/scripts/DisableDumps.ps1):</span></span>
   * <span data-ttu-id="0528b-468">Si l’application utilise le [modèle d’hébergement in-process](xref:host-and-deploy/iis/index#in-process-hosting-model), exécutez le script pour *w3wp.exe* :</span><span class="sxs-lookup"><span data-stu-id="0528b-468">If the app uses the [in-process hosting model](xref:host-and-deploy/iis/index#in-process-hosting-model), run the script for *w3wp.exe*:</span></span>

     ```console
     .\DisableDumps w3wp.exe
     ```

   * <span data-ttu-id="0528b-469">Si l’application utilise le [modèle d’hébergement out-of-process](xref:host-and-deploy/iis/index#out-of-process-hosting-model), exécutez le script pour *dotnet.exe* :</span><span class="sxs-lookup"><span data-stu-id="0528b-469">If the app uses the [out-of-process hosting model](xref:host-and-deploy/iis/index#out-of-process-hosting-model), run the script for *dotnet.exe*:</span></span>

     ```console
     .\DisableDumps dotnet.exe
     ```

<span data-ttu-id="0528b-470">Après l’arrêt de l’application et après avoir terminé la collection dump, l’application peut être fermée normalement.</span><span class="sxs-lookup"><span data-stu-id="0528b-470">After an app crashes and dump collection is complete, the app is allowed to terminate normally.</span></span> <span data-ttu-id="0528b-471">Le script PowerShell configure le rapport d’erreurs Windows pour collecter jusqu'à cinq fichiers dump par application.</span><span class="sxs-lookup"><span data-stu-id="0528b-471">The PowerShell script configures WER to collect up to five dumps per app.</span></span>

> [!WARNING]
> <span data-ttu-id="0528b-472">Les fichiers dump d’incident peuvent occuper plus d’espace disque (jusqu’à plusieurs gigaoctets par fichier).</span><span class="sxs-lookup"><span data-stu-id="0528b-472">Crash dumps might take up a large amount of disk space (up to several gigabytes each).</span></span>

#### <a name="app-hangs-fails-during-startup-or-runs-normally"></a><span data-ttu-id="0528b-473">L’application se bloque, ne démarre pas ou s’exécute normalement</span><span class="sxs-lookup"><span data-stu-id="0528b-473">App hangs, fails during startup, or runs normally</span></span>

<span data-ttu-id="0528b-474">Quand une application *se bloque* (cesse de répondre mais ne se bloque pas), échoue pendant le démarrage ou s’exécute normalement, consultez [fichiers de vidage en mode utilisateur : choix de l’outil le mieux](/windows-hardware/drivers/debugger/user-mode-dump-files#choosing-the-best-tool) adapté pour sélectionner un outil approprié pour produire le vidage.</span><span class="sxs-lookup"><span data-stu-id="0528b-474">When an app *hangs* (stops responding but doesn't crash), fails during startup, or runs normally, see [User-Mode Dump Files: Choosing the Best Tool](/windows-hardware/drivers/debugger/user-mode-dump-files#choosing-the-best-tool) to select an appropriate tool to produce the dump.</span></span>

#### <a name="analyze-the-dump"></a><span data-ttu-id="0528b-475">Analyser le fichier dump</span><span class="sxs-lookup"><span data-stu-id="0528b-475">Analyze the dump</span></span>

<span data-ttu-id="0528b-476">Un fichier dump peut être analysé à l’aide de plusieurs approches.</span><span class="sxs-lookup"><span data-stu-id="0528b-476">A dump can be analyzed using several approaches.</span></span> <span data-ttu-id="0528b-477">Pour plus d’informations, consultez [Analyzing a User-Mode Dump File](/windows-hardware/drivers/debugger/analyzing-a-user-mode-dump-file) (Analyser un fichier dump en mode utilisateur).</span><span class="sxs-lookup"><span data-stu-id="0528b-477">For more information, see [Analyzing a User-Mode Dump File](/windows-hardware/drivers/debugger/analyzing-a-user-mode-dump-file).</span></span>

## <a name="clear-package-caches"></a><span data-ttu-id="0528b-478">Effacer les caches de package</span><span class="sxs-lookup"><span data-stu-id="0528b-478">Clear package caches</span></span>

<span data-ttu-id="0528b-479">Une application fonctionnelle peut échouer immédiatement après la mise à niveau de la kit SDK .NET Core sur l’ordinateur de développement ou la modification des versions de package dans l’application.</span><span class="sxs-lookup"><span data-stu-id="0528b-479">A functioning app may fail immediately after upgrading either the .NET Core SDK on the development machine or changing package versions within the app.</span></span> <span data-ttu-id="0528b-480">Dans certains cas, les packages incohérents peuvent bloquer une application quand vous effectuez des mises à niveau majeures.</span><span class="sxs-lookup"><span data-stu-id="0528b-480">In some cases, incoherent packages may break an app when performing major upgrades.</span></span> <span data-ttu-id="0528b-481">Vous pouvez résoudre la plupart de ces problèmes en suivant les instructions suivantes :</span><span class="sxs-lookup"><span data-stu-id="0528b-481">Most of these issues can be fixed by following these instructions:</span></span>

1. <span data-ttu-id="0528b-482">Supprimez les dossiers *bin* et *obj*.</span><span class="sxs-lookup"><span data-stu-id="0528b-482">Delete the *bin* and *obj* folders.</span></span>
1. <span data-ttu-id="0528b-483">Effacez les caches de package en exécutant [dotnet NuGet LOCALS tout--Clear](/dotnet/core/tools/dotnet-nuget-locals) dans une interface de commande.</span><span class="sxs-lookup"><span data-stu-id="0528b-483">Clear the package caches by executing [dotnet nuget locals all --clear](/dotnet/core/tools/dotnet-nuget-locals) from a command shell.</span></span>

   <span data-ttu-id="0528b-484">L’effacement des caches de package peut également être effectué à l’aide de l’outil [NuGet. exe](https://www.nuget.org/downloads) et en exécutant la commande `nuget locals all -clear`.</span><span class="sxs-lookup"><span data-stu-id="0528b-484">Clearing package caches can also be accomplished with the [nuget.exe](https://www.nuget.org/downloads) tool and executing the command `nuget locals all -clear`.</span></span> <span data-ttu-id="0528b-485">*NuGet.exe* n’étant pas une installation fournie avec le système d’exploitation de bureau Windows, il doit être obtenu séparément à partir du [site web de NuGet](https://www.nuget.org/downloads).</span><span class="sxs-lookup"><span data-stu-id="0528b-485">*nuget.exe* isn't a bundled install with the Windows desktop operating system and must be obtained separately from the [NuGet website](https://www.nuget.org/downloads).</span></span>

1. <span data-ttu-id="0528b-486">Restaurez et regénérez le projet.</span><span class="sxs-lookup"><span data-stu-id="0528b-486">Restore and rebuild the project.</span></span>
1. <span data-ttu-id="0528b-487">Supprimez tous les fichiers du dossier de déploiement sur le serveur avant de redéployer l’application.</span><span class="sxs-lookup"><span data-stu-id="0528b-487">Delete all of the files in the deployment folder on the server prior to redeploying the app.</span></span>

## <a name="additional-resources"></a><span data-ttu-id="0528b-488">Ressources supplémentaires</span><span class="sxs-lookup"><span data-stu-id="0528b-488">Additional resources</span></span>

* <xref:test/troubleshoot>
* <xref:host-and-deploy/azure-iis-errors-reference>
* <xref:fundamentals/error-handling>
* <xref:host-and-deploy/aspnet-core-module>

### <a name="azure-documentation"></a><span data-ttu-id="0528b-489">Documentation Azure</span><span class="sxs-lookup"><span data-stu-id="0528b-489">Azure documentation</span></span>

* [<span data-ttu-id="0528b-490">Application Insights pour ASP.NET Core</span><span class="sxs-lookup"><span data-stu-id="0528b-490">Application Insights for ASP.NET Core</span></span>](/azure/application-insights/app-insights-asp-net-core)
* [<span data-ttu-id="0528b-491">Section débogage à distance des applications Web de dépanner une application Web dans Azure App Service à l’aide de Visual Studio</span><span class="sxs-lookup"><span data-stu-id="0528b-491">Remote debugging web apps section of Troubleshoot a web app in Azure App Service using Visual Studio</span></span>](/azure/app-service/web-sites-dotnet-troubleshoot-visual-studio#remotedebug)
* [<span data-ttu-id="0528b-492">Vue d’ensemble des diagnostics Azure App Service</span><span class="sxs-lookup"><span data-stu-id="0528b-492">Azure App Service diagnostics overview</span></span>](/azure/app-service/app-service-diagnostics)
* [<span data-ttu-id="0528b-493">Surveillance des applications dans Azure App Service</span><span class="sxs-lookup"><span data-stu-id="0528b-493">How to: Monitor Apps in Azure App Service</span></span>](/azure/app-service/web-sites-monitor)
* [<span data-ttu-id="0528b-494">Résoudre les problèmes d’une application web dans Azure App Service avec Visual Studio</span><span class="sxs-lookup"><span data-stu-id="0528b-494">Troubleshoot a web app in Azure App Service using Visual Studio</span></span>](/azure/app-service/web-sites-dotnet-troubleshoot-visual-studio)
* [<span data-ttu-id="0528b-495">Résoudre les erreurs HTTP « 502 Passerelle incorrecte » et « 503 Service non disponible » dans des applications web Azure</span><span class="sxs-lookup"><span data-stu-id="0528b-495">Troubleshoot HTTP errors of "502 bad gateway" and "503 service unavailable" in your Azure web apps</span></span>](/azure/app-service/app-service-web-troubleshoot-http-502-http-503)
* [<span data-ttu-id="0528b-496">Résoudre les problèmes de baisse de performances d’une application web dans Azure App Service</span><span class="sxs-lookup"><span data-stu-id="0528b-496">Troubleshoot slow web app performance issues in Azure App Service</span></span>](/azure/app-service/app-service-web-troubleshoot-performance-degradation)
* [<span data-ttu-id="0528b-497">FAQ sur les performances des applications web dans Azure</span><span class="sxs-lookup"><span data-stu-id="0528b-497">Application performance FAQs for Web Apps in Azure</span></span>](/azure/app-service/app-service-web-availability-performance-application-issues-faq)
* [<span data-ttu-id="0528b-498">Bac à sable des applications web Azure (limitations de l’exécution du runtime App Service)</span><span class="sxs-lookup"><span data-stu-id="0528b-498">Azure Web App sandbox (App Service runtime execution limitations)</span></span>](https://github.com/projectkudu/kudu/wiki/Azure-Web-App-sandbox)
* [<span data-ttu-id="0528b-499">Azure Friday: Azure App Service Diagnostic and Troubleshooting Experience (12-minute video)</span><span class="sxs-lookup"><span data-stu-id="0528b-499">Azure Friday: Azure App Service Diagnostic and Troubleshooting Experience (12-minute video)</span></span>](https://channel9.msdn.com/Shows/Azure-Friday/Azure-App-Service-Diagnostic-and-Troubleshooting-Experience)

### <a name="visual-studio-documentation"></a><span data-ttu-id="0528b-500">Documentation de Visual Studio</span><span class="sxs-lookup"><span data-stu-id="0528b-500">Visual Studio documentation</span></span>

* [<span data-ttu-id="0528b-501">Débogage à distance ASP.NET Core sur IIS dans Azure dans Visual Studio 2017</span><span class="sxs-lookup"><span data-stu-id="0528b-501">Remote Debug ASP.NET Core on IIS in Azure in Visual Studio 2017</span></span>](/visualstudio/debugger/remote-debugging-azure)
* [<span data-ttu-id="0528b-502">Débogage à distance ASP.NET Core sur un ordinateur IIS distant dans Visual Studio 2017</span><span class="sxs-lookup"><span data-stu-id="0528b-502">Remote Debug ASP.NET Core on a Remote IIS Computer in Visual Studio 2017</span></span>](/visualstudio/debugger/remote-debugging-aspnet-on-a-remote-iis-computer)
* [<span data-ttu-id="0528b-503">Apprendre à déboguer avec Visual Studio</span><span class="sxs-lookup"><span data-stu-id="0528b-503">Learn to debug using Visual Studio</span></span>](/visualstudio/debugger/getting-started-with-the-debugger)

### <a name="visual-studio-code-documentation"></a><span data-ttu-id="0528b-504">Documentation Visual Studio Code</span><span class="sxs-lookup"><span data-stu-id="0528b-504">Visual Studio Code documentation</span></span>

* [<span data-ttu-id="0528b-505">Débogage avec Visual Studio Code</span><span class="sxs-lookup"><span data-stu-id="0528b-505">Debugging with Visual Studio Code</span></span>](https://code.visualstudio.com/docs/editor/debugging)

::: moniker-end

::: moniker range="= aspnetcore-2.2"

<span data-ttu-id="0528b-506">Cet article fournit des informations sur les erreurs de démarrage d’application courantes et des instructions sur la façon de diagnostiquer les erreurs quand une application est déployée sur Azure App Service ou IIS :</span><span class="sxs-lookup"><span data-stu-id="0528b-506">This article provides information on common app startup errors and instructions on how to diagnose errors when an app is deployed to Azure App Service or IIS:</span></span>

[<span data-ttu-id="0528b-507">Erreurs de démarrage de l’application</span><span class="sxs-lookup"><span data-stu-id="0528b-507">App startup errors</span></span>](#app-startup-errors)  
<span data-ttu-id="0528b-508">Explique les scénarios courants de code d’état HTTP de démarrage.</span><span class="sxs-lookup"><span data-stu-id="0528b-508">Explains common startup HTTP status code scenarios.</span></span>

[<span data-ttu-id="0528b-509">Résoudre les problèmes sur Azure App Service</span><span class="sxs-lookup"><span data-stu-id="0528b-509">Troubleshoot on Azure App Service</span></span>](#troubleshoot-on-azure-app-service)  
<span data-ttu-id="0528b-510">Fournit des conseils de dépannage pour les applications déployées sur Azure App Service.</span><span class="sxs-lookup"><span data-stu-id="0528b-510">Provides troubleshooting advice for apps deployed to Azure App Service.</span></span>

[<span data-ttu-id="0528b-511">Résoudre les problèmes sur IIS</span><span class="sxs-lookup"><span data-stu-id="0528b-511">Troubleshoot on IIS</span></span>](#troubleshoot-on-iis)  
<span data-ttu-id="0528b-512">Fournit des conseils de dépannage pour les applications déployées sur IIS ou exécutées localement sur IIS Express.</span><span class="sxs-lookup"><span data-stu-id="0528b-512">Provides troubleshooting advice for apps deployed to IIS or running on IIS Express locally.</span></span> <span data-ttu-id="0528b-513">Ce guide s’applique aux déploiements Windows Server et Windows Desktop.</span><span class="sxs-lookup"><span data-stu-id="0528b-513">The guidance applies to both Windows Server and Windows desktop deployments.</span></span>

[<span data-ttu-id="0528b-514">Effacer les caches de package</span><span class="sxs-lookup"><span data-stu-id="0528b-514">Clear package caches</span></span>](#clear-package-caches)  
<span data-ttu-id="0528b-515">Explique ce qu’il faut faire quand des packages incohérents interrompent une application lors des mises à niveau majeures ou de la modification des versions de package.</span><span class="sxs-lookup"><span data-stu-id="0528b-515">Explains what to do when incoherent packages break an app when performing major upgrades or changing package versions.</span></span>

[<span data-ttu-id="0528b-516">Ressources supplémentaires</span><span class="sxs-lookup"><span data-stu-id="0528b-516">Additional resources</span></span>](#additional-resources)  
<span data-ttu-id="0528b-517">Répertorie des rubriques supplémentaires sur la résolution des problèmes.</span><span class="sxs-lookup"><span data-stu-id="0528b-517">Lists additional troubleshooting topics.</span></span>

## <a name="app-startup-errors"></a><span data-ttu-id="0528b-518">Erreurs de démarrage de l’application</span><span class="sxs-lookup"><span data-stu-id="0528b-518">App startup errors</span></span>

<span data-ttu-id="0528b-519">Dans Visual Studio, un projet ASP.NET Core est par défaut hébergé sur [IIS Express](/iis/extensions/introduction-to-iis-express/iis-express-overview) pendant une opération de débogage.</span><span class="sxs-lookup"><span data-stu-id="0528b-519">In Visual Studio, an ASP.NET Core project defaults to [IIS Express](/iis/extensions/introduction-to-iis-express/iis-express-overview) hosting during debugging.</span></span> <span data-ttu-id="0528b-520">Un *échec de processus 502,5* ou un *échec de démarrage de 500,30* qui se produit lorsque le débogage local peut être diagnostiqué à l’aide des conseils de cette rubrique.</span><span class="sxs-lookup"><span data-stu-id="0528b-520">A *502.5 - Process Failure* or a *500.30 - Start Failure* that occurs when debugging locally can be diagnosed using the advice in this topic.</span></span>

### <a name="40314-forbidden"></a><span data-ttu-id="0528b-521">403,14 interdit</span><span class="sxs-lookup"><span data-stu-id="0528b-521">403.14 Forbidden</span></span>

<span data-ttu-id="0528b-522">L’application ne démarre pas.</span><span class="sxs-lookup"><span data-stu-id="0528b-522">The app fails to start.</span></span> <span data-ttu-id="0528b-523">L’erreur suivante est enregistrée :</span><span class="sxs-lookup"><span data-stu-id="0528b-523">The following error is logged:</span></span>

```
The Web server is configured to not list the contents of this directory.
```

<span data-ttu-id="0528b-524">L’erreur est généralement causée par un déploiement rompu sur le système d’hébergement, qui comprend l’un des scénarios suivants :</span><span class="sxs-lookup"><span data-stu-id="0528b-524">The error is usually caused by a broken deployment on the hosting system, which includes any of the following scenarios:</span></span>

* <span data-ttu-id="0528b-525">L’application est déployée dans le mauvais dossier sur le système d’hébergement.</span><span class="sxs-lookup"><span data-stu-id="0528b-525">The app is deployed to the wrong folder on the hosting system.</span></span>
* <span data-ttu-id="0528b-526">Le processus de déploiement n’a pas réussi à déplacer tous les fichiers et dossiers de l’application vers le dossier de déploiement sur le système d’hébergement.</span><span class="sxs-lookup"><span data-stu-id="0528b-526">The deployment process failed to move all of the app's files and folders to the deployment folder on the hosting system.</span></span>
* <span data-ttu-id="0528b-527">Le fichier *Web. config* est manquant dans le déploiement ou le contenu du fichier *Web. config* est incorrect.</span><span class="sxs-lookup"><span data-stu-id="0528b-527">The *web.config* file is missing from the deployment, or the *web.config* file contents are malformed.</span></span>

<span data-ttu-id="0528b-528">Procédez comme suit :</span><span class="sxs-lookup"><span data-stu-id="0528b-528">Perform the following steps:</span></span>

1. <span data-ttu-id="0528b-529">Supprimez tous les fichiers et dossiers du dossier de déploiement sur le système d’hébergement.</span><span class="sxs-lookup"><span data-stu-id="0528b-529">Delete all of the files and folders from the deployment folder on the hosting system.</span></span>
1. <span data-ttu-id="0528b-530">Redéployez le contenu du dossier de *publication* de l’application sur le système d’hébergement à l’aide de votre méthode de déploiement normale, telle que Visual Studio, PowerShell ou le déploiement manuel :</span><span class="sxs-lookup"><span data-stu-id="0528b-530">Redeploy the contents of the app's *publish* folder to the hosting system using your normal method of deployment, such as Visual Studio, PowerShell, or manual deployment:</span></span>
   * <span data-ttu-id="0528b-531">Vérifiez que le fichier *Web. config* est présent dans le déploiement et que son contenu est correct.</span><span class="sxs-lookup"><span data-stu-id="0528b-531">Confirm that the *web.config* file is present in the deployment and that its contents are correct.</span></span>
   * <span data-ttu-id="0528b-532">Lors de l’hébergement sur Azure App Service, vérifiez que l’application est déployée dans le dossier `D:\home\site\wwwroot`.</span><span class="sxs-lookup"><span data-stu-id="0528b-532">When hosting on Azure App Service, confirm that the app is deployed to the `D:\home\site\wwwroot` folder.</span></span>
   * <span data-ttu-id="0528b-533">Lorsque l’application est hébergée par IIS, vérifiez que l’application est déployée sur le **chemin d’accès physique** IIS indiqué dans les **paramètres de base**du gestionnaire des **services Internet**.</span><span class="sxs-lookup"><span data-stu-id="0528b-533">When the app is hosted by IIS, confirm that the app is deployed to the IIS **Physical path** shown in **IIS Manager**'s **Basic Settings**.</span></span>
1. <span data-ttu-id="0528b-534">Confirmez que tous les fichiers et dossiers de l’application sont déployés en comparant le déploiement sur le système d’hébergement au contenu du dossier de *publication* du projet.</span><span class="sxs-lookup"><span data-stu-id="0528b-534">Confirm that all of the app's files and folders are deployed by comparing the deployment on the hosting system to the contents of the project's *publish* folder.</span></span>

<span data-ttu-id="0528b-535">Pour plus d’informations sur la disposition d’une application ASP.NET Core publiée, consultez <xref:host-and-deploy/directory-structure>.</span><span class="sxs-lookup"><span data-stu-id="0528b-535">For more information on the layout of a published ASP.NET Core app, see <xref:host-and-deploy/directory-structure>.</span></span> <span data-ttu-id="0528b-536">Pour plus d’informations sur le fichier *Web. config* , consultez <xref:host-and-deploy/aspnet-core-module#configuration-with-webconfig>.</span><span class="sxs-lookup"><span data-stu-id="0528b-536">For more information on the *web.config* file, see <xref:host-and-deploy/aspnet-core-module#configuration-with-webconfig>.</span></span>

### <a name="500-internal-server-error"></a><span data-ttu-id="0528b-537">500 Erreur interne du serveur</span><span class="sxs-lookup"><span data-stu-id="0528b-537">500 Internal Server Error</span></span>

<span data-ttu-id="0528b-538">L’application démarre, mais une erreur empêche le serveur de répondre à la requête.</span><span class="sxs-lookup"><span data-stu-id="0528b-538">The app starts, but an error prevents the server from fulfilling the request.</span></span>

<span data-ttu-id="0528b-539">Cette erreur se produit dans le code de l’application pendant le démarrage ou durant la création d’une réponse.</span><span class="sxs-lookup"><span data-stu-id="0528b-539">This error occurs within the app's code during startup or while creating a response.</span></span> <span data-ttu-id="0528b-540">La réponse peut être dépourvue de contenu ou apparaître sous la forme d’une *erreur de serveur interne 500* dans le navigateur.</span><span class="sxs-lookup"><span data-stu-id="0528b-540">The response may contain no content, or the response may appear as a *500 Internal Server Error* in the browser.</span></span> <span data-ttu-id="0528b-541">Le Journal des événements de l’application indique généralement qu’elle a démarré normalement.</span><span class="sxs-lookup"><span data-stu-id="0528b-541">The Application Event Log usually states that the app started normally.</span></span> <span data-ttu-id="0528b-542">Du point de vue du serveur, c’est exact.</span><span class="sxs-lookup"><span data-stu-id="0528b-542">From the server's perspective, that's correct.</span></span> <span data-ttu-id="0528b-543">L’application a démarré, mais elle ne parvient pas à générer une réponse valide.</span><span class="sxs-lookup"><span data-stu-id="0528b-543">The app did start, but it can't generate a valid response.</span></span> <span data-ttu-id="0528b-544">Exécutez l’application à partir d’une invite de commandes sur le serveur ou activez le journal stdout du module ASP.NET Core pour résoudre le problème.</span><span class="sxs-lookup"><span data-stu-id="0528b-544">Run the app at a command prompt on the server or enable the ASP.NET Core Module stdout log to troubleshoot the problem.</span></span>

### <a name="5000-in-process-handler-load-failure"></a><span data-ttu-id="0528b-545">500.0 - Échec de chargement du gestionnaire in-process</span><span class="sxs-lookup"><span data-stu-id="0528b-545">500.0 In-Process Handler Load Failure</span></span>

<span data-ttu-id="0528b-546">Le processus de travail échoue.</span><span class="sxs-lookup"><span data-stu-id="0528b-546">The worker process fails.</span></span> <span data-ttu-id="0528b-547">L’application ne démarre pas.</span><span class="sxs-lookup"><span data-stu-id="0528b-547">The app doesn't start.</span></span>

<span data-ttu-id="0528b-548">Le [Module ASP.net Core](xref:host-and-deploy/aspnet-core-module) ne parvient pas à trouver le CLR .net Core et à rechercher le gestionnaire de demandes in-process (*aspnetcorev2_inprocess. dll*).</span><span class="sxs-lookup"><span data-stu-id="0528b-548">The [ASP.NET Core Module](xref:host-and-deploy/aspnet-core-module) fails to find the .NET Core CLR and find the in-process request handler (*aspnetcorev2_inprocess.dll*).</span></span> <span data-ttu-id="0528b-549">Vérifiez les éléments suivants :</span><span class="sxs-lookup"><span data-stu-id="0528b-549">Check that:</span></span>

* <span data-ttu-id="0528b-550">l’application cible le package NuGet [Microsoft.AspNetCore.Server.IIS](https://www.nuget.org/packages/Microsoft.AspNetCore.Server.IIS) ou le [métapaquet Microsoft.AspNetCore.App](xref:fundamentals/metapackage-app) ;</span><span class="sxs-lookup"><span data-stu-id="0528b-550">The app targets either the [Microsoft.AspNetCore.Server.IIS](https://www.nuget.org/packages/Microsoft.AspNetCore.Server.IIS) NuGet package or the [Microsoft.AspNetCore.App metapackage](xref:fundamentals/metapackage-app).</span></span>
* <span data-ttu-id="0528b-551">la version du framework partagé ASP.NET Core que l’application cible est installée sur l’ordinateur cible.</span><span class="sxs-lookup"><span data-stu-id="0528b-551">The version of the ASP.NET Core shared framework that the app targets is installed on the target machine.</span></span>

### <a name="5000-out-of-process-handler-load-failure"></a><span data-ttu-id="0528b-552">500.0 - Échec de chargement du gestionnaire out-of-process</span><span class="sxs-lookup"><span data-stu-id="0528b-552">500.0 Out-Of-Process Handler Load Failure</span></span>

<span data-ttu-id="0528b-553">Le processus de travail échoue.</span><span class="sxs-lookup"><span data-stu-id="0528b-553">The worker process fails.</span></span> <span data-ttu-id="0528b-554">L’application ne démarre pas.</span><span class="sxs-lookup"><span data-stu-id="0528b-554">The app doesn't start.</span></span>

<span data-ttu-id="0528b-555">Le [Module ASP.net Core](xref:host-and-deploy/aspnet-core-module) ne parvient pas à trouver le gestionnaire de demandes d’hébergement hors processus.</span><span class="sxs-lookup"><span data-stu-id="0528b-555">The [ASP.NET Core Module](xref:host-and-deploy/aspnet-core-module) fails to find the out-of-process hosting request handler.</span></span> <span data-ttu-id="0528b-556">Vérifiez que le fichier *aspnetcorev2_outofprocess.dll* est présent dans un sous-dossier en regard de *aspnetcorev2.dll*.</span><span class="sxs-lookup"><span data-stu-id="0528b-556">Make sure the *aspnetcorev2_outofprocess.dll* is present in a subfolder next to *aspnetcorev2.dll*.</span></span>

### <a name="5025-process-failure"></a><span data-ttu-id="0528b-557">Échec de processus 502.5</span><span class="sxs-lookup"><span data-stu-id="0528b-557">502.5 Process Failure</span></span>

<span data-ttu-id="0528b-558">Le processus de travail échoue.</span><span class="sxs-lookup"><span data-stu-id="0528b-558">The worker process fails.</span></span> <span data-ttu-id="0528b-559">L’application ne démarre pas.</span><span class="sxs-lookup"><span data-stu-id="0528b-559">The app doesn't start.</span></span>

<span data-ttu-id="0528b-560">Le [module ASP.NET Core](xref:host-and-deploy/aspnet-core-module) tente, en vain, de démarrer le processus de travail.</span><span class="sxs-lookup"><span data-stu-id="0528b-560">The [ASP.NET Core Module](xref:host-and-deploy/aspnet-core-module) attempts to start the worker process but it fails to start.</span></span> <span data-ttu-id="0528b-561">La cause d’un échec de démarrage d’un processus peut généralement être déterminée à partir des entrées dans le journal des événements d’application et le journal stdout du module ASP.NET Core.</span><span class="sxs-lookup"><span data-stu-id="0528b-561">The cause of a process startup failure can usually be determined from entries in the Application Event Log and the ASP.NET Core Module stdout log.</span></span>

<span data-ttu-id="0528b-562">Une condition d’échec courante est une application mal configurée qui cible une version du framework partagé ASP.NET Core non présente.</span><span class="sxs-lookup"><span data-stu-id="0528b-562">A common failure condition is the app is misconfigured due to targeting a version of the ASP.NET Core shared framework that isn't present.</span></span> <span data-ttu-id="0528b-563">Vérifiez les versions du framework partagé ASP.NET Core qui sont installées sur l’ordinateur cible.</span><span class="sxs-lookup"><span data-stu-id="0528b-563">Check which versions of the ASP.NET Core shared framework are installed on the target machine.</span></span> <span data-ttu-id="0528b-564">Le *framework partagé* est le jeu d’assemblys (fichiers *.dll*) qui sont installés sur l’ordinateur et référencés par un métapaquet comme `Microsoft.AspNetCore.App`.</span><span class="sxs-lookup"><span data-stu-id="0528b-564">The *shared framework* is the set of assemblies (*.dll* files) that are installed on the machine and referenced by a metapackage such as `Microsoft.AspNetCore.App`.</span></span> <span data-ttu-id="0528b-565">La référence de métapaquet peut spécifier une version minimale requise.</span><span class="sxs-lookup"><span data-stu-id="0528b-565">The metapackage reference can specify a minimum required version.</span></span> <span data-ttu-id="0528b-566">Pour plus d’informations, consultez [Le framework partagé](https://natemcmaster.com/blog/2018/08/29/netcore-primitives-2/).</span><span class="sxs-lookup"><span data-stu-id="0528b-566">For more information, see [The shared framework](https://natemcmaster.com/blog/2018/08/29/netcore-primitives-2/).</span></span>

<span data-ttu-id="0528b-567">La page d’erreur d’un *échec de processus 502.5* est retournée quand une erreur de configuration d’hébergement ou d’application entraîne l’échec du processus de travail :</span><span class="sxs-lookup"><span data-stu-id="0528b-567">The *502.5 Process Failure* error page is returned when a hosting or app misconfiguration causes the worker process to fail:</span></span>

### <a name="failed-to-start-application-errorcode-0x800700c1"></a><span data-ttu-id="0528b-568">Échec du démarrage de l’application (code d’erreur « 0x800700c1 »)</span><span class="sxs-lookup"><span data-stu-id="0528b-568">Failed to start application (ErrorCode '0x800700c1')</span></span>

```
EventID: 1010
Source: IIS AspNetCore Module V2
Failed to start application '/LM/W3SVC/6/ROOT/', ErrorCode '0x800700c1'.
```

<span data-ttu-id="0528b-569">L’application n’a pas pu démarrer, car l’assembly de l’application ( *.dll*) n’a pas pu être chargé.</span><span class="sxs-lookup"><span data-stu-id="0528b-569">The app failed to start because the app's assembly (*.dll*) couldn't be loaded.</span></span>

<span data-ttu-id="0528b-570">Cette erreur se produit lorsqu’il existe une incompatibilité au niveau du nombre de bits entre l’application publiée et le processus w3wp/iisexpress.</span><span class="sxs-lookup"><span data-stu-id="0528b-570">This error occurs when there's a bitness mismatch between the published app and the w3wp/iisexpress process.</span></span>

<span data-ttu-id="0528b-571">Vérifiez que le paramètre 32 bits du pool d’applications est correct :</span><span class="sxs-lookup"><span data-stu-id="0528b-571">Confirm that the app pool's 32-bit setting is correct:</span></span>

1. <span data-ttu-id="0528b-572">Sélectionnez le pool d’applications parmi les **Pools d’applications** IIS Manager.</span><span class="sxs-lookup"><span data-stu-id="0528b-572">Select the app pool in IIS Manager's **Application Pools**.</span></span>
1. <span data-ttu-id="0528b-573">Sélectionnez **Paramètres avancés** sous **Modifier le pool d’applications** dans le volet **Actions**.</span><span class="sxs-lookup"><span data-stu-id="0528b-573">Select **Advanced Settings** under **Edit Application Pool** in the **Actions** panel.</span></span>
1. <span data-ttu-id="0528b-574">Définissez **Activer les applications 32 bits** :</span><span class="sxs-lookup"><span data-stu-id="0528b-574">Set **Enable 32-Bit Applications**:</span></span>
   * <span data-ttu-id="0528b-575">Si vous déployez une application 32 bits (x86), définissez la valeur sur `True`.</span><span class="sxs-lookup"><span data-stu-id="0528b-575">If deploying a 32-bit (x86) app, set the value to `True`.</span></span>
   * <span data-ttu-id="0528b-576">Si vous déployez une application 64 bits (x64), définissez la valeur sur `False`.</span><span class="sxs-lookup"><span data-stu-id="0528b-576">If deploying a 64-bit (x64) app, set the value to `False`.</span></span>

<span data-ttu-id="0528b-577">Confirmez qu’il n’existe pas de conflit entre une `<Platform>` propriété MSBuild dans le fichier projet et le nombre de bits publié de l’application.</span><span class="sxs-lookup"><span data-stu-id="0528b-577">Confirm that there isn't a conflict between a `<Platform>` MSBuild property in the project file and the published bitness of the app.</span></span>

### <a name="connection-reset"></a><span data-ttu-id="0528b-578">Réinitialisation de la connexion</span><span class="sxs-lookup"><span data-stu-id="0528b-578">Connection reset</span></span>

<span data-ttu-id="0528b-579">Si une erreur se produit après l’envoi des en-têtes, il est trop tard pour que le serveur puisse envoyer une **erreur de serveur interne 500**.</span><span class="sxs-lookup"><span data-stu-id="0528b-579">If an error occurs after the headers are sent, it's too late for the server to send a **500 Internal Server Error** when an error occurs.</span></span> <span data-ttu-id="0528b-580">C’est souvent le cas quand une erreur se produit pendant la sérialisation des objets complexes d’une réponse.</span><span class="sxs-lookup"><span data-stu-id="0528b-580">This often happens when an error occurs during the serialization of complex objects for a response.</span></span> <span data-ttu-id="0528b-581">Ce type d’erreur apparaît en tant qu’erreur de *réinitialisation de la connexion* sur le client.</span><span class="sxs-lookup"><span data-stu-id="0528b-581">This type of error appears as a *connection reset* error on the client.</span></span> <span data-ttu-id="0528b-582">La [journalisation des applications](xref:fundamentals/logging/index) peut aider à le résoudre.</span><span class="sxs-lookup"><span data-stu-id="0528b-582">[Application logging](xref:fundamentals/logging/index) can help troubleshoot these types of errors.</span></span>

### <a name="default-startup-limits"></a><span data-ttu-id="0528b-583">Limites de démarrage par défaut</span><span class="sxs-lookup"><span data-stu-id="0528b-583">Default startup limits</span></span>

<span data-ttu-id="0528b-584">Le [Module ASP.net Core](xref:host-and-deploy/aspnet-core-module) est configuré avec un *startupTimeLimit* par défaut de 120 secondes.</span><span class="sxs-lookup"><span data-stu-id="0528b-584">The [ASP.NET Core Module](xref:host-and-deploy/aspnet-core-module) is configured with a default *startupTimeLimit* of 120 seconds.</span></span> <span data-ttu-id="0528b-585">Quand cette valeur par défaut est conservée, une application peut mettre jusqu’à deux minutes à démarrer avant que le module ne consigne un échec de processus.</span><span class="sxs-lookup"><span data-stu-id="0528b-585">When left at the default value, an app may take up to two minutes to start before the module logs a process failure.</span></span> <span data-ttu-id="0528b-586">Pour plus d’informations sur la configuration du module, voir [Attributs de l’élément aspNetCore](xref:host-and-deploy/aspnet-core-module#attributes-of-the-aspnetcore-element).</span><span class="sxs-lookup"><span data-stu-id="0528b-586">For information on configuring the module, see [Attributes of the aspNetCore element](xref:host-and-deploy/aspnet-core-module#attributes-of-the-aspnetcore-element).</span></span>

## <a name="troubleshoot-on-azure-app-service"></a><span data-ttu-id="0528b-587">Résoudre les problèmes sur Azure App Service</span><span class="sxs-lookup"><span data-stu-id="0528b-587">Troubleshoot on Azure App Service</span></span>

[!INCLUDE [Azure App Service Preview Notice](~/includes/azure-apps-preview-notice.md)]

### <a name="application-event-log-azure-app-service"></a><span data-ttu-id="0528b-588">Journal des événements d’application (Azure App Service)</span><span class="sxs-lookup"><span data-stu-id="0528b-588">Application Event Log (Azure App Service)</span></span>

<span data-ttu-id="0528b-589">Pour accéder au Journal des événements de l’application, utilisez le panneau **Diagnostiquer et résoudre les problèmes** du Portail Azure :</span><span class="sxs-lookup"><span data-stu-id="0528b-589">To access the Application Event Log, use the **Diagnose and solve problems** blade in the Azure portal:</span></span>

1. <span data-ttu-id="0528b-590">Dans le Portail Azure, ouvrez l’application dans **App Services**.</span><span class="sxs-lookup"><span data-stu-id="0528b-590">In the Azure portal, open the app in **App Services**.</span></span>
1. <span data-ttu-id="0528b-591">Sélectionnez **Diagnostiquer et résoudre les problèmes**.</span><span class="sxs-lookup"><span data-stu-id="0528b-591">Select **Diagnose and solve problems**.</span></span>
1. <span data-ttu-id="0528b-592">Sélectionnez le titre **Outils de diagnostic**.</span><span class="sxs-lookup"><span data-stu-id="0528b-592">Select the **Diagnostic Tools** heading.</span></span>
1. <span data-ttu-id="0528b-593">Sous **Outils de support**, sélectionnez le bouton **Événements d’application**.</span><span class="sxs-lookup"><span data-stu-id="0528b-593">Under **Support Tools**, select the **Application Events** button.</span></span>
1. <span data-ttu-id="0528b-594">Examinez la dernière erreur fournie par l’entrée *IIS AspNetCoreModule* ou *IIS AspNetCoreModule V2* dans la colonne **Source**.</span><span class="sxs-lookup"><span data-stu-id="0528b-594">Examine the latest error provided by the *IIS AspNetCoreModule* or *IIS AspNetCoreModule V2* entry in the **Source** column.</span></span>

<span data-ttu-id="0528b-595">En dehors de la solution consistant à utiliser le panneau **Diagnostiquer et résoudre les problèmes**, vous pouvez examiner directement le fichier Journal des événements de l’application avec [Kudu](https://github.com/projectkudu/kudu/wiki) :</span><span class="sxs-lookup"><span data-stu-id="0528b-595">An alternative to using the **Diagnose and solve problems** blade is to examine the Application Event Log file directly using [Kudu](https://github.com/projectkudu/kudu/wiki):</span></span>

1. <span data-ttu-id="0528b-596">Ouvrez les **Outils avancés** dans la zone **Outils de développement**.</span><span class="sxs-lookup"><span data-stu-id="0528b-596">Open **Advanced Tools** in the **Development Tools** area.</span></span> <span data-ttu-id="0528b-597">Sélectionnez le bouton **Atteindre&rarr;** .</span><span class="sxs-lookup"><span data-stu-id="0528b-597">Select the **Go&rarr;** button.</span></span> <span data-ttu-id="0528b-598">La console Kudu s’ouvre dans un nouvel onglet ou une nouvelle fenêtre du navigateur.</span><span class="sxs-lookup"><span data-stu-id="0528b-598">The Kudu console opens in a new browser tab or window.</span></span>
1. <span data-ttu-id="0528b-599">Dans la barre de navigation en haut de la page, ouvrez **Console de débogage** et sélectionnez **CMD**.</span><span class="sxs-lookup"><span data-stu-id="0528b-599">Using the navigation bar at the top of the page, open **Debug console** and select **CMD**.</span></span>
1. <span data-ttu-id="0528b-600">Ouvrez le fichier **LogFiles** .</span><span class="sxs-lookup"><span data-stu-id="0528b-600">Open the **LogFiles** folder.</span></span>
1. <span data-ttu-id="0528b-601">Sélectionnez l’icône en forme de crayon à côté du fichier *eventlog.xml*.</span><span class="sxs-lookup"><span data-stu-id="0528b-601">Select the pencil icon next to the *eventlog.xml* file.</span></span>
1. <span data-ttu-id="0528b-602">Examinez le journal.</span><span class="sxs-lookup"><span data-stu-id="0528b-602">Examine the log.</span></span> <span data-ttu-id="0528b-603">Allez en bas du journal pour voir les événements les plus récents.</span><span class="sxs-lookup"><span data-stu-id="0528b-603">Scroll to the bottom of the log to see the most recent events.</span></span>

### <a name="run-the-app-in-the-kudu-console"></a><span data-ttu-id="0528b-604">Exécuter l’application dans la console Kudu</span><span class="sxs-lookup"><span data-stu-id="0528b-604">Run the app in the Kudu console</span></span>

<span data-ttu-id="0528b-605">De nombreuses erreurs de démarrage ne produisent pas d’informations utiles dans le Journal des événements de l’application.</span><span class="sxs-lookup"><span data-stu-id="0528b-605">Many startup errors don't produce useful information in the Application Event Log.</span></span> <span data-ttu-id="0528b-606">Vous pouvez exécuter l’application dans la console d’exécution à distance [Kudu](https://github.com/projectkudu/kudu/wiki) pour détecter l’erreur :</span><span class="sxs-lookup"><span data-stu-id="0528b-606">You can run the app in the [Kudu](https://github.com/projectkudu/kudu/wiki) Remote Execution Console to discover the error:</span></span>

1. <span data-ttu-id="0528b-607">Ouvrez les **Outils avancés** dans la zone **Outils de développement**.</span><span class="sxs-lookup"><span data-stu-id="0528b-607">Open **Advanced Tools** in the **Development Tools** area.</span></span> <span data-ttu-id="0528b-608">Sélectionnez le bouton **Atteindre&rarr;** .</span><span class="sxs-lookup"><span data-stu-id="0528b-608">Select the **Go&rarr;** button.</span></span> <span data-ttu-id="0528b-609">La console Kudu s’ouvre dans un nouvel onglet ou une nouvelle fenêtre du navigateur.</span><span class="sxs-lookup"><span data-stu-id="0528b-609">The Kudu console opens in a new browser tab or window.</span></span>
1. <span data-ttu-id="0528b-610">Dans la barre de navigation en haut de la page, ouvrez **Console de débogage** et sélectionnez **CMD**.</span><span class="sxs-lookup"><span data-stu-id="0528b-610">Using the navigation bar at the top of the page, open **Debug console** and select **CMD**.</span></span>

#### <a name="test-a-32-bit-x86-app"></a><span data-ttu-id="0528b-611">Tester une application 32 bits (x86)</span><span class="sxs-lookup"><span data-stu-id="0528b-611">Test a 32-bit (x86) app</span></span>

<span data-ttu-id="0528b-612">**Version actuelle**</span><span class="sxs-lookup"><span data-stu-id="0528b-612">**Current release**</span></span>

1. `cd d:\home\site\wwwroot`
1. <span data-ttu-id="0528b-613">Exécutez l’application :</span><span class="sxs-lookup"><span data-stu-id="0528b-613">Run the app:</span></span>
   * <span data-ttu-id="0528b-614">Si l’application est un [déploiement dépendant du framework](/dotnet/core/deploying/#framework-dependent-deployments-fdd) :</span><span class="sxs-lookup"><span data-stu-id="0528b-614">If the app is a [framework-dependent deployment](/dotnet/core/deploying/#framework-dependent-deployments-fdd):</span></span>

     ```dotnetcli
     dotnet .\{ASSEMBLY NAME}.dll
     ```

   * <span data-ttu-id="0528b-615">Si l’application est un [déploiement autonome](/dotnet/core/deploying/#self-contained-deployments-scd) :</span><span class="sxs-lookup"><span data-stu-id="0528b-615">If the app is a [self-contained deployment](/dotnet/core/deploying/#self-contained-deployments-scd):</span></span>

     ```console
     {ASSEMBLY NAME}.exe
     ```

<span data-ttu-id="0528b-616">La sortie de console de l’application, affichant toutes les erreurs éventuelles, est transmise à la console Kudu.</span><span class="sxs-lookup"><span data-stu-id="0528b-616">The console output from the app, showing any errors, is piped to the Kudu console.</span></span>

<span data-ttu-id="0528b-617">**Déploiement dépendant du Framework s’exécutant sur une version préliminaire**</span><span class="sxs-lookup"><span data-stu-id="0528b-617">**Framework-dependent deployment running on a preview release**</span></span>

<span data-ttu-id="0528b-618">*Installation de l’extension de site du runtime ASP.NET Core {VERSION} (x86) requise.*</span><span class="sxs-lookup"><span data-stu-id="0528b-618">*Requires installing the ASP.NET Core {VERSION} (x86) Runtime site extension.*</span></span>

1. <span data-ttu-id="0528b-619">`cd D:\home\SiteExtensions\AspNetCoreRuntime.{X.Y}.x32` (`{X.Y}` est la version du runtime).</span><span class="sxs-lookup"><span data-stu-id="0528b-619">`cd D:\home\SiteExtensions\AspNetCoreRuntime.{X.Y}.x32` (`{X.Y}` is the runtime version)</span></span>
1. <span data-ttu-id="0528b-620">Exécutez l'application : `dotnet \home\site\wwwroot\{ASSEMBLY NAME}.dll`.</span><span class="sxs-lookup"><span data-stu-id="0528b-620">Run the app: `dotnet \home\site\wwwroot\{ASSEMBLY NAME}.dll`</span></span>

<span data-ttu-id="0528b-621">La sortie de console de l’application, affichant toutes les erreurs éventuelles, est transmise à la console Kudu.</span><span class="sxs-lookup"><span data-stu-id="0528b-621">The console output from the app, showing any errors, is piped to the Kudu console.</span></span>

#### <a name="test-a-64-bit-x64-app"></a><span data-ttu-id="0528b-622">Tester une application 64 bits (x64)</span><span class="sxs-lookup"><span data-stu-id="0528b-622">Test a 64-bit (x64) app</span></span>

<span data-ttu-id="0528b-623">**Version actuelle**</span><span class="sxs-lookup"><span data-stu-id="0528b-623">**Current release**</span></span>

* <span data-ttu-id="0528b-624">Si l’application est un [déploiement dépendant du framework](/dotnet/core/deploying/#framework-dependent-deployments-fdd) 64 bits (x64) :</span><span class="sxs-lookup"><span data-stu-id="0528b-624">If the app is a 64-bit (x64) [framework-dependent deployment](/dotnet/core/deploying/#framework-dependent-deployments-fdd):</span></span>
  1. `cd D:\Program Files\dotnet`
  1. <span data-ttu-id="0528b-625">Exécutez l'application : `dotnet \home\site\wwwroot\{ASSEMBLY NAME}.dll`.</span><span class="sxs-lookup"><span data-stu-id="0528b-625">Run the app: `dotnet \home\site\wwwroot\{ASSEMBLY NAME}.dll`</span></span>
* <span data-ttu-id="0528b-626">Si l’application est un [déploiement autonome](/dotnet/core/deploying/#self-contained-deployments-scd) :</span><span class="sxs-lookup"><span data-stu-id="0528b-626">If the app is a [self-contained deployment](/dotnet/core/deploying/#self-contained-deployments-scd):</span></span>
  1. `cd D:\home\site\wwwroot`
  1. <span data-ttu-id="0528b-627">Exécutez l'application : `{ASSEMBLY NAME}.exe`.</span><span class="sxs-lookup"><span data-stu-id="0528b-627">Run the app: `{ASSEMBLY NAME}.exe`</span></span>

<span data-ttu-id="0528b-628">La sortie de console de l’application, affichant toutes les erreurs éventuelles, est transmise à la console Kudu.</span><span class="sxs-lookup"><span data-stu-id="0528b-628">The console output from the app, showing any errors, is piped to the Kudu console.</span></span>

<span data-ttu-id="0528b-629">**Déploiement dépendant du Framework s’exécutant sur une version préliminaire**</span><span class="sxs-lookup"><span data-stu-id="0528b-629">**Framework-dependent deployment running on a preview release**</span></span>

<span data-ttu-id="0528b-630">*Installation de l’extension de site du runtime ASP.NET Core {VERSION} (x64) requise.*</span><span class="sxs-lookup"><span data-stu-id="0528b-630">*Requires installing the ASP.NET Core {VERSION} (x64) Runtime site extension.*</span></span>

1. <span data-ttu-id="0528b-631">`cd D:\home\SiteExtensions\AspNetCoreRuntime.{X.Y}.x64` (`{X.Y}` est la version du runtime).</span><span class="sxs-lookup"><span data-stu-id="0528b-631">`cd D:\home\SiteExtensions\AspNetCoreRuntime.{X.Y}.x64` (`{X.Y}` is the runtime version)</span></span>
1. <span data-ttu-id="0528b-632">Exécutez l'application : `dotnet \home\site\wwwroot\{ASSEMBLY NAME}.dll`.</span><span class="sxs-lookup"><span data-stu-id="0528b-632">Run the app: `dotnet \home\site\wwwroot\{ASSEMBLY NAME}.dll`</span></span>

<span data-ttu-id="0528b-633">La sortie de console de l’application, affichant toutes les erreurs éventuelles, est transmise à la console Kudu.</span><span class="sxs-lookup"><span data-stu-id="0528b-633">The console output from the app, showing any errors, is piped to the Kudu console.</span></span>

### <a name="aspnet-core-module-stdout-log-azure-app-service"></a><span data-ttu-id="0528b-634">Journal stdout du module ASP.NET Core (Azure App Service)</span><span class="sxs-lookup"><span data-stu-id="0528b-634">ASP.NET Core Module stdout log (Azure App Service)</span></span>

<span data-ttu-id="0528b-635">Le journal stdout du module ASP.NET Core enregistre souvent des messages d’erreur utiles et absents du Journal des événements de l’application.</span><span class="sxs-lookup"><span data-stu-id="0528b-635">The ASP.NET Core Module stdout log often records useful error messages not found in the Application Event Log.</span></span> <span data-ttu-id="0528b-636">Pour activer et afficher les journaux stdout :</span><span class="sxs-lookup"><span data-stu-id="0528b-636">To enable and view stdout logs:</span></span>

1. <span data-ttu-id="0528b-637">Accédez au panneau **Diagnostiquer et résoudre les problèmes** du Portail Azure.</span><span class="sxs-lookup"><span data-stu-id="0528b-637">Navigate to the **Diagnose and solve problems** blade in the Azure portal.</span></span>
1. <span data-ttu-id="0528b-638">Sous **SÉLECTIONNER UNE CATÉGORIE DE PROBLÈME**, sélectionnez le bouton **Application web en panne**.</span><span class="sxs-lookup"><span data-stu-id="0528b-638">Under **SELECT PROBLEM CATEGORY**, select the **Web App Down** button.</span></span>
1. <span data-ttu-id="0528b-639">Sous **solutions suggérées** > **activer la redirection de journal stdout**, cliquez sur le bouton pour **ouvrir la console Kudu afin de modifier le fichier Web. config**.</span><span class="sxs-lookup"><span data-stu-id="0528b-639">Under **Suggested Solutions** > **Enable Stdout Log Redirection**, select the button to **Open Kudu Console to edit Web.Config**.</span></span>
1. <span data-ttu-id="0528b-640">Dans la **Console de diagnostic** Kudu, ouvrez les dossiers sur le chemin d’accès **site** > **wwwroot**.</span><span class="sxs-lookup"><span data-stu-id="0528b-640">In the Kudu **Diagnostic Console**, open the folders to the path **site** > **wwwroot**.</span></span> <span data-ttu-id="0528b-641">Faites défiler la page jusqu’à révéler le fichier *web.config* en bas de la liste.</span><span class="sxs-lookup"><span data-stu-id="0528b-641">Scroll down to reveal the *web.config* file at the bottom of the list.</span></span>
1. <span data-ttu-id="0528b-642">Cliquez sur l’icône en forme de crayon à côté du fichier *web.config*.</span><span class="sxs-lookup"><span data-stu-id="0528b-642">Click the pencil icon next to the *web.config* file.</span></span>
1. <span data-ttu-id="0528b-643">Définissez **stdoutLogEnabled** sur `true` et remplacez le chemin **stdoutLogFile** par : `\\?\%home%\LogFiles\stdout`.</span><span class="sxs-lookup"><span data-stu-id="0528b-643">Set **stdoutLogEnabled** to `true` and change the **stdoutLogFile** path to: `\\?\%home%\LogFiles\stdout`.</span></span>
1. <span data-ttu-id="0528b-644">Sélectionnez **Enregistrer** pour enregistrer le fichier *web.config* mis à jour.</span><span class="sxs-lookup"><span data-stu-id="0528b-644">Select **Save** to save the updated *web.config* file.</span></span>
1. <span data-ttu-id="0528b-645">Adressez une demande à l’application.</span><span class="sxs-lookup"><span data-stu-id="0528b-645">Make a request to the app.</span></span>
1. <span data-ttu-id="0528b-646">Revenez au Portail Azure.</span><span class="sxs-lookup"><span data-stu-id="0528b-646">Return to the Azure portal.</span></span> <span data-ttu-id="0528b-647">Sélectionnez le panneau **Outils avancés** dans la zone **OUTILS DE DÉVELOPPEMENT**.</span><span class="sxs-lookup"><span data-stu-id="0528b-647">Select the **Advanced Tools** blade in the **DEVELOPMENT TOOLS** area.</span></span> <span data-ttu-id="0528b-648">Sélectionnez le bouton **Atteindre&rarr;** .</span><span class="sxs-lookup"><span data-stu-id="0528b-648">Select the **Go&rarr;** button.</span></span> <span data-ttu-id="0528b-649">La console Kudu s’ouvre dans un nouvel onglet ou une nouvelle fenêtre du navigateur.</span><span class="sxs-lookup"><span data-stu-id="0528b-649">The Kudu console opens in a new browser tab or window.</span></span>
1. <span data-ttu-id="0528b-650">Dans la barre de navigation en haut de la page, ouvrez **Console de débogage** et sélectionnez **CMD**.</span><span class="sxs-lookup"><span data-stu-id="0528b-650">Using the navigation bar at the top of the page, open **Debug console** and select **CMD**.</span></span>
1. <span data-ttu-id="0528b-651">Sélectionnez le dossier **LogFiles**.</span><span class="sxs-lookup"><span data-stu-id="0528b-651">Select the **LogFiles** folder.</span></span>
1. <span data-ttu-id="0528b-652">Inspectez la colonne **Modifié** et sélectionnez l’icône en forme de crayon pour modifier le journal stdout avec la date de dernière modification.</span><span class="sxs-lookup"><span data-stu-id="0528b-652">Inspect the **Modified** column and select the pencil icon to edit the stdout log with the latest modification date.</span></span>
1. <span data-ttu-id="0528b-653">Lorsque le fichier journal s’ouvre, l’erreur s’affiche.</span><span class="sxs-lookup"><span data-stu-id="0528b-653">When the log file opens, the error is displayed.</span></span>

<span data-ttu-id="0528b-654">Désactivez la journalisation stdout, une fois les problèmes résolus :</span><span class="sxs-lookup"><span data-stu-id="0528b-654">Disable stdout logging when troubleshooting is complete:</span></span>

1. <span data-ttu-id="0528b-655">Dans la **Console de diagnostic** Kudu, revenez au chemin d’accès **site** > **wwwroot** pour faire apparaître le fichier *web.config*.</span><span class="sxs-lookup"><span data-stu-id="0528b-655">In the Kudu **Diagnostic Console**, return to the path **site** > **wwwroot** to reveal the *web.config* file.</span></span> <span data-ttu-id="0528b-656">Ouvrez à nouveau le fichier **web.config** en sélectionnant l’icône en forme de crayon.</span><span class="sxs-lookup"><span data-stu-id="0528b-656">Open the **web.config** file again by selecting the pencil icon.</span></span>
1. <span data-ttu-id="0528b-657">Définissez **stdoutLogEnabled** sur `false`.</span><span class="sxs-lookup"><span data-stu-id="0528b-657">Set **stdoutLogEnabled** to `false`.</span></span>
1. <span data-ttu-id="0528b-658">Sélectionnez **Enregistrer** pour enregistrer le fichier.</span><span class="sxs-lookup"><span data-stu-id="0528b-658">Select **Save** to save the file.</span></span>

<span data-ttu-id="0528b-659">Pour plus d’informations, consultez <xref:host-and-deploy/aspnet-core-module#log-creation-and-redirection>.</span><span class="sxs-lookup"><span data-stu-id="0528b-659">For more information, see <xref:host-and-deploy/aspnet-core-module#log-creation-and-redirection>.</span></span>

> [!WARNING]
> <span data-ttu-id="0528b-660">Si vous ne désactivez pas le journal stdout, l’application ou le serveur risque d’échouer.</span><span class="sxs-lookup"><span data-stu-id="0528b-660">Failure to disable the stdout log can lead to app or server failure.</span></span> <span data-ttu-id="0528b-661">Il n’existe aucune limite quant à la taille du fichier journal ou au nombre de fichiers journaux créés.</span><span class="sxs-lookup"><span data-stu-id="0528b-661">There's no limit on log file size or the number of log files created.</span></span> <span data-ttu-id="0528b-662">N’utilisez la journalisation stdout que pour résoudre les problèmes de démarrage de l’application.</span><span class="sxs-lookup"><span data-stu-id="0528b-662">Only use stdout logging to troubleshoot app startup problems.</span></span>
>
> <span data-ttu-id="0528b-663">Pour la journalisation générale dans une application ASP.NET Core après le démarrage, utilisez une bibliothèque de journalisation qui limite la taille du fichier journal et applique une rotation aux journaux.</span><span class="sxs-lookup"><span data-stu-id="0528b-663">For general logging in an ASP.NET Core app after startup, use a logging library that limits log file size and rotates logs.</span></span> <span data-ttu-id="0528b-664">Pour plus d’informations, voir [Fournisseurs de journalisation tiers](xref:fundamentals/logging/index#third-party-logging-providers).</span><span class="sxs-lookup"><span data-stu-id="0528b-664">For more information, see [third-party logging providers](xref:fundamentals/logging/index#third-party-logging-providers).</span></span>

### <a name="aspnet-core-module-debug-log-azure-app-service"></a><span data-ttu-id="0528b-665">Journal de débogage du module ASP.NET Core (Azure App Service)</span><span class="sxs-lookup"><span data-stu-id="0528b-665">ASP.NET Core Module debug log (Azure App Service)</span></span>

<span data-ttu-id="0528b-666">Le journal de débogage du module ASP.NET Core fournit une journalisation supplémentaire, plus approfondie, à partir du module ASP.NET Core.</span><span class="sxs-lookup"><span data-stu-id="0528b-666">The ASP.NET Core Module debug log provides additional, deeper logging from the ASP.NET Core Module.</span></span> <span data-ttu-id="0528b-667">Pour activer et afficher les journaux stdout :</span><span class="sxs-lookup"><span data-stu-id="0528b-667">To enable and view stdout logs:</span></span>

1. <span data-ttu-id="0528b-668">Pour activer le journal de diagnostic amélioré, effectuez l’une des opérations suivantes :</span><span class="sxs-lookup"><span data-stu-id="0528b-668">To enable the enhanced diagnostic log, perform either of the following:</span></span>
   * <span data-ttu-id="0528b-669">Suivez les instructions indiquées dans [Journaux de diagnostic améliorés](xref:host-and-deploy/aspnet-core-module#enhanced-diagnostic-logs) afin de configurer l’application pour une journalisation des diagnostics améliorée.</span><span class="sxs-lookup"><span data-stu-id="0528b-669">Follow the instructions in [Enhanced diagnostic logs](xref:host-and-deploy/aspnet-core-module#enhanced-diagnostic-logs) to configure the app for an enhanced diagnostic logging.</span></span> <span data-ttu-id="0528b-670">Redéployez l’application.</span><span class="sxs-lookup"><span data-stu-id="0528b-670">Redeploy the app.</span></span>
   * <span data-ttu-id="0528b-671">Ajoutez le `<handlerSettings>` présenté dans [Journaux de diagnostic améliorés](xref:host-and-deploy/aspnet-core-module#enhanced-diagnostic-logs) au fichier *web.config* de l’application en production à l’aide de la console Kudu :</span><span class="sxs-lookup"><span data-stu-id="0528b-671">Add the `<handlerSettings>` shown in [Enhanced diagnostic logs](xref:host-and-deploy/aspnet-core-module#enhanced-diagnostic-logs) to the live app's *web.config* file using the Kudu console:</span></span>
     1. <span data-ttu-id="0528b-672">Ouvrez les **Outils avancés** dans la zone **Outils de développement**.</span><span class="sxs-lookup"><span data-stu-id="0528b-672">Open **Advanced Tools** in the **Development Tools** area.</span></span> <span data-ttu-id="0528b-673">Sélectionnez le bouton **Atteindre&rarr;** .</span><span class="sxs-lookup"><span data-stu-id="0528b-673">Select the **Go&rarr;** button.</span></span> <span data-ttu-id="0528b-674">La console Kudu s’ouvre dans un nouvel onglet ou une nouvelle fenêtre du navigateur.</span><span class="sxs-lookup"><span data-stu-id="0528b-674">The Kudu console opens in a new browser tab or window.</span></span>
     1. <span data-ttu-id="0528b-675">Dans la barre de navigation en haut de la page, ouvrez **Console de débogage** et sélectionnez **CMD**.</span><span class="sxs-lookup"><span data-stu-id="0528b-675">Using the navigation bar at the top of the page, open **Debug console** and select **CMD**.</span></span>
     1. <span data-ttu-id="0528b-676">Ouvrez les dossiers sur le chemin d’accès **site** > **wwwroot**.</span><span class="sxs-lookup"><span data-stu-id="0528b-676">Open the folders to the path **site** > **wwwroot**.</span></span> <span data-ttu-id="0528b-677">Modifiez le fichier *web.config* en sélectionnant le bouton représentant un crayon.</span><span class="sxs-lookup"><span data-stu-id="0528b-677">Edit the *web.config* file by selecting the pencil button.</span></span> <span data-ttu-id="0528b-678">Ajoutez la section `<handlerSettings>` comme indiqué dans [Journaux de diagnostic améliorés](xref:host-and-deploy/aspnet-core-module#enhanced-diagnostic-logs).</span><span class="sxs-lookup"><span data-stu-id="0528b-678">Add the `<handlerSettings>` section as shown in [Enhanced diagnostic logs](xref:host-and-deploy/aspnet-core-module#enhanced-diagnostic-logs).</span></span> <span data-ttu-id="0528b-679">Sélectionnez le bouton **Enregistrer**.</span><span class="sxs-lookup"><span data-stu-id="0528b-679">Select the **Save** button.</span></span>
1. <span data-ttu-id="0528b-680">Ouvrez les **Outils avancés** dans la zone **Outils de développement**.</span><span class="sxs-lookup"><span data-stu-id="0528b-680">Open **Advanced Tools** in the **Development Tools** area.</span></span> <span data-ttu-id="0528b-681">Sélectionnez le bouton **Atteindre&rarr;** .</span><span class="sxs-lookup"><span data-stu-id="0528b-681">Select the **Go&rarr;** button.</span></span> <span data-ttu-id="0528b-682">La console Kudu s’ouvre dans un nouvel onglet ou une nouvelle fenêtre du navigateur.</span><span class="sxs-lookup"><span data-stu-id="0528b-682">The Kudu console opens in a new browser tab or window.</span></span>
1. <span data-ttu-id="0528b-683">Dans la barre de navigation en haut de la page, ouvrez **Console de débogage** et sélectionnez **CMD**.</span><span class="sxs-lookup"><span data-stu-id="0528b-683">Using the navigation bar at the top of the page, open **Debug console** and select **CMD**.</span></span>
1. <span data-ttu-id="0528b-684">Ouvrez les dossiers sur le chemin d’accès **site** > **wwwroot**.</span><span class="sxs-lookup"><span data-stu-id="0528b-684">Open the folders to the path **site** > **wwwroot**.</span></span> <span data-ttu-id="0528b-685">Si vous n’avez pas indiqué de chemin pour le fichier *aspnetcore-debug.log*, le fichier apparaît dans la liste.</span><span class="sxs-lookup"><span data-stu-id="0528b-685">If you didn't supply a path for the *aspnetcore-debug.log* file, the file appears in the list.</span></span> <span data-ttu-id="0528b-686">Si vous avez indiqué un chemin, accédez à l’emplacement du fichier journal.</span><span class="sxs-lookup"><span data-stu-id="0528b-686">If you supplied a path, navigate to the location of the log file.</span></span>
1. <span data-ttu-id="0528b-687">Ouvrez le fichier journal à l’aide du bouton représentant un crayon à côté du nom de fichier.</span><span class="sxs-lookup"><span data-stu-id="0528b-687">Open the log file with the pencil button next to the file name.</span></span>

<span data-ttu-id="0528b-688">Désactivez la journalisation du débogage, une fois la résolution des problèmes effectuée :</span><span class="sxs-lookup"><span data-stu-id="0528b-688">Disable debug logging when troubleshooting is complete:</span></span>

<span data-ttu-id="0528b-689">Pour désactiver la journalisation de débogage améliorée, effectuez l’une des opérations suivantes :</span><span class="sxs-lookup"><span data-stu-id="0528b-689">To disable the enhanced debug log, perform either of the following:</span></span>

* <span data-ttu-id="0528b-690">Supprimez `<handlerSettings>` du fichier *web.config* localement, puis redéployez l’application.</span><span class="sxs-lookup"><span data-stu-id="0528b-690">Remove the `<handlerSettings>` from the *web.config* file locally and redeploy the app.</span></span>
* <span data-ttu-id="0528b-691">Utilisez la console Kudu pour modifier le fichier *web.config* et supprimer la section `<handlerSettings>`.</span><span class="sxs-lookup"><span data-stu-id="0528b-691">Use the Kudu console to edit the *web.config* file and remove the `<handlerSettings>` section.</span></span> <span data-ttu-id="0528b-692">Enregistrez le fichier .</span><span class="sxs-lookup"><span data-stu-id="0528b-692">Save the file.</span></span>

<span data-ttu-id="0528b-693">Pour plus d’informations, consultez <xref:host-and-deploy/aspnet-core-module#enhanced-diagnostic-logs>.</span><span class="sxs-lookup"><span data-stu-id="0528b-693">For more information, see <xref:host-and-deploy/aspnet-core-module#enhanced-diagnostic-logs>.</span></span>

> [!WARNING]
> <span data-ttu-id="0528b-694">Si le journal de débogage n’est pas désactivé, cela peut entraîner une défaillance de l’application ou du serveur.</span><span class="sxs-lookup"><span data-stu-id="0528b-694">Failure to disable the debug log can lead to app or server failure.</span></span> <span data-ttu-id="0528b-695">Il n’existe aucune limite à la taille du fichier journal.</span><span class="sxs-lookup"><span data-stu-id="0528b-695">There's no limit on log file size.</span></span> <span data-ttu-id="0528b-696">Utilisez uniquement la journalisation de débogage pour résoudre les problèmes de démarrage d’application.</span><span class="sxs-lookup"><span data-stu-id="0528b-696">Only use debug logging to troubleshoot app startup problems.</span></span>
>
> <span data-ttu-id="0528b-697">Pour la journalisation générale dans une application ASP.NET Core après le démarrage, utilisez une bibliothèque de journalisation qui limite la taille du fichier journal et applique une rotation aux journaux.</span><span class="sxs-lookup"><span data-stu-id="0528b-697">For general logging in an ASP.NET Core app after startup, use a logging library that limits log file size and rotates logs.</span></span> <span data-ttu-id="0528b-698">Pour plus d’informations, voir [Fournisseurs de journalisation tiers](xref:fundamentals/logging/index#third-party-logging-providers).</span><span class="sxs-lookup"><span data-stu-id="0528b-698">For more information, see [third-party logging providers](xref:fundamentals/logging/index#third-party-logging-providers).</span></span>

### <a name="slow-or-hanging-app-azure-app-service"></a><span data-ttu-id="0528b-699">Application lente ou suspendue (Azure App Service)</span><span class="sxs-lookup"><span data-stu-id="0528b-699">Slow or hanging app (Azure App Service)</span></span>

<span data-ttu-id="0528b-700">Si une application répond lentement ou se bloque sur une requête, voir les articles suivants :</span><span class="sxs-lookup"><span data-stu-id="0528b-700">When an app responds slowly or hangs on a request, see the following articles:</span></span>

* [<span data-ttu-id="0528b-701">Résoudre les problèmes de baisse de performances d’une application web dans Azure App Service</span><span class="sxs-lookup"><span data-stu-id="0528b-701">Troubleshoot slow web app performance issues in Azure App Service</span></span>](/azure/app-service/app-service-web-troubleshoot-performance-degradation)
* [<span data-ttu-id="0528b-702">Utiliser l’extension de site Outil de diagnostic des incidents pour capturer une image mémoire des problèmes d’exception intermittente ou de performances sur Azure Web App</span><span class="sxs-lookup"><span data-stu-id="0528b-702">Use Crash Diagnoser Site Extension to Capture Dump for Intermittent Exception issues or performance issues on Azure Web App</span></span>](https://blogs.msdn.microsoft.com/asiatech/2015/12/28/use-crash-diagnoser-site-extension-to-capture-dump-for-intermittent-exception-issues-or-performance-issues-on-azure-web-app/)

### <a name="monitoring-blades"></a><span data-ttu-id="0528b-703">Panneaux Monitoring</span><span class="sxs-lookup"><span data-stu-id="0528b-703">Monitoring blades</span></span>

<span data-ttu-id="0528b-704">Les panneaux Monitoring offrent une expérience de résolution des erreurs différente des méthodes décrites précédemment dans la rubrique.</span><span class="sxs-lookup"><span data-stu-id="0528b-704">Monitoring blades provide an alternative troubleshooting experience to the methods described earlier in the topic.</span></span> <span data-ttu-id="0528b-705">Ils peuvent servir à diagnostiquer les erreurs de la série 500.</span><span class="sxs-lookup"><span data-stu-id="0528b-705">These blades can be used to diagnose 500-series errors.</span></span>

<span data-ttu-id="0528b-706">Vérifiez que les extensions ASP.NET Core sont installées.</span><span class="sxs-lookup"><span data-stu-id="0528b-706">Confirm that the ASP.NET Core Extensions are installed.</span></span> <span data-ttu-id="0528b-707">Si ce n’est pas le cas, installez-les manuellement :</span><span class="sxs-lookup"><span data-stu-id="0528b-707">If the extensions aren't installed, install them manually:</span></span>

1. <span data-ttu-id="0528b-708">Dans la section du panneau **OUTILS DE DÉVELOPPEMENT**, sélectionnez le panneau **Extensions**.</span><span class="sxs-lookup"><span data-stu-id="0528b-708">In the **DEVELOPMENT TOOLS** blade section, select the **Extensions** blade.</span></span>
1. <span data-ttu-id="0528b-709">Les **Extensions ASP.NET Core** devraient apparaître dans la liste.</span><span class="sxs-lookup"><span data-stu-id="0528b-709">The **ASP.NET Core Extensions** should appear in the list.</span></span>
1. <span data-ttu-id="0528b-710">Si les extensions ne sont pas installées, sélectionnez le bouton **Ajouter**.</span><span class="sxs-lookup"><span data-stu-id="0528b-710">If the extensions aren't installed, select the **Add** button.</span></span>
1. <span data-ttu-id="0528b-711">Choisissez les **Extensions ASP.NET Core** dans la liste.</span><span class="sxs-lookup"><span data-stu-id="0528b-711">Choose the **ASP.NET Core Extensions** from the list.</span></span>
1. <span data-ttu-id="0528b-712">Sélectionnez **OK** pour accepter les conditions légales.</span><span class="sxs-lookup"><span data-stu-id="0528b-712">Select **OK** to accept the legal terms.</span></span>
1. <span data-ttu-id="0528b-713">Sélectionnez **OK** sur le panneau **Ajouter une extension**.</span><span class="sxs-lookup"><span data-stu-id="0528b-713">Select **OK** on the **Add extension** blade.</span></span>
1. <span data-ttu-id="0528b-714">Un message contextuel d’information indique que les extensions sont bien installées.</span><span class="sxs-lookup"><span data-stu-id="0528b-714">An informational pop-up message indicates when the extensions are successfully installed.</span></span>

<span data-ttu-id="0528b-715">Si la journalisation stdout n’est pas activée, suivez les étapes ci-dessous :</span><span class="sxs-lookup"><span data-stu-id="0528b-715">If stdout logging isn't enabled, follow these steps:</span></span>

1. <span data-ttu-id="0528b-716">Sur le Portail Azure, sélectionnez le panneau **Outils avancés** dans la zone **OUTILS DE DÉVELOPPEMENT**.</span><span class="sxs-lookup"><span data-stu-id="0528b-716">In the Azure portal, select the **Advanced Tools** blade in the **DEVELOPMENT TOOLS** area.</span></span> <span data-ttu-id="0528b-717">Sélectionnez le bouton **Atteindre&rarr;** .</span><span class="sxs-lookup"><span data-stu-id="0528b-717">Select the **Go&rarr;** button.</span></span> <span data-ttu-id="0528b-718">La console Kudu s’ouvre dans un nouvel onglet ou une nouvelle fenêtre du navigateur.</span><span class="sxs-lookup"><span data-stu-id="0528b-718">The Kudu console opens in a new browser tab or window.</span></span>
1. <span data-ttu-id="0528b-719">Dans la barre de navigation en haut de la page, ouvrez **Console de débogage** et sélectionnez **CMD**.</span><span class="sxs-lookup"><span data-stu-id="0528b-719">Using the navigation bar at the top of the page, open **Debug console** and select **CMD**.</span></span>
1. <span data-ttu-id="0528b-720">Ouvrez les dossiers sur le **site** du chemin d’accès > **wwwroot** et faites défiler vers le bas pour afficher le fichier *Web. config* au bas de la liste.</span><span class="sxs-lookup"><span data-stu-id="0528b-720">Open the folders to the path **site** > **wwwroot** and scroll down to reveal the *web.config* file at the bottom of the list.</span></span>
1. <span data-ttu-id="0528b-721">Cliquez sur l’icône en forme de crayon à côté du fichier *web.config*.</span><span class="sxs-lookup"><span data-stu-id="0528b-721">Click the pencil icon next to the *web.config* file.</span></span>
1. <span data-ttu-id="0528b-722">Définissez **stdoutLogEnabled** sur `true` et remplacez le chemin **stdoutLogFile** par : `\\?\%home%\LogFiles\stdout`.</span><span class="sxs-lookup"><span data-stu-id="0528b-722">Set **stdoutLogEnabled** to `true` and change the **stdoutLogFile** path to: `\\?\%home%\LogFiles\stdout`.</span></span>
1. <span data-ttu-id="0528b-723">Sélectionnez **Enregistrer** pour enregistrer le fichier *web.config* mis à jour.</span><span class="sxs-lookup"><span data-stu-id="0528b-723">Select **Save** to save the updated *web.config* file.</span></span>

<span data-ttu-id="0528b-724">Maintenant, activez la journalisation des diagnostics :</span><span class="sxs-lookup"><span data-stu-id="0528b-724">Proceed to activate diagnostic logging:</span></span>

1. <span data-ttu-id="0528b-725">Sur le Portail Azure, sélectionnez le panneau **Journaux de diagnostic**.</span><span class="sxs-lookup"><span data-stu-id="0528b-725">In the Azure portal, select the **Diagnostics logs** blade.</span></span>
1. <span data-ttu-id="0528b-726">Basculez **Journalisation des applications (système de fichiers)** et **Messages d’erreur détaillés** sur **Activé**.</span><span class="sxs-lookup"><span data-stu-id="0528b-726">Select the **On** switch for **Application Logging (Filesystem)** and **Detailed error messages**.</span></span> <span data-ttu-id="0528b-727">Sélectionnez le bouton **Enregistrer** en haut du panneau.</span><span class="sxs-lookup"><span data-stu-id="0528b-727">Select the **Save** button at the top of the blade.</span></span>
1. <span data-ttu-id="0528b-728">Pour inclure le suivi des demandes ayant échoué, également appelé Mise en mémoire tampon des événements d’échec des demandes (FREB), basculez **Suivi des demandes ayant échoué** sur **Activé**.</span><span class="sxs-lookup"><span data-stu-id="0528b-728">To include failed request tracing, also known as Failed Request Event Buffering (FREB) logging, select the **On** switch for **Failed request tracing**.</span></span>
1. <span data-ttu-id="0528b-729">Sélectionnez le panneau **Flux du journal** situé juste sous le panneau **Journaux de diagnostic** sur le portail.</span><span class="sxs-lookup"><span data-stu-id="0528b-729">Select the **Log stream** blade, which is listed immediately under the **Diagnostics logs** blade in the portal.</span></span>
1. <span data-ttu-id="0528b-730">Adressez une demande à l’application.</span><span class="sxs-lookup"><span data-stu-id="0528b-730">Make a request to the app.</span></span>
1. <span data-ttu-id="0528b-731">La cause de l’erreur est indiquée dans les données de flux de journal.</span><span class="sxs-lookup"><span data-stu-id="0528b-731">Within the log stream data, the cause of the error is indicated.</span></span>

<span data-ttu-id="0528b-732">Veillez à désactiver la journalisation stdout une fois la résolution des problèmes effectuée.</span><span class="sxs-lookup"><span data-stu-id="0528b-732">Be sure to disable stdout logging when troubleshooting is complete.</span></span>

<span data-ttu-id="0528b-733">Pour afficher les journaux de suivi des demandes ayant échoué (journaux FREB) :</span><span class="sxs-lookup"><span data-stu-id="0528b-733">To view the failed request tracing logs (FREB logs):</span></span>

1. <span data-ttu-id="0528b-734">Accédez au panneau **Diagnostiquer et résoudre les problèmes** du Portail Azure.</span><span class="sxs-lookup"><span data-stu-id="0528b-734">Navigate to the **Diagnose and solve problems** blade in the Azure portal.</span></span>
1. <span data-ttu-id="0528b-735">Sélectionnez **Journaux de suivi des demandes ayant échoué** dans la zone **OUTILS DE PRISE EN CHARGE** de la barre latérale.</span><span class="sxs-lookup"><span data-stu-id="0528b-735">Select **Failed Request Tracing Logs** from the **SUPPORT TOOLS** area of the sidebar.</span></span>

<span data-ttu-id="0528b-736">Voir la [section Traces des demandes ayant échoué de la rubrique Activer la journalisation des diagnostics pour les applications web dans Azure App Service](/azure/app-service/web-sites-enable-diagnostic-log#failed-request-traces) et [FAQ sur les performances des applications web dans Azure : comment activer le suivi des demandes ayant échoué ?](/azure/app-service/app-service-web-availability-performance-application-issues-faq#how-do-i-turn-on-failed-request-tracing) pour plus d’informations.</span><span class="sxs-lookup"><span data-stu-id="0528b-736">See [Failed request traces section of the Enable diagnostics logging for web apps in Azure App Service topic](/azure/app-service/web-sites-enable-diagnostic-log#failed-request-traces) and the [Application performance FAQs for Web Apps in Azure: How do I turn on failed request tracing?](/azure/app-service/app-service-web-availability-performance-application-issues-faq#how-do-i-turn-on-failed-request-tracing) for more information.</span></span>

<span data-ttu-id="0528b-737">Pour plus d’informations, voir [Activer la journalisation des diagnostics pour les applications web dans Azure App Service](/azure/app-service/web-sites-enable-diagnostic-log).</span><span class="sxs-lookup"><span data-stu-id="0528b-737">For more information, see [Enable diagnostics logging for web apps in Azure App Service](/azure/app-service/web-sites-enable-diagnostic-log).</span></span>

> [!WARNING]
> <span data-ttu-id="0528b-738">Si vous ne désactivez pas le journal stdout, l’application ou le serveur risque d’échouer.</span><span class="sxs-lookup"><span data-stu-id="0528b-738">Failure to disable the stdout log can lead to app or server failure.</span></span> <span data-ttu-id="0528b-739">Il n’existe aucune limite quant à la taille du fichier journal ou au nombre de fichiers journaux créés.</span><span class="sxs-lookup"><span data-stu-id="0528b-739">There's no limit on log file size or the number of log files created.</span></span>
>
> <span data-ttu-id="0528b-740">Pour journaliser la routine d’une application ASP.NET Core, utilisez une bibliothèque de journalisation qui limite la taille du fichier journal et appliquez une rotation aux journaux.</span><span class="sxs-lookup"><span data-stu-id="0528b-740">For routine logging in an ASP.NET Core app, use a logging library that limits log file size and rotates logs.</span></span> <span data-ttu-id="0528b-741">Pour plus d’informations, voir [Fournisseurs de journalisation tiers](xref:fundamentals/logging/index#third-party-logging-providers).</span><span class="sxs-lookup"><span data-stu-id="0528b-741">For more information, see [third-party logging providers](xref:fundamentals/logging/index#third-party-logging-providers).</span></span>

## <a name="troubleshoot-on-iis"></a><span data-ttu-id="0528b-742">Résoudre les problèmes sur IIS</span><span class="sxs-lookup"><span data-stu-id="0528b-742">Troubleshoot on IIS</span></span>

### <a name="application-event-log-iis"></a><span data-ttu-id="0528b-743">Journal des événements d’application (IIS)</span><span class="sxs-lookup"><span data-stu-id="0528b-743">Application Event Log (IIS)</span></span>

<span data-ttu-id="0528b-744">Accédez au Journal des événements de l’application :</span><span class="sxs-lookup"><span data-stu-id="0528b-744">Access the Application Event Log:</span></span>

1. <span data-ttu-id="0528b-745">Ouvrez le menu Démarrer, recherchez *Observateur d’événements*, puis sélectionnez l’application **Observateur d’événements** .</span><span class="sxs-lookup"><span data-stu-id="0528b-745">Open the Start menu, search for *Event Viewer*, and select the **Event Viewer** app.</span></span>
1. <span data-ttu-id="0528b-746">Dans **Observateur d’événements**, ouvrez le nœud **Journaux Windows**.</span><span class="sxs-lookup"><span data-stu-id="0528b-746">In **Event Viewer**, open the **Windows Logs** node.</span></span>
1. <span data-ttu-id="0528b-747">Sélectionnez **Application** pour ouvrir le Journal des événements de l’application.</span><span class="sxs-lookup"><span data-stu-id="0528b-747">Select **Application** to open the Application Event Log.</span></span>
1. <span data-ttu-id="0528b-748">Recherchez les erreurs liées à l’application défectueuse.</span><span class="sxs-lookup"><span data-stu-id="0528b-748">Search for errors associated with the failing app.</span></span> <span data-ttu-id="0528b-749">Les erreurs sont signalées par une valeur *IIS AspNetCore Module* (Module AspNetCore IIS) ou *IIS Express AspNetCore Module* (Module AspNetCore IIS Express) dans la colonne *Source*.</span><span class="sxs-lookup"><span data-stu-id="0528b-749">Errors have a value of *IIS AspNetCore Module* or *IIS Express AspNetCore Module* in the *Source* column.</span></span>

### <a name="run-the-app-at-a-command-prompt"></a><span data-ttu-id="0528b-750">Exécuter l’application depuis une invite de commandes</span><span class="sxs-lookup"><span data-stu-id="0528b-750">Run the app at a command prompt</span></span>

<span data-ttu-id="0528b-751">De nombreuses erreurs de démarrage ne produisent pas d’informations utiles dans le Journal des événements de l’application.</span><span class="sxs-lookup"><span data-stu-id="0528b-751">Many startup errors don't produce useful information in the Application Event Log.</span></span> <span data-ttu-id="0528b-752">Vous pouvez trouver la cause de certaines erreurs en exécutant l’application depuis une invite de commandes sur le système hôte.</span><span class="sxs-lookup"><span data-stu-id="0528b-752">You can find the cause of some errors by running the app at a command prompt on the hosting system.</span></span>

#### <a name="framework-dependent-deployment"></a><span data-ttu-id="0528b-753">Déploiement dépendant du framework</span><span class="sxs-lookup"><span data-stu-id="0528b-753">Framework-dependent deployment</span></span>

<span data-ttu-id="0528b-754">Si l’application est un [déploiement dépendant du framework](/dotnet/core/deploying/#framework-dependent-deployments-fdd) :</span><span class="sxs-lookup"><span data-stu-id="0528b-754">If the app is a [framework-dependent deployment](/dotnet/core/deploying/#framework-dependent-deployments-fdd):</span></span>

1. <span data-ttu-id="0528b-755">Depuis une invite de commandes, accédez au dossier de déploiement et exécutez l’application en exécutant l’assembly de l’application avec *dotnet.exe*.</span><span class="sxs-lookup"><span data-stu-id="0528b-755">At a command prompt, navigate to the deployment folder and run the app by executing the app's assembly with *dotnet.exe*.</span></span> <span data-ttu-id="0528b-756">Dans la commande suivante, substituez le nom de l’assembly de l’application à \<assembly_name>: `dotnet .\<assembly_name>.dll`.</span><span class="sxs-lookup"><span data-stu-id="0528b-756">In the following command, substitute the name of the app's assembly for \<assembly_name>: `dotnet .\<assembly_name>.dll`.</span></span>
1. <span data-ttu-id="0528b-757">La sortie de console de l’application est écrite dans la fenêtre de console, affichant toutes les erreurs éventuelles.</span><span class="sxs-lookup"><span data-stu-id="0528b-757">The console output from the app, showing any errors, is written to the console window.</span></span>
1. <span data-ttu-id="0528b-758">Si les erreurs se produisent pendant qu’une requête est adressée à l’application, effectuez une requête en direction de l’hôte et du port sur lequel Kestrel écoute.</span><span class="sxs-lookup"><span data-stu-id="0528b-758">If the errors occur when making a request to the app, make a request to the host and port where Kestrel listens.</span></span> <span data-ttu-id="0528b-759">À l’aide de l’hôte et du port par défaut, faites une requête en direction de `http://localhost:5000/`.</span><span class="sxs-lookup"><span data-stu-id="0528b-759">Using the default host and post, make a request to `http://localhost:5000/`.</span></span> <span data-ttu-id="0528b-760">Si l’application répond normalement à l’adresse de point de terminaison Kestrel, le problème est probablement lié à la configuration de l’hébergement plutôt qu’à l’application.</span><span class="sxs-lookup"><span data-stu-id="0528b-760">If the app responds normally at the Kestrel endpoint address, the problem is more likely related to the hosting configuration and less likely within the app.</span></span>

#### <a name="self-contained-deployment"></a><span data-ttu-id="0528b-761">Déploiement autonome</span><span class="sxs-lookup"><span data-stu-id="0528b-761">Self-contained deployment</span></span>

<span data-ttu-id="0528b-762">Si l’application est un [déploiement autonome](/dotnet/core/deploying/#self-contained-deployments-scd) :</span><span class="sxs-lookup"><span data-stu-id="0528b-762">If the app is a [self-contained deployment](/dotnet/core/deploying/#self-contained-deployments-scd):</span></span>

1. <span data-ttu-id="0528b-763">Depuis une invite de commandes, accédez au dossier de déploiement et exécutez l’exécutable de l’application.</span><span class="sxs-lookup"><span data-stu-id="0528b-763">At a command prompt, navigate to the deployment folder and run the app's executable.</span></span> <span data-ttu-id="0528b-764">Dans la commande suivante, substituez le nom de l’assembly de l’application à \<assembly_name>: `<assembly_name>.exe`.</span><span class="sxs-lookup"><span data-stu-id="0528b-764">In the following command, substitute the name of the app's assembly for \<assembly_name>: `<assembly_name>.exe`.</span></span>
1. <span data-ttu-id="0528b-765">La sortie de console de l’application est écrite dans la fenêtre de console, affichant toutes les erreurs éventuelles.</span><span class="sxs-lookup"><span data-stu-id="0528b-765">The console output from the app, showing any errors, is written to the console window.</span></span>
1. <span data-ttu-id="0528b-766">Si les erreurs se produisent pendant qu’une requête est adressée à l’application, effectuez une requête en direction de l’hôte et du port sur lequel Kestrel écoute.</span><span class="sxs-lookup"><span data-stu-id="0528b-766">If the errors occur when making a request to the app, make a request to the host and port where Kestrel listens.</span></span> <span data-ttu-id="0528b-767">À l’aide de l’hôte et du port par défaut, faites une requête en direction de `http://localhost:5000/`.</span><span class="sxs-lookup"><span data-stu-id="0528b-767">Using the default host and post, make a request to `http://localhost:5000/`.</span></span> <span data-ttu-id="0528b-768">Si l’application répond normalement à l’adresse de point de terminaison Kestrel, le problème est probablement lié à la configuration de l’hébergement plutôt qu’à l’application.</span><span class="sxs-lookup"><span data-stu-id="0528b-768">If the app responds normally at the Kestrel endpoint address, the problem is more likely related to the hosting configuration and less likely within the app.</span></span>

### <a name="aspnet-core-module-stdout-log-iis"></a><span data-ttu-id="0528b-769">Journal stdout du module ASP.NET Core (IIS)</span><span class="sxs-lookup"><span data-stu-id="0528b-769">ASP.NET Core Module stdout log (IIS)</span></span>

<span data-ttu-id="0528b-770">Pour activer et afficher les journaux stdout :</span><span class="sxs-lookup"><span data-stu-id="0528b-770">To enable and view stdout logs:</span></span>

1. <span data-ttu-id="0528b-771">Accédez au dossier de déploiement du site sur le système hôte.</span><span class="sxs-lookup"><span data-stu-id="0528b-771">Navigate to the site's deployment folder on the hosting system.</span></span>
1. <span data-ttu-id="0528b-772">Si le dossier *logs* n’est pas présent, créez-le.</span><span class="sxs-lookup"><span data-stu-id="0528b-772">If the *logs* folder isn't present, create the folder.</span></span> <span data-ttu-id="0528b-773">Pour obtenir des instructions sur l’activation de MSBuild et créer le dossier *logs* dans le déploiement automatiquement, consultez la rubrique [Structure des répertoires](xref:host-and-deploy/directory-structure).</span><span class="sxs-lookup"><span data-stu-id="0528b-773">For instructions on how to enable MSBuild to create the *logs* folder in the deployment automatically, see the [Directory structure](xref:host-and-deploy/directory-structure) topic.</span></span>
1. <span data-ttu-id="0528b-774">Modifiez le fichier *web.config*.</span><span class="sxs-lookup"><span data-stu-id="0528b-774">Edit the *web.config* file.</span></span> <span data-ttu-id="0528b-775">Définissez **stdoutLogEnabled** sur `true` et faites pointer le chemin **stdoutLogFile** vers le dossier *logs* (par exemple, `.\logs\stdout`).</span><span class="sxs-lookup"><span data-stu-id="0528b-775">Set **stdoutLogEnabled** to `true` and change the **stdoutLogFile** path to point to the *logs* folder (for example, `.\logs\stdout`).</span></span> <span data-ttu-id="0528b-776">Dans le chemin, `stdout` est le préfixe du nom du fichier journal.</span><span class="sxs-lookup"><span data-stu-id="0528b-776">`stdout` in the path is the log file name prefix.</span></span> <span data-ttu-id="0528b-777">Un horodatage, un ID de processus et une extension de fichier sont ajoutés automatiquement quand le journal est créé.</span><span class="sxs-lookup"><span data-stu-id="0528b-777">A timestamp, process id, and file extension are added automatically when the log is created.</span></span> <span data-ttu-id="0528b-778">Si `stdout` est utilisé comme préfixe du nom de fichier, un fichier journal classique porte le nom *stdout_20180205184032_5412.log*.</span><span class="sxs-lookup"><span data-stu-id="0528b-778">Using `stdout` as the file name prefix, a typical log file is named *stdout_20180205184032_5412.log*.</span></span>
1. <span data-ttu-id="0528b-779">Vérifiez que l’identité de votre pool d’applications dispose des autorisations d’écriture sur le dossier *logs*.</span><span class="sxs-lookup"><span data-stu-id="0528b-779">Ensure your application pool's identity has write permissions to the *logs* folder.</span></span>
1. <span data-ttu-id="0528b-780">Enregistrez le fichier *web.config* mis à jour.</span><span class="sxs-lookup"><span data-stu-id="0528b-780">Save the updated *web.config* file.</span></span>
1. <span data-ttu-id="0528b-781">Adressez une demande à l’application.</span><span class="sxs-lookup"><span data-stu-id="0528b-781">Make a request to the app.</span></span>
1. <span data-ttu-id="0528b-782">Accédez au dossier *logs*.</span><span class="sxs-lookup"><span data-stu-id="0528b-782">Navigate to the *logs* folder.</span></span> <span data-ttu-id="0528b-783">Recherchez et ouvrez le journal stdout le plus récent.</span><span class="sxs-lookup"><span data-stu-id="0528b-783">Find and open the most recent stdout log.</span></span>
1. <span data-ttu-id="0528b-784">Déterminez si le journal contient des erreurs.</span><span class="sxs-lookup"><span data-stu-id="0528b-784">Study the log for errors.</span></span>

<span data-ttu-id="0528b-785">Désactivez la journalisation stdout, une fois les problèmes résolus :</span><span class="sxs-lookup"><span data-stu-id="0528b-785">Disable stdout logging when troubleshooting is complete:</span></span>

1. <span data-ttu-id="0528b-786">Modifiez le fichier *web.config*.</span><span class="sxs-lookup"><span data-stu-id="0528b-786">Edit the *web.config* file.</span></span>
1. <span data-ttu-id="0528b-787">Définissez **stdoutLogEnabled** sur `false`.</span><span class="sxs-lookup"><span data-stu-id="0528b-787">Set **stdoutLogEnabled** to `false`.</span></span>
1. <span data-ttu-id="0528b-788">Enregistrez le fichier .</span><span class="sxs-lookup"><span data-stu-id="0528b-788">Save the file.</span></span>

<span data-ttu-id="0528b-789">Pour plus d’informations, consultez <xref:host-and-deploy/aspnet-core-module#log-creation-and-redirection>.</span><span class="sxs-lookup"><span data-stu-id="0528b-789">For more information, see <xref:host-and-deploy/aspnet-core-module#log-creation-and-redirection>.</span></span>

> [!WARNING]
> <span data-ttu-id="0528b-790">Si vous ne désactivez pas le journal stdout, l’application ou le serveur risque d’échouer.</span><span class="sxs-lookup"><span data-stu-id="0528b-790">Failure to disable the stdout log can lead to app or server failure.</span></span> <span data-ttu-id="0528b-791">Il n’existe aucune limite quant à la taille du fichier journal ou au nombre de fichiers journaux créés.</span><span class="sxs-lookup"><span data-stu-id="0528b-791">There's no limit on log file size or the number of log files created.</span></span>
>
> <span data-ttu-id="0528b-792">Pour journaliser la routine d’une application ASP.NET Core, utilisez une bibliothèque de journalisation qui limite la taille du fichier journal et appliquez une rotation aux journaux.</span><span class="sxs-lookup"><span data-stu-id="0528b-792">For routine logging in an ASP.NET Core app, use a logging library that limits log file size and rotates logs.</span></span> <span data-ttu-id="0528b-793">Pour plus d’informations, voir [Fournisseurs de journalisation tiers](xref:fundamentals/logging/index#third-party-logging-providers).</span><span class="sxs-lookup"><span data-stu-id="0528b-793">For more information, see [third-party logging providers](xref:fundamentals/logging/index#third-party-logging-providers).</span></span>

### <a name="aspnet-core-module-debug-log-iis"></a><span data-ttu-id="0528b-794">Journal de débogage du module ASP.NET Core (IIS)</span><span class="sxs-lookup"><span data-stu-id="0528b-794">ASP.NET Core Module debug log (IIS)</span></span>

<span data-ttu-id="0528b-795">Ajoutez les paramètres de gestionnaire suivants au fichier *Web. config* de l’application pour activer ASP.net Core journal de débogage du module :</span><span class="sxs-lookup"><span data-stu-id="0528b-795">Add the following handler settings to the app's *web.config* file to enable ASP.NET Core Module debug log:</span></span>

```xml
<aspNetCore ...>
  <handlerSettings>
    <handlerSetting name="debugLevel" value="file" />
    <handlerSetting name="debugFile" value="c:\temp\ancm.log" />
  </handlerSettings>
</aspNetCore>
```

<span data-ttu-id="0528b-796">Vérifiez que le chemin spécifié pour le journal existe, et que l’identité du pool d’applications dispose des autorisations en écriture pour l’emplacement.</span><span class="sxs-lookup"><span data-stu-id="0528b-796">Confirm that the path specified for the log exists and that the app pool's identity has write permissions to the location.</span></span>

<span data-ttu-id="0528b-797">Pour plus d’informations, consultez <xref:host-and-deploy/aspnet-core-module#enhanced-diagnostic-logs>.</span><span class="sxs-lookup"><span data-stu-id="0528b-797">For more information, see <xref:host-and-deploy/aspnet-core-module#enhanced-diagnostic-logs>.</span></span>

### <a name="enable-the-developer-exception-page"></a><span data-ttu-id="0528b-798">Afficher la page d’exception de développeur</span><span class="sxs-lookup"><span data-stu-id="0528b-798">Enable the Developer Exception Page</span></span>

<span data-ttu-id="0528b-799">La [variable d’environnement `ASPNETCORE_ENVIRONMENT` peut être ajoutée à Web. config](xref:host-and-deploy/aspnet-core-module#setting-environment-variables) pour exécuter l’application dans l’environnement de développement.</span><span class="sxs-lookup"><span data-stu-id="0528b-799">The `ASPNETCORE_ENVIRONMENT` [environment variable can be added to web.config](xref:host-and-deploy/aspnet-core-module#setting-environment-variables) to run the app in the Development environment.</span></span> <span data-ttu-id="0528b-800">Tant que l’environnement n’est pas substitué dans le démarrage de l’application par `UseEnvironment` sur le générateur de l’hôte, la définition de la variable d’environnement permet à la [page d’exception de développeur](xref:fundamentals/error-handling) d’apparaître quand l’application est exécutée.</span><span class="sxs-lookup"><span data-stu-id="0528b-800">As long as the environment isn't overridden in app startup by `UseEnvironment` on the host builder, setting the environment variable allows the [Developer Exception Page](xref:fundamentals/error-handling) to appear when the app is run.</span></span>

```xml
<aspNetCore processPath="dotnet"
      arguments=".\MyApp.dll"
      stdoutLogEnabled="false"
      stdoutLogFile=".\logs\stdout"
      hostingModel="InProcess">
  <environmentVariables>
    <environmentVariable name="ASPNETCORE_ENVIRONMENT" value="Development" />
  </environmentVariables>
</aspNetCore>
```

<span data-ttu-id="0528b-801">La définition de la variable d’environnement `ASPNETCORE_ENVIRONMENT` est recommandée uniquement en vue d’une utilisation sur les serveurs de préproduction et de test qui ne sont pas exposés à Internet.</span><span class="sxs-lookup"><span data-stu-id="0528b-801">Setting the environment variable for `ASPNETCORE_ENVIRONMENT` is only recommended for use on staging and testing servers that aren't exposed to the Internet.</span></span> <span data-ttu-id="0528b-802">Supprimez la variable d’environnement du fichier *web.config* une fois la résolution des problèmes effectuée.</span><span class="sxs-lookup"><span data-stu-id="0528b-802">Remove the environment variable from the *web.config* file after troubleshooting.</span></span> <span data-ttu-id="0528b-803">Pour plus d’informations sur la définition des variables d’environnement dans *web.config*, consultez la section sur [l’élément enfant environmentVariables d’aspNetCore](xref:host-and-deploy/aspnet-core-module#setting-environment-variables).</span><span class="sxs-lookup"><span data-stu-id="0528b-803">For information on setting environment variables in *web.config*, see [environmentVariables child element of aspNetCore](xref:host-and-deploy/aspnet-core-module#setting-environment-variables).</span></span>

### <a name="obtain-data-from-an-app"></a><span data-ttu-id="0528b-804">Obtenir des données à partir d’une application</span><span class="sxs-lookup"><span data-stu-id="0528b-804">Obtain data from an app</span></span>

<span data-ttu-id="0528b-805">Si une application est capable de répondre aux requêtes, obtenez des informations sur une requête, une connexion et d’autres informations supplémentaires à partir d’une application à l’aide de l’intergiciel en ligne terminal.</span><span class="sxs-lookup"><span data-stu-id="0528b-805">If an app is capable of responding to requests, obtain request, connection, and additional data from the app using terminal inline middleware.</span></span> <span data-ttu-id="0528b-806">Pour obtenir des informations supplémentaires ainsi qu'un code d'exemple, consultez <xref:test/troubleshoot#obtain-data-from-an-app>.</span><span class="sxs-lookup"><span data-stu-id="0528b-806">For more information and sample code, see <xref:test/troubleshoot#obtain-data-from-an-app>.</span></span>

### <a name="slow-or-hanging-app-iis"></a><span data-ttu-id="0528b-807">Application lente ou bloquée (IIS)</span><span class="sxs-lookup"><span data-stu-id="0528b-807">Slow or hanging app (IIS)</span></span>

<span data-ttu-id="0528b-808">Un *vidage sur incident* est un instantané de la mémoire du système et peut aider à déterminer la cause d’un incident d’application, d’un échec de démarrage ou d’une application lente.</span><span class="sxs-lookup"><span data-stu-id="0528b-808">A *crash dump* is a snapshot of the system's memory and can help determine the cause of an app crash, startup failure, or slow app.</span></span>

#### <a name="app-crashes-or-encounters-an-exception"></a><span data-ttu-id="0528b-809">L’application cesse de fonctionner ou rencontre une exception</span><span class="sxs-lookup"><span data-stu-id="0528b-809">App crashes or encounters an exception</span></span>

<span data-ttu-id="0528b-810">Obtenez un fichier dump et analysez-le depuis le [Rapport d'erreurs Windows](/windows/desktop/wer/windows-error-reporting) :</span><span class="sxs-lookup"><span data-stu-id="0528b-810">Obtain and analyze a dump from [Windows Error Reporting (WER)](/windows/desktop/wer/windows-error-reporting):</span></span>

1. <span data-ttu-id="0528b-811">Créez un dossier pour accueillir les fichiers d’image mémoire dans `c:\dumps`.</span><span class="sxs-lookup"><span data-stu-id="0528b-811">Create a folder to hold crash dump files at `c:\dumps`.</span></span> <span data-ttu-id="0528b-812">Le pool d’application doit disposer des accès d’écriture dans le dossier.</span><span class="sxs-lookup"><span data-stu-id="0528b-812">The app pool must have write access to the folder.</span></span>
1. <span data-ttu-id="0528b-813">Exécutez le [script PowerShell EnableDumps](https://github.com/dotnet/AspNetCore.Docs/blob/master/aspnetcore/test/troubleshoot-azure-iis/scripts/EnableDumps.ps1) :</span><span class="sxs-lookup"><span data-stu-id="0528b-813">Run the [EnableDumps PowerShell script](https://github.com/dotnet/AspNetCore.Docs/blob/master/aspnetcore/test/troubleshoot-azure-iis/scripts/EnableDumps.ps1):</span></span>
   * <span data-ttu-id="0528b-814">Si l’application utilise le [modèle d’hébergement in-process](xref:host-and-deploy/iis/index#in-process-hosting-model), exécutez le script pour *w3wp.exe* :</span><span class="sxs-lookup"><span data-stu-id="0528b-814">If the app uses the [in-process hosting model](xref:host-and-deploy/iis/index#in-process-hosting-model), run the script for *w3wp.exe*:</span></span>

     ```console
     .\EnableDumps w3wp.exe c:\dumps
     ```

   * <span data-ttu-id="0528b-815">Si l’application utilise le [modèle d’hébergement out-of-process](xref:host-and-deploy/iis/index#out-of-process-hosting-model), exécutez le script pour *dotnet.exe* :</span><span class="sxs-lookup"><span data-stu-id="0528b-815">If the app uses the [out-of-process hosting model](xref:host-and-deploy/iis/index#out-of-process-hosting-model), run the script for *dotnet.exe*:</span></span>

     ```console
     .\EnableDumps dotnet.exe c:\dumps
     ```

1. <span data-ttu-id="0528b-816">Exécutez l’application en reproduisant les conditions ayant entraîné l’incident.</span><span class="sxs-lookup"><span data-stu-id="0528b-816">Run the app under the conditions that cause the crash to occur.</span></span>
1. <span data-ttu-id="0528b-817">Une fois l’incident survenu, exécutez le [script PowerShell DisableDumps](https://github.com/dotnet/AspNetCore.Docs/blob/master/aspnetcore/test/troubleshoot-azure-iis/scripts/DisableDumps.ps1) :</span><span class="sxs-lookup"><span data-stu-id="0528b-817">After the crash has occurred, run the [DisableDumps PowerShell script](https://github.com/dotnet/AspNetCore.Docs/blob/master/aspnetcore/test/troubleshoot-azure-iis/scripts/DisableDumps.ps1):</span></span>
   * <span data-ttu-id="0528b-818">Si l’application utilise le [modèle d’hébergement in-process](xref:host-and-deploy/iis/index#in-process-hosting-model), exécutez le script pour *w3wp.exe* :</span><span class="sxs-lookup"><span data-stu-id="0528b-818">If the app uses the [in-process hosting model](xref:host-and-deploy/iis/index#in-process-hosting-model), run the script for *w3wp.exe*:</span></span>

     ```console
     .\DisableDumps w3wp.exe
     ```

   * <span data-ttu-id="0528b-819">Si l’application utilise le [modèle d’hébergement out-of-process](xref:host-and-deploy/iis/index#out-of-process-hosting-model), exécutez le script pour *dotnet.exe* :</span><span class="sxs-lookup"><span data-stu-id="0528b-819">If the app uses the [out-of-process hosting model](xref:host-and-deploy/iis/index#out-of-process-hosting-model), run the script for *dotnet.exe*:</span></span>

     ```console
     .\DisableDumps dotnet.exe
     ```

<span data-ttu-id="0528b-820">Après l’arrêt de l’application et après avoir terminé la collection dump, l’application peut être fermée normalement.</span><span class="sxs-lookup"><span data-stu-id="0528b-820">After an app crashes and dump collection is complete, the app is allowed to terminate normally.</span></span> <span data-ttu-id="0528b-821">Le script PowerShell configure le rapport d’erreurs Windows pour collecter jusqu'à cinq fichiers dump par application.</span><span class="sxs-lookup"><span data-stu-id="0528b-821">The PowerShell script configures WER to collect up to five dumps per app.</span></span>

> [!WARNING]
> <span data-ttu-id="0528b-822">Les fichiers dump d’incident peuvent occuper plus d’espace disque (jusqu’à plusieurs gigaoctets par fichier).</span><span class="sxs-lookup"><span data-stu-id="0528b-822">Crash dumps might take up a large amount of disk space (up to several gigabytes each).</span></span>

#### <a name="app-hangs-fails-during-startup-or-runs-normally"></a><span data-ttu-id="0528b-823">L’application se bloque, ne démarre pas ou s’exécute normalement</span><span class="sxs-lookup"><span data-stu-id="0528b-823">App hangs, fails during startup, or runs normally</span></span>

<span data-ttu-id="0528b-824">Quand une application *se bloque* (cesse de répondre mais ne se bloque pas), échoue pendant le démarrage ou s’exécute normalement, consultez [fichiers de vidage en mode utilisateur : choix de l’outil le mieux](/windows-hardware/drivers/debugger/user-mode-dump-files#choosing-the-best-tool) adapté pour sélectionner un outil approprié pour produire le vidage.</span><span class="sxs-lookup"><span data-stu-id="0528b-824">When an app *hangs* (stops responding but doesn't crash), fails during startup, or runs normally, see [User-Mode Dump Files: Choosing the Best Tool](/windows-hardware/drivers/debugger/user-mode-dump-files#choosing-the-best-tool) to select an appropriate tool to produce the dump.</span></span>

#### <a name="analyze-the-dump"></a><span data-ttu-id="0528b-825">Analyser le fichier dump</span><span class="sxs-lookup"><span data-stu-id="0528b-825">Analyze the dump</span></span>

<span data-ttu-id="0528b-826">Un fichier dump peut être analysé à l’aide de plusieurs approches.</span><span class="sxs-lookup"><span data-stu-id="0528b-826">A dump can be analyzed using several approaches.</span></span> <span data-ttu-id="0528b-827">Pour plus d’informations, consultez [Analyzing a User-Mode Dump File](/windows-hardware/drivers/debugger/analyzing-a-user-mode-dump-file) (Analyser un fichier dump en mode utilisateur).</span><span class="sxs-lookup"><span data-stu-id="0528b-827">For more information, see [Analyzing a User-Mode Dump File](/windows-hardware/drivers/debugger/analyzing-a-user-mode-dump-file).</span></span>

## <a name="clear-package-caches"></a><span data-ttu-id="0528b-828">Effacer les caches de package</span><span class="sxs-lookup"><span data-stu-id="0528b-828">Clear package caches</span></span>

<span data-ttu-id="0528b-829">Une application fonctionnelle peut échouer immédiatement après la mise à niveau de la kit SDK .NET Core sur l’ordinateur de développement ou la modification des versions de package dans l’application.</span><span class="sxs-lookup"><span data-stu-id="0528b-829">A functioning app may fail immediately after upgrading either the .NET Core SDK on the development machine or changing package versions within the app.</span></span> <span data-ttu-id="0528b-830">Dans certains cas, les packages incohérents peuvent bloquer une application quand vous effectuez des mises à niveau majeures.</span><span class="sxs-lookup"><span data-stu-id="0528b-830">In some cases, incoherent packages may break an app when performing major upgrades.</span></span> <span data-ttu-id="0528b-831">Vous pouvez résoudre la plupart de ces problèmes en suivant les instructions suivantes :</span><span class="sxs-lookup"><span data-stu-id="0528b-831">Most of these issues can be fixed by following these instructions:</span></span>

1. <span data-ttu-id="0528b-832">Supprimez les dossiers *bin* et *obj*.</span><span class="sxs-lookup"><span data-stu-id="0528b-832">Delete the *bin* and *obj* folders.</span></span>
1. <span data-ttu-id="0528b-833">Effacez les caches de package en exécutant [dotnet NuGet LOCALS tout--Clear](/dotnet/core/tools/dotnet-nuget-locals) dans une interface de commande.</span><span class="sxs-lookup"><span data-stu-id="0528b-833">Clear the package caches by executing [dotnet nuget locals all --clear](/dotnet/core/tools/dotnet-nuget-locals) from a command shell.</span></span>

   <span data-ttu-id="0528b-834">L’effacement des caches de package peut également être effectué à l’aide de l’outil [NuGet. exe](https://www.nuget.org/downloads) et en exécutant la commande `nuget locals all -clear`.</span><span class="sxs-lookup"><span data-stu-id="0528b-834">Clearing package caches can also be accomplished with the [nuget.exe](https://www.nuget.org/downloads) tool and executing the command `nuget locals all -clear`.</span></span> <span data-ttu-id="0528b-835">*NuGet.exe* n’étant pas une installation fournie avec le système d’exploitation de bureau Windows, il doit être obtenu séparément à partir du [site web de NuGet](https://www.nuget.org/downloads).</span><span class="sxs-lookup"><span data-stu-id="0528b-835">*nuget.exe* isn't a bundled install with the Windows desktop operating system and must be obtained separately from the [NuGet website](https://www.nuget.org/downloads).</span></span>

1. <span data-ttu-id="0528b-836">Restaurez et regénérez le projet.</span><span class="sxs-lookup"><span data-stu-id="0528b-836">Restore and rebuild the project.</span></span>
1. <span data-ttu-id="0528b-837">Supprimez tous les fichiers du dossier de déploiement sur le serveur avant de redéployer l’application.</span><span class="sxs-lookup"><span data-stu-id="0528b-837">Delete all of the files in the deployment folder on the server prior to redeploying the app.</span></span>

## <a name="additional-resources"></a><span data-ttu-id="0528b-838">Ressources supplémentaires</span><span class="sxs-lookup"><span data-stu-id="0528b-838">Additional resources</span></span>

* <xref:test/troubleshoot>
* <xref:host-and-deploy/azure-iis-errors-reference>
* <xref:fundamentals/error-handling>
* <xref:host-and-deploy/aspnet-core-module>

### <a name="azure-documentation"></a><span data-ttu-id="0528b-839">Documentation Azure</span><span class="sxs-lookup"><span data-stu-id="0528b-839">Azure documentation</span></span>

* [<span data-ttu-id="0528b-840">Application Insights pour ASP.NET Core</span><span class="sxs-lookup"><span data-stu-id="0528b-840">Application Insights for ASP.NET Core</span></span>](/azure/application-insights/app-insights-asp-net-core)
* [<span data-ttu-id="0528b-841">Section débogage à distance des applications Web de dépanner une application Web dans Azure App Service à l’aide de Visual Studio</span><span class="sxs-lookup"><span data-stu-id="0528b-841">Remote debugging web apps section of Troubleshoot a web app in Azure App Service using Visual Studio</span></span>](/azure/app-service/web-sites-dotnet-troubleshoot-visual-studio#remotedebug)
* [<span data-ttu-id="0528b-842">Vue d’ensemble des diagnostics Azure App Service</span><span class="sxs-lookup"><span data-stu-id="0528b-842">Azure App Service diagnostics overview</span></span>](/azure/app-service/app-service-diagnostics)
* [<span data-ttu-id="0528b-843">Surveillance des applications dans Azure App Service</span><span class="sxs-lookup"><span data-stu-id="0528b-843">How to: Monitor Apps in Azure App Service</span></span>](/azure/app-service/web-sites-monitor)
* [<span data-ttu-id="0528b-844">Résoudre les problèmes d’une application web dans Azure App Service avec Visual Studio</span><span class="sxs-lookup"><span data-stu-id="0528b-844">Troubleshoot a web app in Azure App Service using Visual Studio</span></span>](/azure/app-service/web-sites-dotnet-troubleshoot-visual-studio)
* [<span data-ttu-id="0528b-845">Résoudre les erreurs HTTP « 502 Passerelle incorrecte » et « 503 Service non disponible » dans des applications web Azure</span><span class="sxs-lookup"><span data-stu-id="0528b-845">Troubleshoot HTTP errors of "502 bad gateway" and "503 service unavailable" in your Azure web apps</span></span>](/azure/app-service/app-service-web-troubleshoot-http-502-http-503)
* [<span data-ttu-id="0528b-846">Résoudre les problèmes de baisse de performances d’une application web dans Azure App Service</span><span class="sxs-lookup"><span data-stu-id="0528b-846">Troubleshoot slow web app performance issues in Azure App Service</span></span>](/azure/app-service/app-service-web-troubleshoot-performance-degradation)
* [<span data-ttu-id="0528b-847">FAQ sur les performances des applications web dans Azure</span><span class="sxs-lookup"><span data-stu-id="0528b-847">Application performance FAQs for Web Apps in Azure</span></span>](/azure/app-service/app-service-web-availability-performance-application-issues-faq)
* [<span data-ttu-id="0528b-848">Bac à sable des applications web Azure (limitations de l’exécution du runtime App Service)</span><span class="sxs-lookup"><span data-stu-id="0528b-848">Azure Web App sandbox (App Service runtime execution limitations)</span></span>](https://github.com/projectkudu/kudu/wiki/Azure-Web-App-sandbox)
* [<span data-ttu-id="0528b-849">Azure Friday: Azure App Service Diagnostic and Troubleshooting Experience (12-minute video)</span><span class="sxs-lookup"><span data-stu-id="0528b-849">Azure Friday: Azure App Service Diagnostic and Troubleshooting Experience (12-minute video)</span></span>](https://channel9.msdn.com/Shows/Azure-Friday/Azure-App-Service-Diagnostic-and-Troubleshooting-Experience)

### <a name="visual-studio-documentation"></a><span data-ttu-id="0528b-850">Documentation de Visual Studio</span><span class="sxs-lookup"><span data-stu-id="0528b-850">Visual Studio documentation</span></span>

* [<span data-ttu-id="0528b-851">Débogage à distance ASP.NET Core sur IIS dans Azure dans Visual Studio 2017</span><span class="sxs-lookup"><span data-stu-id="0528b-851">Remote Debug ASP.NET Core on IIS in Azure in Visual Studio 2017</span></span>](/visualstudio/debugger/remote-debugging-azure)
* [<span data-ttu-id="0528b-852">Débogage à distance ASP.NET Core sur un ordinateur IIS distant dans Visual Studio 2017</span><span class="sxs-lookup"><span data-stu-id="0528b-852">Remote Debug ASP.NET Core on a Remote IIS Computer in Visual Studio 2017</span></span>](/visualstudio/debugger/remote-debugging-aspnet-on-a-remote-iis-computer)
* [<span data-ttu-id="0528b-853">Apprendre à déboguer avec Visual Studio</span><span class="sxs-lookup"><span data-stu-id="0528b-853">Learn to debug using Visual Studio</span></span>](/visualstudio/debugger/getting-started-with-the-debugger)

### <a name="visual-studio-code-documentation"></a><span data-ttu-id="0528b-854">Documentation Visual Studio Code</span><span class="sxs-lookup"><span data-stu-id="0528b-854">Visual Studio Code documentation</span></span>

* [<span data-ttu-id="0528b-855">Débogage avec Visual Studio Code</span><span class="sxs-lookup"><span data-stu-id="0528b-855">Debugging with Visual Studio Code</span></span>](https://code.visualstudio.com/docs/editor/debugging)

::: moniker-end

::: moniker range="< aspnetcore-2.2"

<span data-ttu-id="0528b-856">Cet article fournit des informations sur les erreurs de démarrage d’application courantes et des instructions sur la façon de diagnostiquer les erreurs quand une application est déployée sur Azure App Service ou IIS :</span><span class="sxs-lookup"><span data-stu-id="0528b-856">This article provides information on common app startup errors and instructions on how to diagnose errors when an app is deployed to Azure App Service or IIS:</span></span>

[<span data-ttu-id="0528b-857">Erreurs de démarrage de l’application</span><span class="sxs-lookup"><span data-stu-id="0528b-857">App startup errors</span></span>](#app-startup-errors)  
<span data-ttu-id="0528b-858">Explique les scénarios courants de code d’état HTTP de démarrage.</span><span class="sxs-lookup"><span data-stu-id="0528b-858">Explains common startup HTTP status code scenarios.</span></span>

[<span data-ttu-id="0528b-859">Résoudre les problèmes sur Azure App Service</span><span class="sxs-lookup"><span data-stu-id="0528b-859">Troubleshoot on Azure App Service</span></span>](#troubleshoot-on-azure-app-service)  
<span data-ttu-id="0528b-860">Fournit des conseils de dépannage pour les applications déployées sur Azure App Service.</span><span class="sxs-lookup"><span data-stu-id="0528b-860">Provides troubleshooting advice for apps deployed to Azure App Service.</span></span>

[<span data-ttu-id="0528b-861">Résoudre les problèmes sur IIS</span><span class="sxs-lookup"><span data-stu-id="0528b-861">Troubleshoot on IIS</span></span>](#troubleshoot-on-iis)  
<span data-ttu-id="0528b-862">Fournit des conseils de dépannage pour les applications déployées sur IIS ou exécutées localement sur IIS Express.</span><span class="sxs-lookup"><span data-stu-id="0528b-862">Provides troubleshooting advice for apps deployed to IIS or running on IIS Express locally.</span></span> <span data-ttu-id="0528b-863">Ce guide s’applique aux déploiements Windows Server et Windows Desktop.</span><span class="sxs-lookup"><span data-stu-id="0528b-863">The guidance applies to both Windows Server and Windows desktop deployments.</span></span>

[<span data-ttu-id="0528b-864">Effacer les caches de package</span><span class="sxs-lookup"><span data-stu-id="0528b-864">Clear package caches</span></span>](#clear-package-caches)  
<span data-ttu-id="0528b-865">Explique ce qu’il faut faire quand des packages incohérents interrompent une application lors des mises à niveau majeures ou de la modification des versions de package.</span><span class="sxs-lookup"><span data-stu-id="0528b-865">Explains what to do when incoherent packages break an app when performing major upgrades or changing package versions.</span></span>

[<span data-ttu-id="0528b-866">Ressources supplémentaires</span><span class="sxs-lookup"><span data-stu-id="0528b-866">Additional resources</span></span>](#additional-resources)  
<span data-ttu-id="0528b-867">Répertorie des rubriques supplémentaires sur la résolution des problèmes.</span><span class="sxs-lookup"><span data-stu-id="0528b-867">Lists additional troubleshooting topics.</span></span>

## <a name="app-startup-errors"></a><span data-ttu-id="0528b-868">Erreurs de démarrage de l’application</span><span class="sxs-lookup"><span data-stu-id="0528b-868">App startup errors</span></span>

<span data-ttu-id="0528b-869">Dans Visual Studio, un projet ASP.NET Core est par défaut hébergé sur [IIS Express](/iis/extensions/introduction-to-iis-express/iis-express-overview) pendant une opération de débogage.</span><span class="sxs-lookup"><span data-stu-id="0528b-869">In Visual Studio, an ASP.NET Core project defaults to [IIS Express](/iis/extensions/introduction-to-iis-express/iis-express-overview) hosting during debugging.</span></span> <span data-ttu-id="0528b-870">Un *échec de processus 502,5* qui se produit lorsque le débogage local peut être diagnostiqué à l’aide des conseils de cette rubrique.</span><span class="sxs-lookup"><span data-stu-id="0528b-870">A *502.5 Process Failure* that occurs when debugging locally can be diagnosed using the advice in this topic.</span></span>

### <a name="40314-forbidden"></a><span data-ttu-id="0528b-871">403,14 interdit</span><span class="sxs-lookup"><span data-stu-id="0528b-871">403.14 Forbidden</span></span>

<span data-ttu-id="0528b-872">L’application ne démarre pas.</span><span class="sxs-lookup"><span data-stu-id="0528b-872">The app fails to start.</span></span> <span data-ttu-id="0528b-873">L’erreur suivante est enregistrée :</span><span class="sxs-lookup"><span data-stu-id="0528b-873">The following error is logged:</span></span>

```
The Web server is configured to not list the contents of this directory.
```

<span data-ttu-id="0528b-874">L’erreur est généralement causée par un déploiement rompu sur le système d’hébergement, qui comprend l’un des scénarios suivants :</span><span class="sxs-lookup"><span data-stu-id="0528b-874">The error is usually caused by a broken deployment on the hosting system, which includes any of the following scenarios:</span></span>

* <span data-ttu-id="0528b-875">L’application est déployée dans le mauvais dossier sur le système d’hébergement.</span><span class="sxs-lookup"><span data-stu-id="0528b-875">The app is deployed to the wrong folder on the hosting system.</span></span>
* <span data-ttu-id="0528b-876">Le processus de déploiement n’a pas réussi à déplacer tous les fichiers et dossiers de l’application vers le dossier de déploiement sur le système d’hébergement.</span><span class="sxs-lookup"><span data-stu-id="0528b-876">The deployment process failed to move all of the app's files and folders to the deployment folder on the hosting system.</span></span>
* <span data-ttu-id="0528b-877">Le fichier *Web. config* est manquant dans le déploiement ou le contenu du fichier *Web. config* est incorrect.</span><span class="sxs-lookup"><span data-stu-id="0528b-877">The *web.config* file is missing from the deployment, or the *web.config* file contents are malformed.</span></span>

<span data-ttu-id="0528b-878">Procédez comme suit :</span><span class="sxs-lookup"><span data-stu-id="0528b-878">Perform the following steps:</span></span>

1. <span data-ttu-id="0528b-879">Supprimez tous les fichiers et dossiers du dossier de déploiement sur le système d’hébergement.</span><span class="sxs-lookup"><span data-stu-id="0528b-879">Delete all of the files and folders from the deployment folder on the hosting system.</span></span>
1. <span data-ttu-id="0528b-880">Redéployez le contenu du dossier de *publication* de l’application sur le système d’hébergement à l’aide de votre méthode de déploiement normale, telle que Visual Studio, PowerShell ou le déploiement manuel :</span><span class="sxs-lookup"><span data-stu-id="0528b-880">Redeploy the contents of the app's *publish* folder to the hosting system using your normal method of deployment, such as Visual Studio, PowerShell, or manual deployment:</span></span>
   * <span data-ttu-id="0528b-881">Vérifiez que le fichier *Web. config* est présent dans le déploiement et que son contenu est correct.</span><span class="sxs-lookup"><span data-stu-id="0528b-881">Confirm that the *web.config* file is present in the deployment and that its contents are correct.</span></span>
   * <span data-ttu-id="0528b-882">Lors de l’hébergement sur Azure App Service, vérifiez que l’application est déployée dans le dossier `D:\home\site\wwwroot`.</span><span class="sxs-lookup"><span data-stu-id="0528b-882">When hosting on Azure App Service, confirm that the app is deployed to the `D:\home\site\wwwroot` folder.</span></span>
   * <span data-ttu-id="0528b-883">Lorsque l’application est hébergée par IIS, vérifiez que l’application est déployée sur le **chemin d’accès physique** IIS indiqué dans les **paramètres de base**du gestionnaire des **services Internet**.</span><span class="sxs-lookup"><span data-stu-id="0528b-883">When the app is hosted by IIS, confirm that the app is deployed to the IIS **Physical path** shown in **IIS Manager**'s **Basic Settings**.</span></span>
1. <span data-ttu-id="0528b-884">Confirmez que tous les fichiers et dossiers de l’application sont déployés en comparant le déploiement sur le système d’hébergement au contenu du dossier de *publication* du projet.</span><span class="sxs-lookup"><span data-stu-id="0528b-884">Confirm that all of the app's files and folders are deployed by comparing the deployment on the hosting system to the contents of the project's *publish* folder.</span></span>

<span data-ttu-id="0528b-885">Pour plus d’informations sur la disposition d’une application ASP.NET Core publiée, consultez <xref:host-and-deploy/directory-structure>.</span><span class="sxs-lookup"><span data-stu-id="0528b-885">For more information on the layout of a published ASP.NET Core app, see <xref:host-and-deploy/directory-structure>.</span></span> <span data-ttu-id="0528b-886">Pour plus d’informations sur le fichier *Web. config* , consultez <xref:host-and-deploy/aspnet-core-module#configuration-with-webconfig>.</span><span class="sxs-lookup"><span data-stu-id="0528b-886">For more information on the *web.config* file, see <xref:host-and-deploy/aspnet-core-module#configuration-with-webconfig>.</span></span>

### <a name="500-internal-server-error"></a><span data-ttu-id="0528b-887">500 Erreur interne du serveur</span><span class="sxs-lookup"><span data-stu-id="0528b-887">500 Internal Server Error</span></span>

<span data-ttu-id="0528b-888">L’application démarre, mais une erreur empêche le serveur de répondre à la requête.</span><span class="sxs-lookup"><span data-stu-id="0528b-888">The app starts, but an error prevents the server from fulfilling the request.</span></span>

<span data-ttu-id="0528b-889">Cette erreur se produit dans le code de l’application pendant le démarrage ou durant la création d’une réponse.</span><span class="sxs-lookup"><span data-stu-id="0528b-889">This error occurs within the app's code during startup or while creating a response.</span></span> <span data-ttu-id="0528b-890">La réponse peut être dépourvue de contenu ou apparaître sous la forme d’une *erreur de serveur interne 500* dans le navigateur.</span><span class="sxs-lookup"><span data-stu-id="0528b-890">The response may contain no content, or the response may appear as a *500 Internal Server Error* in the browser.</span></span> <span data-ttu-id="0528b-891">Le Journal des événements de l’application indique généralement qu’elle a démarré normalement.</span><span class="sxs-lookup"><span data-stu-id="0528b-891">The Application Event Log usually states that the app started normally.</span></span> <span data-ttu-id="0528b-892">Du point de vue du serveur, c’est exact.</span><span class="sxs-lookup"><span data-stu-id="0528b-892">From the server's perspective, that's correct.</span></span> <span data-ttu-id="0528b-893">L’application a démarré, mais elle ne parvient pas à générer une réponse valide.</span><span class="sxs-lookup"><span data-stu-id="0528b-893">The app did start, but it can't generate a valid response.</span></span> <span data-ttu-id="0528b-894">Exécutez l’application à partir d’une invite de commandes sur le serveur ou activez le journal stdout du module ASP.NET Core pour résoudre le problème.</span><span class="sxs-lookup"><span data-stu-id="0528b-894">Run the app at a command prompt on the server or enable the ASP.NET Core Module stdout log to troubleshoot the problem.</span></span>

### <a name="5025-process-failure"></a><span data-ttu-id="0528b-895">Échec de processus 502.5</span><span class="sxs-lookup"><span data-stu-id="0528b-895">502.5 Process Failure</span></span>

<span data-ttu-id="0528b-896">Le processus de travail échoue.</span><span class="sxs-lookup"><span data-stu-id="0528b-896">The worker process fails.</span></span> <span data-ttu-id="0528b-897">L’application ne démarre pas.</span><span class="sxs-lookup"><span data-stu-id="0528b-897">The app doesn't start.</span></span>

<span data-ttu-id="0528b-898">Le [module ASP.NET Core](xref:host-and-deploy/aspnet-core-module) tente, en vain, de démarrer le processus de travail.</span><span class="sxs-lookup"><span data-stu-id="0528b-898">The [ASP.NET Core Module](xref:host-and-deploy/aspnet-core-module) attempts to start the worker process but it fails to start.</span></span> <span data-ttu-id="0528b-899">La cause d’un échec de démarrage d’un processus peut généralement être déterminée à partir des entrées dans le journal des événements d’application et le journal stdout du module ASP.NET Core.</span><span class="sxs-lookup"><span data-stu-id="0528b-899">The cause of a process startup failure can usually be determined from entries in the Application Event Log and the ASP.NET Core Module stdout log.</span></span>

<span data-ttu-id="0528b-900">Une condition d’échec courante est une application mal configurée qui cible une version du framework partagé ASP.NET Core non présente.</span><span class="sxs-lookup"><span data-stu-id="0528b-900">A common failure condition is the app is misconfigured due to targeting a version of the ASP.NET Core shared framework that isn't present.</span></span> <span data-ttu-id="0528b-901">Vérifiez les versions du framework partagé ASP.NET Core qui sont installées sur l’ordinateur cible.</span><span class="sxs-lookup"><span data-stu-id="0528b-901">Check which versions of the ASP.NET Core shared framework are installed on the target machine.</span></span> <span data-ttu-id="0528b-902">Le *framework partagé* est le jeu d’assemblys (fichiers *.dll*) qui sont installés sur l’ordinateur et référencés par un métapaquet comme `Microsoft.AspNetCore.App`.</span><span class="sxs-lookup"><span data-stu-id="0528b-902">The *shared framework* is the set of assemblies (*.dll* files) that are installed on the machine and referenced by a metapackage such as `Microsoft.AspNetCore.App`.</span></span> <span data-ttu-id="0528b-903">La référence de métapaquet peut spécifier une version minimale requise.</span><span class="sxs-lookup"><span data-stu-id="0528b-903">The metapackage reference can specify a minimum required version.</span></span> <span data-ttu-id="0528b-904">Pour plus d’informations, consultez [Le framework partagé](https://natemcmaster.com/blog/2018/08/29/netcore-primitives-2/).</span><span class="sxs-lookup"><span data-stu-id="0528b-904">For more information, see [The shared framework](https://natemcmaster.com/blog/2018/08/29/netcore-primitives-2/).</span></span>

<span data-ttu-id="0528b-905">La page d’erreur d’un *échec de processus 502.5* est retournée quand une erreur de configuration d’hébergement ou d’application entraîne l’échec du processus de travail :</span><span class="sxs-lookup"><span data-stu-id="0528b-905">The *502.5 Process Failure* error page is returned when a hosting or app misconfiguration causes the worker process to fail:</span></span>

### <a name="failed-to-start-application-errorcode-0x800700c1"></a><span data-ttu-id="0528b-906">Échec du démarrage de l’application (code d’erreur « 0x800700c1 »)</span><span class="sxs-lookup"><span data-stu-id="0528b-906">Failed to start application (ErrorCode '0x800700c1')</span></span>

```
EventID: 1010
Source: IIS AspNetCore Module V2
Failed to start application '/LM/W3SVC/6/ROOT/', ErrorCode '0x800700c1'.
```

<span data-ttu-id="0528b-907">L’application n’a pas pu démarrer, car l’assembly de l’application ( *.dll*) n’a pas pu être chargé.</span><span class="sxs-lookup"><span data-stu-id="0528b-907">The app failed to start because the app's assembly (*.dll*) couldn't be loaded.</span></span>

<span data-ttu-id="0528b-908">Cette erreur se produit lorsqu’il existe une incompatibilité au niveau du nombre de bits entre l’application publiée et le processus w3wp/iisexpress.</span><span class="sxs-lookup"><span data-stu-id="0528b-908">This error occurs when there's a bitness mismatch between the published app and the w3wp/iisexpress process.</span></span>

<span data-ttu-id="0528b-909">Vérifiez que le paramètre 32 bits du pool d’applications est correct :</span><span class="sxs-lookup"><span data-stu-id="0528b-909">Confirm that the app pool's 32-bit setting is correct:</span></span>

1. <span data-ttu-id="0528b-910">Sélectionnez le pool d’applications parmi les **Pools d’applications** IIS Manager.</span><span class="sxs-lookup"><span data-stu-id="0528b-910">Select the app pool in IIS Manager's **Application Pools**.</span></span>
1. <span data-ttu-id="0528b-911">Sélectionnez **Paramètres avancés** sous **Modifier le pool d’applications** dans le volet **Actions**.</span><span class="sxs-lookup"><span data-stu-id="0528b-911">Select **Advanced Settings** under **Edit Application Pool** in the **Actions** panel.</span></span>
1. <span data-ttu-id="0528b-912">Définissez **Activer les applications 32 bits** :</span><span class="sxs-lookup"><span data-stu-id="0528b-912">Set **Enable 32-Bit Applications**:</span></span>
   * <span data-ttu-id="0528b-913">Si vous déployez une application 32 bits (x86), définissez la valeur sur `True`.</span><span class="sxs-lookup"><span data-stu-id="0528b-913">If deploying a 32-bit (x86) app, set the value to `True`.</span></span>
   * <span data-ttu-id="0528b-914">Si vous déployez une application 64 bits (x64), définissez la valeur sur `False`.</span><span class="sxs-lookup"><span data-stu-id="0528b-914">If deploying a 64-bit (x64) app, set the value to `False`.</span></span>

<span data-ttu-id="0528b-915">Confirmez qu’il n’existe pas de conflit entre une `<Platform>` propriété MSBuild dans le fichier projet et le nombre de bits publié de l’application.</span><span class="sxs-lookup"><span data-stu-id="0528b-915">Confirm that there isn't a conflict between a `<Platform>` MSBuild property in the project file and the published bitness of the app.</span></span>

### <a name="connection-reset"></a><span data-ttu-id="0528b-916">Réinitialisation de la connexion</span><span class="sxs-lookup"><span data-stu-id="0528b-916">Connection reset</span></span>

<span data-ttu-id="0528b-917">Si une erreur se produit après l’envoi des en-têtes, il est trop tard pour que le serveur puisse envoyer une **erreur de serveur interne 500**.</span><span class="sxs-lookup"><span data-stu-id="0528b-917">If an error occurs after the headers are sent, it's too late for the server to send a **500 Internal Server Error** when an error occurs.</span></span> <span data-ttu-id="0528b-918">C’est souvent le cas quand une erreur se produit pendant la sérialisation des objets complexes d’une réponse.</span><span class="sxs-lookup"><span data-stu-id="0528b-918">This often happens when an error occurs during the serialization of complex objects for a response.</span></span> <span data-ttu-id="0528b-919">Ce type d’erreur apparaît en tant qu’erreur de *réinitialisation de la connexion* sur le client.</span><span class="sxs-lookup"><span data-stu-id="0528b-919">This type of error appears as a *connection reset* error on the client.</span></span> <span data-ttu-id="0528b-920">La [journalisation des applications](xref:fundamentals/logging/index) peut aider à le résoudre.</span><span class="sxs-lookup"><span data-stu-id="0528b-920">[Application logging](xref:fundamentals/logging/index) can help troubleshoot these types of errors.</span></span>

### <a name="default-startup-limits"></a><span data-ttu-id="0528b-921">Limites de démarrage par défaut</span><span class="sxs-lookup"><span data-stu-id="0528b-921">Default startup limits</span></span>

<span data-ttu-id="0528b-922">Le [Module ASP.net Core](xref:host-and-deploy/aspnet-core-module) est configuré avec un *startupTimeLimit* par défaut de 120 secondes.</span><span class="sxs-lookup"><span data-stu-id="0528b-922">The [ASP.NET Core Module](xref:host-and-deploy/aspnet-core-module) is configured with a default *startupTimeLimit* of 120 seconds.</span></span> <span data-ttu-id="0528b-923">Quand cette valeur par défaut est conservée, une application peut mettre jusqu’à deux minutes à démarrer avant que le module ne consigne un échec de processus.</span><span class="sxs-lookup"><span data-stu-id="0528b-923">When left at the default value, an app may take up to two minutes to start before the module logs a process failure.</span></span> <span data-ttu-id="0528b-924">Pour plus d’informations sur la configuration du module, voir [Attributs de l’élément aspNetCore](xref:host-and-deploy/aspnet-core-module#attributes-of-the-aspnetcore-element).</span><span class="sxs-lookup"><span data-stu-id="0528b-924">For information on configuring the module, see [Attributes of the aspNetCore element](xref:host-and-deploy/aspnet-core-module#attributes-of-the-aspnetcore-element).</span></span>

## <a name="troubleshoot-on-azure-app-service"></a><span data-ttu-id="0528b-925">Résoudre les problèmes sur Azure App Service</span><span class="sxs-lookup"><span data-stu-id="0528b-925">Troubleshoot on Azure App Service</span></span>

[!INCLUDE [Azure App Service Preview Notice](~/includes/azure-apps-preview-notice.md)]

### <a name="application-event-log-azure-app-service"></a><span data-ttu-id="0528b-926">Journal des événements d’application (Azure App Service)</span><span class="sxs-lookup"><span data-stu-id="0528b-926">Application Event Log (Azure App Service)</span></span>

<span data-ttu-id="0528b-927">Pour accéder au Journal des événements de l’application, utilisez le panneau **Diagnostiquer et résoudre les problèmes** du Portail Azure :</span><span class="sxs-lookup"><span data-stu-id="0528b-927">To access the Application Event Log, use the **Diagnose and solve problems** blade in the Azure portal:</span></span>

1. <span data-ttu-id="0528b-928">Dans le Portail Azure, ouvrez l’application dans **App Services**.</span><span class="sxs-lookup"><span data-stu-id="0528b-928">In the Azure portal, open the app in **App Services**.</span></span>
1. <span data-ttu-id="0528b-929">Sélectionnez **Diagnostiquer et résoudre les problèmes**.</span><span class="sxs-lookup"><span data-stu-id="0528b-929">Select **Diagnose and solve problems**.</span></span>
1. <span data-ttu-id="0528b-930">Sélectionnez le titre **Outils de diagnostic**.</span><span class="sxs-lookup"><span data-stu-id="0528b-930">Select the **Diagnostic Tools** heading.</span></span>
1. <span data-ttu-id="0528b-931">Sous **Outils de support**, sélectionnez le bouton **Événements d’application**.</span><span class="sxs-lookup"><span data-stu-id="0528b-931">Under **Support Tools**, select the **Application Events** button.</span></span>
1. <span data-ttu-id="0528b-932">Examinez la dernière erreur fournie par l’entrée *IIS AspNetCoreModule* ou *IIS AspNetCoreModule V2* dans la colonne **Source**.</span><span class="sxs-lookup"><span data-stu-id="0528b-932">Examine the latest error provided by the *IIS AspNetCoreModule* or *IIS AspNetCoreModule V2* entry in the **Source** column.</span></span>

<span data-ttu-id="0528b-933">En dehors de la solution consistant à utiliser le panneau **Diagnostiquer et résoudre les problèmes**, vous pouvez examiner directement le fichier Journal des événements de l’application avec [Kudu](https://github.com/projectkudu/kudu/wiki) :</span><span class="sxs-lookup"><span data-stu-id="0528b-933">An alternative to using the **Diagnose and solve problems** blade is to examine the Application Event Log file directly using [Kudu](https://github.com/projectkudu/kudu/wiki):</span></span>

1. <span data-ttu-id="0528b-934">Ouvrez les **Outils avancés** dans la zone **Outils de développement**.</span><span class="sxs-lookup"><span data-stu-id="0528b-934">Open **Advanced Tools** in the **Development Tools** area.</span></span> <span data-ttu-id="0528b-935">Sélectionnez le bouton **Atteindre&rarr;** .</span><span class="sxs-lookup"><span data-stu-id="0528b-935">Select the **Go&rarr;** button.</span></span> <span data-ttu-id="0528b-936">La console Kudu s’ouvre dans un nouvel onglet ou une nouvelle fenêtre du navigateur.</span><span class="sxs-lookup"><span data-stu-id="0528b-936">The Kudu console opens in a new browser tab or window.</span></span>
1. <span data-ttu-id="0528b-937">Dans la barre de navigation en haut de la page, ouvrez **Console de débogage** et sélectionnez **CMD**.</span><span class="sxs-lookup"><span data-stu-id="0528b-937">Using the navigation bar at the top of the page, open **Debug console** and select **CMD**.</span></span>
1. <span data-ttu-id="0528b-938">Ouvrez le fichier **LogFiles** .</span><span class="sxs-lookup"><span data-stu-id="0528b-938">Open the **LogFiles** folder.</span></span>
1. <span data-ttu-id="0528b-939">Sélectionnez l’icône en forme de crayon à côté du fichier *eventlog.xml*.</span><span class="sxs-lookup"><span data-stu-id="0528b-939">Select the pencil icon next to the *eventlog.xml* file.</span></span>
1. <span data-ttu-id="0528b-940">Examinez le journal.</span><span class="sxs-lookup"><span data-stu-id="0528b-940">Examine the log.</span></span> <span data-ttu-id="0528b-941">Allez en bas du journal pour voir les événements les plus récents.</span><span class="sxs-lookup"><span data-stu-id="0528b-941">Scroll to the bottom of the log to see the most recent events.</span></span>

### <a name="run-the-app-in-the-kudu-console"></a><span data-ttu-id="0528b-942">Exécuter l’application dans la console Kudu</span><span class="sxs-lookup"><span data-stu-id="0528b-942">Run the app in the Kudu console</span></span>

<span data-ttu-id="0528b-943">De nombreuses erreurs de démarrage ne produisent pas d’informations utiles dans le Journal des événements de l’application.</span><span class="sxs-lookup"><span data-stu-id="0528b-943">Many startup errors don't produce useful information in the Application Event Log.</span></span> <span data-ttu-id="0528b-944">Vous pouvez exécuter l’application dans la console d’exécution à distance [Kudu](https://github.com/projectkudu/kudu/wiki) pour détecter l’erreur :</span><span class="sxs-lookup"><span data-stu-id="0528b-944">You can run the app in the [Kudu](https://github.com/projectkudu/kudu/wiki) Remote Execution Console to discover the error:</span></span>

1. <span data-ttu-id="0528b-945">Ouvrez les **Outils avancés** dans la zone **Outils de développement**.</span><span class="sxs-lookup"><span data-stu-id="0528b-945">Open **Advanced Tools** in the **Development Tools** area.</span></span> <span data-ttu-id="0528b-946">Sélectionnez le bouton **Atteindre&rarr;** .</span><span class="sxs-lookup"><span data-stu-id="0528b-946">Select the **Go&rarr;** button.</span></span> <span data-ttu-id="0528b-947">La console Kudu s’ouvre dans un nouvel onglet ou une nouvelle fenêtre du navigateur.</span><span class="sxs-lookup"><span data-stu-id="0528b-947">The Kudu console opens in a new browser tab or window.</span></span>
1. <span data-ttu-id="0528b-948">Dans la barre de navigation en haut de la page, ouvrez **Console de débogage** et sélectionnez **CMD**.</span><span class="sxs-lookup"><span data-stu-id="0528b-948">Using the navigation bar at the top of the page, open **Debug console** and select **CMD**.</span></span>

#### <a name="test-a-32-bit-x86-app"></a><span data-ttu-id="0528b-949">Tester une application 32 bits (x86)</span><span class="sxs-lookup"><span data-stu-id="0528b-949">Test a 32-bit (x86) app</span></span>

<span data-ttu-id="0528b-950">**Version actuelle**</span><span class="sxs-lookup"><span data-stu-id="0528b-950">**Current release**</span></span>

1. `cd d:\home\site\wwwroot`
1. <span data-ttu-id="0528b-951">Exécutez l’application :</span><span class="sxs-lookup"><span data-stu-id="0528b-951">Run the app:</span></span>
   * <span data-ttu-id="0528b-952">Si l’application est un [déploiement dépendant du framework](/dotnet/core/deploying/#framework-dependent-deployments-fdd) :</span><span class="sxs-lookup"><span data-stu-id="0528b-952">If the app is a [framework-dependent deployment](/dotnet/core/deploying/#framework-dependent-deployments-fdd):</span></span>

     ```dotnetcli
     dotnet .\{ASSEMBLY NAME}.dll
     ```

   * <span data-ttu-id="0528b-953">Si l’application est un [déploiement autonome](/dotnet/core/deploying/#self-contained-deployments-scd) :</span><span class="sxs-lookup"><span data-stu-id="0528b-953">If the app is a [self-contained deployment](/dotnet/core/deploying/#self-contained-deployments-scd):</span></span>

     ```console
     {ASSEMBLY NAME}.exe
     ```

<span data-ttu-id="0528b-954">La sortie de console de l’application, affichant toutes les erreurs éventuelles, est transmise à la console Kudu.</span><span class="sxs-lookup"><span data-stu-id="0528b-954">The console output from the app, showing any errors, is piped to the Kudu console.</span></span>

<span data-ttu-id="0528b-955">**Déploiement dépendant du Framework s’exécutant sur une version préliminaire**</span><span class="sxs-lookup"><span data-stu-id="0528b-955">**Framework-dependent deployment running on a preview release**</span></span>

<span data-ttu-id="0528b-956">*Installation de l’extension de site du runtime ASP.NET Core {VERSION} (x86) requise.*</span><span class="sxs-lookup"><span data-stu-id="0528b-956">*Requires installing the ASP.NET Core {VERSION} (x86) Runtime site extension.*</span></span>

1. <span data-ttu-id="0528b-957">`cd D:\home\SiteExtensions\AspNetCoreRuntime.{X.Y}.x32` (`{X.Y}` est la version du runtime).</span><span class="sxs-lookup"><span data-stu-id="0528b-957">`cd D:\home\SiteExtensions\AspNetCoreRuntime.{X.Y}.x32` (`{X.Y}` is the runtime version)</span></span>
1. <span data-ttu-id="0528b-958">Exécutez l'application : `dotnet \home\site\wwwroot\{ASSEMBLY NAME}.dll`.</span><span class="sxs-lookup"><span data-stu-id="0528b-958">Run the app: `dotnet \home\site\wwwroot\{ASSEMBLY NAME}.dll`</span></span>

<span data-ttu-id="0528b-959">La sortie de console de l’application, affichant toutes les erreurs éventuelles, est transmise à la console Kudu.</span><span class="sxs-lookup"><span data-stu-id="0528b-959">The console output from the app, showing any errors, is piped to the Kudu console.</span></span>

#### <a name="test-a-64-bit-x64-app"></a><span data-ttu-id="0528b-960">Tester une application 64 bits (x64)</span><span class="sxs-lookup"><span data-stu-id="0528b-960">Test a 64-bit (x64) app</span></span>

<span data-ttu-id="0528b-961">**Version actuelle**</span><span class="sxs-lookup"><span data-stu-id="0528b-961">**Current release**</span></span>

* <span data-ttu-id="0528b-962">Si l’application est un [déploiement dépendant du framework](/dotnet/core/deploying/#framework-dependent-deployments-fdd) 64 bits (x64) :</span><span class="sxs-lookup"><span data-stu-id="0528b-962">If the app is a 64-bit (x64) [framework-dependent deployment](/dotnet/core/deploying/#framework-dependent-deployments-fdd):</span></span>
  1. `cd D:\Program Files\dotnet`
  1. <span data-ttu-id="0528b-963">Exécutez l'application : `dotnet \home\site\wwwroot\{ASSEMBLY NAME}.dll`.</span><span class="sxs-lookup"><span data-stu-id="0528b-963">Run the app: `dotnet \home\site\wwwroot\{ASSEMBLY NAME}.dll`</span></span>
* <span data-ttu-id="0528b-964">Si l’application est un [déploiement autonome](/dotnet/core/deploying/#self-contained-deployments-scd) :</span><span class="sxs-lookup"><span data-stu-id="0528b-964">If the app is a [self-contained deployment](/dotnet/core/deploying/#self-contained-deployments-scd):</span></span>
  1. `cd D:\home\site\wwwroot`
  1. <span data-ttu-id="0528b-965">Exécutez l'application : `{ASSEMBLY NAME}.exe`.</span><span class="sxs-lookup"><span data-stu-id="0528b-965">Run the app: `{ASSEMBLY NAME}.exe`</span></span>

<span data-ttu-id="0528b-966">La sortie de console de l’application, affichant toutes les erreurs éventuelles, est transmise à la console Kudu.</span><span class="sxs-lookup"><span data-stu-id="0528b-966">The console output from the app, showing any errors, is piped to the Kudu console.</span></span>

<span data-ttu-id="0528b-967">**Déploiement dépendant du Framework s’exécutant sur une version préliminaire**</span><span class="sxs-lookup"><span data-stu-id="0528b-967">**Framework-dependent deployment running on a preview release**</span></span>

<span data-ttu-id="0528b-968">*Installation de l’extension de site du runtime ASP.NET Core {VERSION} (x64) requise.*</span><span class="sxs-lookup"><span data-stu-id="0528b-968">*Requires installing the ASP.NET Core {VERSION} (x64) Runtime site extension.*</span></span>

1. <span data-ttu-id="0528b-969">`cd D:\home\SiteExtensions\AspNetCoreRuntime.{X.Y}.x64` (`{X.Y}` est la version du runtime).</span><span class="sxs-lookup"><span data-stu-id="0528b-969">`cd D:\home\SiteExtensions\AspNetCoreRuntime.{X.Y}.x64` (`{X.Y}` is the runtime version)</span></span>
1. <span data-ttu-id="0528b-970">Exécutez l'application : `dotnet \home\site\wwwroot\{ASSEMBLY NAME}.dll`.</span><span class="sxs-lookup"><span data-stu-id="0528b-970">Run the app: `dotnet \home\site\wwwroot\{ASSEMBLY NAME}.dll`</span></span>

<span data-ttu-id="0528b-971">La sortie de console de l’application, affichant toutes les erreurs éventuelles, est transmise à la console Kudu.</span><span class="sxs-lookup"><span data-stu-id="0528b-971">The console output from the app, showing any errors, is piped to the Kudu console.</span></span>

### <a name="aspnet-core-module-stdout-log-azure-app-service"></a><span data-ttu-id="0528b-972">Journal stdout du module ASP.NET Core (Azure App Service)</span><span class="sxs-lookup"><span data-stu-id="0528b-972">ASP.NET Core Module stdout log (Azure App Service)</span></span>

<span data-ttu-id="0528b-973">Le journal stdout du module ASP.NET Core enregistre souvent des messages d’erreur utiles et absents du Journal des événements de l’application.</span><span class="sxs-lookup"><span data-stu-id="0528b-973">The ASP.NET Core Module stdout log often records useful error messages not found in the Application Event Log.</span></span> <span data-ttu-id="0528b-974">Pour activer et afficher les journaux stdout :</span><span class="sxs-lookup"><span data-stu-id="0528b-974">To enable and view stdout logs:</span></span>

1. <span data-ttu-id="0528b-975">Accédez au panneau **Diagnostiquer et résoudre les problèmes** du Portail Azure.</span><span class="sxs-lookup"><span data-stu-id="0528b-975">Navigate to the **Diagnose and solve problems** blade in the Azure portal.</span></span>
1. <span data-ttu-id="0528b-976">Sous **SÉLECTIONNER UNE CATÉGORIE DE PROBLÈME**, sélectionnez le bouton **Application web en panne**.</span><span class="sxs-lookup"><span data-stu-id="0528b-976">Under **SELECT PROBLEM CATEGORY**, select the **Web App Down** button.</span></span>
1. <span data-ttu-id="0528b-977">Sous **solutions suggérées** > **activer la redirection de journal stdout**, cliquez sur le bouton pour **ouvrir la console Kudu afin de modifier le fichier Web. config**.</span><span class="sxs-lookup"><span data-stu-id="0528b-977">Under **Suggested Solutions** > **Enable Stdout Log Redirection**, select the button to **Open Kudu Console to edit Web.Config**.</span></span>
1. <span data-ttu-id="0528b-978">Dans la **Console de diagnostic** Kudu, ouvrez les dossiers sur le chemin d’accès **site** > **wwwroot**.</span><span class="sxs-lookup"><span data-stu-id="0528b-978">In the Kudu **Diagnostic Console**, open the folders to the path **site** > **wwwroot**.</span></span> <span data-ttu-id="0528b-979">Faites défiler la page jusqu’à révéler le fichier *web.config* en bas de la liste.</span><span class="sxs-lookup"><span data-stu-id="0528b-979">Scroll down to reveal the *web.config* file at the bottom of the list.</span></span>
1. <span data-ttu-id="0528b-980">Cliquez sur l’icône en forme de crayon à côté du fichier *web.config*.</span><span class="sxs-lookup"><span data-stu-id="0528b-980">Click the pencil icon next to the *web.config* file.</span></span>
1. <span data-ttu-id="0528b-981">Définissez **stdoutLogEnabled** sur `true` et remplacez le chemin **stdoutLogFile** par : `\\?\%home%\LogFiles\stdout`.</span><span class="sxs-lookup"><span data-stu-id="0528b-981">Set **stdoutLogEnabled** to `true` and change the **stdoutLogFile** path to: `\\?\%home%\LogFiles\stdout`.</span></span>
1. <span data-ttu-id="0528b-982">Sélectionnez **Enregistrer** pour enregistrer le fichier *web.config* mis à jour.</span><span class="sxs-lookup"><span data-stu-id="0528b-982">Select **Save** to save the updated *web.config* file.</span></span>
1. <span data-ttu-id="0528b-983">Adressez une demande à l’application.</span><span class="sxs-lookup"><span data-stu-id="0528b-983">Make a request to the app.</span></span>
1. <span data-ttu-id="0528b-984">Revenez au Portail Azure.</span><span class="sxs-lookup"><span data-stu-id="0528b-984">Return to the Azure portal.</span></span> <span data-ttu-id="0528b-985">Sélectionnez le panneau **Outils avancés** dans la zone **OUTILS DE DÉVELOPPEMENT**.</span><span class="sxs-lookup"><span data-stu-id="0528b-985">Select the **Advanced Tools** blade in the **DEVELOPMENT TOOLS** area.</span></span> <span data-ttu-id="0528b-986">Sélectionnez le bouton **Atteindre&rarr;** .</span><span class="sxs-lookup"><span data-stu-id="0528b-986">Select the **Go&rarr;** button.</span></span> <span data-ttu-id="0528b-987">La console Kudu s’ouvre dans un nouvel onglet ou une nouvelle fenêtre du navigateur.</span><span class="sxs-lookup"><span data-stu-id="0528b-987">The Kudu console opens in a new browser tab or window.</span></span>
1. <span data-ttu-id="0528b-988">Dans la barre de navigation en haut de la page, ouvrez **Console de débogage** et sélectionnez **CMD**.</span><span class="sxs-lookup"><span data-stu-id="0528b-988">Using the navigation bar at the top of the page, open **Debug console** and select **CMD**.</span></span>
1. <span data-ttu-id="0528b-989">Sélectionnez le dossier **LogFiles**.</span><span class="sxs-lookup"><span data-stu-id="0528b-989">Select the **LogFiles** folder.</span></span>
1. <span data-ttu-id="0528b-990">Inspectez la colonne **Modifié** et sélectionnez l’icône en forme de crayon pour modifier le journal stdout avec la date de dernière modification.</span><span class="sxs-lookup"><span data-stu-id="0528b-990">Inspect the **Modified** column and select the pencil icon to edit the stdout log with the latest modification date.</span></span>
1. <span data-ttu-id="0528b-991">Lorsque le fichier journal s’ouvre, l’erreur s’affiche.</span><span class="sxs-lookup"><span data-stu-id="0528b-991">When the log file opens, the error is displayed.</span></span>

<span data-ttu-id="0528b-992">Désactivez la journalisation stdout, une fois les problèmes résolus :</span><span class="sxs-lookup"><span data-stu-id="0528b-992">Disable stdout logging when troubleshooting is complete:</span></span>

1. <span data-ttu-id="0528b-993">Dans la **Console de diagnostic** Kudu, revenez au chemin d’accès **site** > **wwwroot** pour faire apparaître le fichier *web.config*.</span><span class="sxs-lookup"><span data-stu-id="0528b-993">In the Kudu **Diagnostic Console**, return to the path **site** > **wwwroot** to reveal the *web.config* file.</span></span> <span data-ttu-id="0528b-994">Ouvrez à nouveau le fichier **web.config** en sélectionnant l’icône en forme de crayon.</span><span class="sxs-lookup"><span data-stu-id="0528b-994">Open the **web.config** file again by selecting the pencil icon.</span></span>
1. <span data-ttu-id="0528b-995">Définissez **stdoutLogEnabled** sur `false`.</span><span class="sxs-lookup"><span data-stu-id="0528b-995">Set **stdoutLogEnabled** to `false`.</span></span>
1. <span data-ttu-id="0528b-996">Sélectionnez **Enregistrer** pour enregistrer le fichier.</span><span class="sxs-lookup"><span data-stu-id="0528b-996">Select **Save** to save the file.</span></span>

<span data-ttu-id="0528b-997">Pour plus d’informations, consultez <xref:host-and-deploy/aspnet-core-module#log-creation-and-redirection>.</span><span class="sxs-lookup"><span data-stu-id="0528b-997">For more information, see <xref:host-and-deploy/aspnet-core-module#log-creation-and-redirection>.</span></span>

> [!WARNING]
> <span data-ttu-id="0528b-998">Si vous ne désactivez pas le journal stdout, l’application ou le serveur risque d’échouer.</span><span class="sxs-lookup"><span data-stu-id="0528b-998">Failure to disable the stdout log can lead to app or server failure.</span></span> <span data-ttu-id="0528b-999">Il n’existe aucune limite quant à la taille du fichier journal ou au nombre de fichiers journaux créés.</span><span class="sxs-lookup"><span data-stu-id="0528b-999">There's no limit on log file size or the number of log files created.</span></span> <span data-ttu-id="0528b-1000">N’utilisez la journalisation stdout que pour résoudre les problèmes de démarrage de l’application.</span><span class="sxs-lookup"><span data-stu-id="0528b-1000">Only use stdout logging to troubleshoot app startup problems.</span></span>
>
> <span data-ttu-id="0528b-1001">Pour la journalisation générale dans une application ASP.NET Core après le démarrage, utilisez une bibliothèque de journalisation qui limite la taille du fichier journal et applique une rotation aux journaux.</span><span class="sxs-lookup"><span data-stu-id="0528b-1001">For general logging in an ASP.NET Core app after startup, use a logging library that limits log file size and rotates logs.</span></span> <span data-ttu-id="0528b-1002">Pour plus d’informations, voir [Fournisseurs de journalisation tiers](xref:fundamentals/logging/index#third-party-logging-providers).</span><span class="sxs-lookup"><span data-stu-id="0528b-1002">For more information, see [third-party logging providers](xref:fundamentals/logging/index#third-party-logging-providers).</span></span>

### <a name="slow-or-hanging-app-azure-app-service"></a><span data-ttu-id="0528b-1003">Application lente ou suspendue (Azure App Service)</span><span class="sxs-lookup"><span data-stu-id="0528b-1003">Slow or hanging app (Azure App Service)</span></span>

<span data-ttu-id="0528b-1004">Si une application répond lentement ou se bloque sur une requête, voir les articles suivants :</span><span class="sxs-lookup"><span data-stu-id="0528b-1004">When an app responds slowly or hangs on a request, see the following articles:</span></span>

* [<span data-ttu-id="0528b-1005">Résoudre les problèmes de baisse de performances d’une application web dans Azure App Service</span><span class="sxs-lookup"><span data-stu-id="0528b-1005">Troubleshoot slow web app performance issues in Azure App Service</span></span>](/azure/app-service/app-service-web-troubleshoot-performance-degradation)
* [<span data-ttu-id="0528b-1006">Utiliser l’extension de site Outil de diagnostic des incidents pour capturer une image mémoire des problèmes d’exception intermittente ou de performances sur Azure Web App</span><span class="sxs-lookup"><span data-stu-id="0528b-1006">Use Crash Diagnoser Site Extension to Capture Dump for Intermittent Exception issues or performance issues on Azure Web App</span></span>](https://blogs.msdn.microsoft.com/asiatech/2015/12/28/use-crash-diagnoser-site-extension-to-capture-dump-for-intermittent-exception-issues-or-performance-issues-on-azure-web-app/)

### <a name="monitoring-blades"></a><span data-ttu-id="0528b-1007">Panneaux Monitoring</span><span class="sxs-lookup"><span data-stu-id="0528b-1007">Monitoring blades</span></span>

<span data-ttu-id="0528b-1008">Les panneaux Monitoring offrent une expérience de résolution des erreurs différente des méthodes décrites précédemment dans la rubrique.</span><span class="sxs-lookup"><span data-stu-id="0528b-1008">Monitoring blades provide an alternative troubleshooting experience to the methods described earlier in the topic.</span></span> <span data-ttu-id="0528b-1009">Ils peuvent servir à diagnostiquer les erreurs de la série 500.</span><span class="sxs-lookup"><span data-stu-id="0528b-1009">These blades can be used to diagnose 500-series errors.</span></span>

<span data-ttu-id="0528b-1010">Vérifiez que les extensions ASP.NET Core sont installées.</span><span class="sxs-lookup"><span data-stu-id="0528b-1010">Confirm that the ASP.NET Core Extensions are installed.</span></span> <span data-ttu-id="0528b-1011">Si ce n’est pas le cas, installez-les manuellement :</span><span class="sxs-lookup"><span data-stu-id="0528b-1011">If the extensions aren't installed, install them manually:</span></span>

1. <span data-ttu-id="0528b-1012">Dans la section du panneau **OUTILS DE DÉVELOPPEMENT**, sélectionnez le panneau **Extensions**.</span><span class="sxs-lookup"><span data-stu-id="0528b-1012">In the **DEVELOPMENT TOOLS** blade section, select the **Extensions** blade.</span></span>
1. <span data-ttu-id="0528b-1013">Les **Extensions ASP.NET Core** devraient apparaître dans la liste.</span><span class="sxs-lookup"><span data-stu-id="0528b-1013">The **ASP.NET Core Extensions** should appear in the list.</span></span>
1. <span data-ttu-id="0528b-1014">Si les extensions ne sont pas installées, sélectionnez le bouton **Ajouter**.</span><span class="sxs-lookup"><span data-stu-id="0528b-1014">If the extensions aren't installed, select the **Add** button.</span></span>
1. <span data-ttu-id="0528b-1015">Choisissez les **Extensions ASP.NET Core** dans la liste.</span><span class="sxs-lookup"><span data-stu-id="0528b-1015">Choose the **ASP.NET Core Extensions** from the list.</span></span>
1. <span data-ttu-id="0528b-1016">Sélectionnez **OK** pour accepter les conditions légales.</span><span class="sxs-lookup"><span data-stu-id="0528b-1016">Select **OK** to accept the legal terms.</span></span>
1. <span data-ttu-id="0528b-1017">Sélectionnez **OK** sur le panneau **Ajouter une extension**.</span><span class="sxs-lookup"><span data-stu-id="0528b-1017">Select **OK** on the **Add extension** blade.</span></span>
1. <span data-ttu-id="0528b-1018">Un message contextuel d’information indique que les extensions sont bien installées.</span><span class="sxs-lookup"><span data-stu-id="0528b-1018">An informational pop-up message indicates when the extensions are successfully installed.</span></span>

<span data-ttu-id="0528b-1019">Si la journalisation stdout n’est pas activée, suivez les étapes ci-dessous :</span><span class="sxs-lookup"><span data-stu-id="0528b-1019">If stdout logging isn't enabled, follow these steps:</span></span>

1. <span data-ttu-id="0528b-1020">Sur le Portail Azure, sélectionnez le panneau **Outils avancés** dans la zone **OUTILS DE DÉVELOPPEMENT**.</span><span class="sxs-lookup"><span data-stu-id="0528b-1020">In the Azure portal, select the **Advanced Tools** blade in the **DEVELOPMENT TOOLS** area.</span></span> <span data-ttu-id="0528b-1021">Sélectionnez le bouton **Atteindre&rarr;** .</span><span class="sxs-lookup"><span data-stu-id="0528b-1021">Select the **Go&rarr;** button.</span></span> <span data-ttu-id="0528b-1022">La console Kudu s’ouvre dans un nouvel onglet ou une nouvelle fenêtre du navigateur.</span><span class="sxs-lookup"><span data-stu-id="0528b-1022">The Kudu console opens in a new browser tab or window.</span></span>
1. <span data-ttu-id="0528b-1023">Dans la barre de navigation en haut de la page, ouvrez **Console de débogage** et sélectionnez **CMD**.</span><span class="sxs-lookup"><span data-stu-id="0528b-1023">Using the navigation bar at the top of the page, open **Debug console** and select **CMD**.</span></span>
1. <span data-ttu-id="0528b-1024">Ouvrez les dossiers sur le **site** du chemin d’accès > **wwwroot** et faites défiler vers le bas pour afficher le fichier *Web. config* au bas de la liste.</span><span class="sxs-lookup"><span data-stu-id="0528b-1024">Open the folders to the path **site** > **wwwroot** and scroll down to reveal the *web.config* file at the bottom of the list.</span></span>
1. <span data-ttu-id="0528b-1025">Cliquez sur l’icône en forme de crayon à côté du fichier *web.config*.</span><span class="sxs-lookup"><span data-stu-id="0528b-1025">Click the pencil icon next to the *web.config* file.</span></span>
1. <span data-ttu-id="0528b-1026">Définissez **stdoutLogEnabled** sur `true` et remplacez le chemin **stdoutLogFile** par : `\\?\%home%\LogFiles\stdout`.</span><span class="sxs-lookup"><span data-stu-id="0528b-1026">Set **stdoutLogEnabled** to `true` and change the **stdoutLogFile** path to: `\\?\%home%\LogFiles\stdout`.</span></span>
1. <span data-ttu-id="0528b-1027">Sélectionnez **Enregistrer** pour enregistrer le fichier *web.config* mis à jour.</span><span class="sxs-lookup"><span data-stu-id="0528b-1027">Select **Save** to save the updated *web.config* file.</span></span>

<span data-ttu-id="0528b-1028">Maintenant, activez la journalisation des diagnostics :</span><span class="sxs-lookup"><span data-stu-id="0528b-1028">Proceed to activate diagnostic logging:</span></span>

1. <span data-ttu-id="0528b-1029">Sur le Portail Azure, sélectionnez le panneau **Journaux de diagnostic**.</span><span class="sxs-lookup"><span data-stu-id="0528b-1029">In the Azure portal, select the **Diagnostics logs** blade.</span></span>
1. <span data-ttu-id="0528b-1030">Basculez **Journalisation des applications (système de fichiers)** et **Messages d’erreur détaillés** sur **Activé**.</span><span class="sxs-lookup"><span data-stu-id="0528b-1030">Select the **On** switch for **Application Logging (Filesystem)** and **Detailed error messages**.</span></span> <span data-ttu-id="0528b-1031">Sélectionnez le bouton **Enregistrer** en haut du panneau.</span><span class="sxs-lookup"><span data-stu-id="0528b-1031">Select the **Save** button at the top of the blade.</span></span>
1. <span data-ttu-id="0528b-1032">Pour inclure le suivi des demandes ayant échoué, également appelé Mise en mémoire tampon des événements d’échec des demandes (FREB), basculez **Suivi des demandes ayant échoué** sur **Activé**.</span><span class="sxs-lookup"><span data-stu-id="0528b-1032">To include failed request tracing, also known as Failed Request Event Buffering (FREB) logging, select the **On** switch for **Failed request tracing**.</span></span>
1. <span data-ttu-id="0528b-1033">Sélectionnez le panneau **Flux du journal** situé juste sous le panneau **Journaux de diagnostic** sur le portail.</span><span class="sxs-lookup"><span data-stu-id="0528b-1033">Select the **Log stream** blade, which is listed immediately under the **Diagnostics logs** blade in the portal.</span></span>
1. <span data-ttu-id="0528b-1034">Adressez une demande à l’application.</span><span class="sxs-lookup"><span data-stu-id="0528b-1034">Make a request to the app.</span></span>
1. <span data-ttu-id="0528b-1035">La cause de l’erreur est indiquée dans les données de flux de journal.</span><span class="sxs-lookup"><span data-stu-id="0528b-1035">Within the log stream data, the cause of the error is indicated.</span></span>

<span data-ttu-id="0528b-1036">Veillez à désactiver la journalisation stdout une fois la résolution des problèmes effectuée.</span><span class="sxs-lookup"><span data-stu-id="0528b-1036">Be sure to disable stdout logging when troubleshooting is complete.</span></span>

<span data-ttu-id="0528b-1037">Pour afficher les journaux de suivi des demandes ayant échoué (journaux FREB) :</span><span class="sxs-lookup"><span data-stu-id="0528b-1037">To view the failed request tracing logs (FREB logs):</span></span>

1. <span data-ttu-id="0528b-1038">Accédez au panneau **Diagnostiquer et résoudre les problèmes** du Portail Azure.</span><span class="sxs-lookup"><span data-stu-id="0528b-1038">Navigate to the **Diagnose and solve problems** blade in the Azure portal.</span></span>
1. <span data-ttu-id="0528b-1039">Sélectionnez **Journaux de suivi des demandes ayant échoué** dans la zone **OUTILS DE PRISE EN CHARGE** de la barre latérale.</span><span class="sxs-lookup"><span data-stu-id="0528b-1039">Select **Failed Request Tracing Logs** from the **SUPPORT TOOLS** area of the sidebar.</span></span>

<span data-ttu-id="0528b-1040">Voir la [section Traces des demandes ayant échoué de la rubrique Activer la journalisation des diagnostics pour les applications web dans Azure App Service](/azure/app-service/web-sites-enable-diagnostic-log#failed-request-traces) et [FAQ sur les performances des applications web dans Azure : comment activer le suivi des demandes ayant échoué ?](/azure/app-service/app-service-web-availability-performance-application-issues-faq#how-do-i-turn-on-failed-request-tracing) pour plus d’informations.</span><span class="sxs-lookup"><span data-stu-id="0528b-1040">See [Failed request traces section of the Enable diagnostics logging for web apps in Azure App Service topic](/azure/app-service/web-sites-enable-diagnostic-log#failed-request-traces) and the [Application performance FAQs for Web Apps in Azure: How do I turn on failed request tracing?](/azure/app-service/app-service-web-availability-performance-application-issues-faq#how-do-i-turn-on-failed-request-tracing) for more information.</span></span>

<span data-ttu-id="0528b-1041">Pour plus d’informations, voir [Activer la journalisation des diagnostics pour les applications web dans Azure App Service](/azure/app-service/web-sites-enable-diagnostic-log).</span><span class="sxs-lookup"><span data-stu-id="0528b-1041">For more information, see [Enable diagnostics logging for web apps in Azure App Service](/azure/app-service/web-sites-enable-diagnostic-log).</span></span>

> [!WARNING]
> <span data-ttu-id="0528b-1042">Si vous ne désactivez pas le journal stdout, l’application ou le serveur risque d’échouer.</span><span class="sxs-lookup"><span data-stu-id="0528b-1042">Failure to disable the stdout log can lead to app or server failure.</span></span> <span data-ttu-id="0528b-1043">Il n’existe aucune limite quant à la taille du fichier journal ou au nombre de fichiers journaux créés.</span><span class="sxs-lookup"><span data-stu-id="0528b-1043">There's no limit on log file size or the number of log files created.</span></span>
>
> <span data-ttu-id="0528b-1044">Pour journaliser la routine d’une application ASP.NET Core, utilisez une bibliothèque de journalisation qui limite la taille du fichier journal et appliquez une rotation aux journaux.</span><span class="sxs-lookup"><span data-stu-id="0528b-1044">For routine logging in an ASP.NET Core app, use a logging library that limits log file size and rotates logs.</span></span> <span data-ttu-id="0528b-1045">Pour plus d’informations, voir [Fournisseurs de journalisation tiers](xref:fundamentals/logging/index#third-party-logging-providers).</span><span class="sxs-lookup"><span data-stu-id="0528b-1045">For more information, see [third-party logging providers](xref:fundamentals/logging/index#third-party-logging-providers).</span></span>

## <a name="troubleshoot-on-iis"></a><span data-ttu-id="0528b-1046">Résoudre les problèmes sur IIS</span><span class="sxs-lookup"><span data-stu-id="0528b-1046">Troubleshoot on IIS</span></span>

### <a name="application-event-log-iis"></a><span data-ttu-id="0528b-1047">Journal des événements d’application (IIS)</span><span class="sxs-lookup"><span data-stu-id="0528b-1047">Application Event Log (IIS)</span></span>

<span data-ttu-id="0528b-1048">Accédez au Journal des événements de l’application :</span><span class="sxs-lookup"><span data-stu-id="0528b-1048">Access the Application Event Log:</span></span>

1. <span data-ttu-id="0528b-1049">Ouvrez le menu Démarrer, recherchez *Observateur d’événements*, puis sélectionnez l’application **Observateur d’événements** .</span><span class="sxs-lookup"><span data-stu-id="0528b-1049">Open the Start menu, search for *Event Viewer*, and select the **Event Viewer** app.</span></span>
1. <span data-ttu-id="0528b-1050">Dans **Observateur d’événements**, ouvrez le nœud **Journaux Windows**.</span><span class="sxs-lookup"><span data-stu-id="0528b-1050">In **Event Viewer**, open the **Windows Logs** node.</span></span>
1. <span data-ttu-id="0528b-1051">Sélectionnez **Application** pour ouvrir le Journal des événements de l’application.</span><span class="sxs-lookup"><span data-stu-id="0528b-1051">Select **Application** to open the Application Event Log.</span></span>
1. <span data-ttu-id="0528b-1052">Recherchez les erreurs liées à l’application défectueuse.</span><span class="sxs-lookup"><span data-stu-id="0528b-1052">Search for errors associated with the failing app.</span></span> <span data-ttu-id="0528b-1053">Les erreurs sont signalées par une valeur *IIS AspNetCore Module* (Module AspNetCore IIS) ou *IIS Express AspNetCore Module* (Module AspNetCore IIS Express) dans la colonne *Source*.</span><span class="sxs-lookup"><span data-stu-id="0528b-1053">Errors have a value of *IIS AspNetCore Module* or *IIS Express AspNetCore Module* in the *Source* column.</span></span>

### <a name="run-the-app-at-a-command-prompt"></a><span data-ttu-id="0528b-1054">Exécuter l’application depuis une invite de commandes</span><span class="sxs-lookup"><span data-stu-id="0528b-1054">Run the app at a command prompt</span></span>

<span data-ttu-id="0528b-1055">De nombreuses erreurs de démarrage ne produisent pas d’informations utiles dans le Journal des événements de l’application.</span><span class="sxs-lookup"><span data-stu-id="0528b-1055">Many startup errors don't produce useful information in the Application Event Log.</span></span> <span data-ttu-id="0528b-1056">Vous pouvez trouver la cause de certaines erreurs en exécutant l’application depuis une invite de commandes sur le système hôte.</span><span class="sxs-lookup"><span data-stu-id="0528b-1056">You can find the cause of some errors by running the app at a command prompt on the hosting system.</span></span>

#### <a name="framework-dependent-deployment"></a><span data-ttu-id="0528b-1057">Déploiement dépendant du framework</span><span class="sxs-lookup"><span data-stu-id="0528b-1057">Framework-dependent deployment</span></span>

<span data-ttu-id="0528b-1058">Si l’application est un [déploiement dépendant du framework](/dotnet/core/deploying/#framework-dependent-deployments-fdd) :</span><span class="sxs-lookup"><span data-stu-id="0528b-1058">If the app is a [framework-dependent deployment](/dotnet/core/deploying/#framework-dependent-deployments-fdd):</span></span>

1. <span data-ttu-id="0528b-1059">Depuis une invite de commandes, accédez au dossier de déploiement et exécutez l’application en exécutant l’assembly de l’application avec *dotnet.exe*.</span><span class="sxs-lookup"><span data-stu-id="0528b-1059">At a command prompt, navigate to the deployment folder and run the app by executing the app's assembly with *dotnet.exe*.</span></span> <span data-ttu-id="0528b-1060">Dans la commande suivante, substituez le nom de l’assembly de l’application à \<assembly_name>: `dotnet .\<assembly_name>.dll`.</span><span class="sxs-lookup"><span data-stu-id="0528b-1060">In the following command, substitute the name of the app's assembly for \<assembly_name>: `dotnet .\<assembly_name>.dll`.</span></span>
1. <span data-ttu-id="0528b-1061">La sortie de console de l’application est écrite dans la fenêtre de console, affichant toutes les erreurs éventuelles.</span><span class="sxs-lookup"><span data-stu-id="0528b-1061">The console output from the app, showing any errors, is written to the console window.</span></span>
1. <span data-ttu-id="0528b-1062">Si les erreurs se produisent pendant qu’une requête est adressée à l’application, effectuez une requête en direction de l’hôte et du port sur lequel Kestrel écoute.</span><span class="sxs-lookup"><span data-stu-id="0528b-1062">If the errors occur when making a request to the app, make a request to the host and port where Kestrel listens.</span></span> <span data-ttu-id="0528b-1063">À l’aide de l’hôte et du port par défaut, faites une requête en direction de `http://localhost:5000/`.</span><span class="sxs-lookup"><span data-stu-id="0528b-1063">Using the default host and post, make a request to `http://localhost:5000/`.</span></span> <span data-ttu-id="0528b-1064">Si l’application répond normalement à l’adresse de point de terminaison Kestrel, le problème est probablement lié à la configuration de l’hébergement plutôt qu’à l’application.</span><span class="sxs-lookup"><span data-stu-id="0528b-1064">If the app responds normally at the Kestrel endpoint address, the problem is more likely related to the hosting configuration and less likely within the app.</span></span>

#### <a name="self-contained-deployment"></a><span data-ttu-id="0528b-1065">Déploiement autonome</span><span class="sxs-lookup"><span data-stu-id="0528b-1065">Self-contained deployment</span></span>

<span data-ttu-id="0528b-1066">Si l’application est un [déploiement autonome](/dotnet/core/deploying/#self-contained-deployments-scd) :</span><span class="sxs-lookup"><span data-stu-id="0528b-1066">If the app is a [self-contained deployment](/dotnet/core/deploying/#self-contained-deployments-scd):</span></span>

1. <span data-ttu-id="0528b-1067">Depuis une invite de commandes, accédez au dossier de déploiement et exécutez l’exécutable de l’application.</span><span class="sxs-lookup"><span data-stu-id="0528b-1067">At a command prompt, navigate to the deployment folder and run the app's executable.</span></span> <span data-ttu-id="0528b-1068">Dans la commande suivante, substituez le nom de l’assembly de l’application à \<assembly_name>: `<assembly_name>.exe`.</span><span class="sxs-lookup"><span data-stu-id="0528b-1068">In the following command, substitute the name of the app's assembly for \<assembly_name>: `<assembly_name>.exe`.</span></span>
1. <span data-ttu-id="0528b-1069">La sortie de console de l’application est écrite dans la fenêtre de console, affichant toutes les erreurs éventuelles.</span><span class="sxs-lookup"><span data-stu-id="0528b-1069">The console output from the app, showing any errors, is written to the console window.</span></span>
1. <span data-ttu-id="0528b-1070">Si les erreurs se produisent pendant qu’une requête est adressée à l’application, effectuez une requête en direction de l’hôte et du port sur lequel Kestrel écoute.</span><span class="sxs-lookup"><span data-stu-id="0528b-1070">If the errors occur when making a request to the app, make a request to the host and port where Kestrel listens.</span></span> <span data-ttu-id="0528b-1071">À l’aide de l’hôte et du port par défaut, faites une requête en direction de `http://localhost:5000/`.</span><span class="sxs-lookup"><span data-stu-id="0528b-1071">Using the default host and post, make a request to `http://localhost:5000/`.</span></span> <span data-ttu-id="0528b-1072">Si l’application répond normalement à l’adresse de point de terminaison Kestrel, le problème est probablement lié à la configuration de l’hébergement plutôt qu’à l’application.</span><span class="sxs-lookup"><span data-stu-id="0528b-1072">If the app responds normally at the Kestrel endpoint address, the problem is more likely related to the hosting configuration and less likely within the app.</span></span>

### <a name="aspnet-core-module-stdout-log-iis"></a><span data-ttu-id="0528b-1073">Journal stdout du module ASP.NET Core (IIS)</span><span class="sxs-lookup"><span data-stu-id="0528b-1073">ASP.NET Core Module stdout log (IIS)</span></span>

<span data-ttu-id="0528b-1074">Pour activer et afficher les journaux stdout :</span><span class="sxs-lookup"><span data-stu-id="0528b-1074">To enable and view stdout logs:</span></span>

1. <span data-ttu-id="0528b-1075">Accédez au dossier de déploiement du site sur le système hôte.</span><span class="sxs-lookup"><span data-stu-id="0528b-1075">Navigate to the site's deployment folder on the hosting system.</span></span>
1. <span data-ttu-id="0528b-1076">Si le dossier *logs* n’est pas présent, créez-le.</span><span class="sxs-lookup"><span data-stu-id="0528b-1076">If the *logs* folder isn't present, create the folder.</span></span> <span data-ttu-id="0528b-1077">Pour obtenir des instructions sur l’activation de MSBuild et créer le dossier *logs* dans le déploiement automatiquement, consultez la rubrique [Structure des répertoires](xref:host-and-deploy/directory-structure).</span><span class="sxs-lookup"><span data-stu-id="0528b-1077">For instructions on how to enable MSBuild to create the *logs* folder in the deployment automatically, see the [Directory structure](xref:host-and-deploy/directory-structure) topic.</span></span>
1. <span data-ttu-id="0528b-1078">Modifiez le fichier *web.config*.</span><span class="sxs-lookup"><span data-stu-id="0528b-1078">Edit the *web.config* file.</span></span> <span data-ttu-id="0528b-1079">Définissez **stdoutLogEnabled** sur `true` et faites pointer le chemin **stdoutLogFile** vers le dossier *logs* (par exemple, `.\logs\stdout`).</span><span class="sxs-lookup"><span data-stu-id="0528b-1079">Set **stdoutLogEnabled** to `true` and change the **stdoutLogFile** path to point to the *logs* folder (for example, `.\logs\stdout`).</span></span> <span data-ttu-id="0528b-1080">Dans le chemin, `stdout` est le préfixe du nom du fichier journal.</span><span class="sxs-lookup"><span data-stu-id="0528b-1080">`stdout` in the path is the log file name prefix.</span></span> <span data-ttu-id="0528b-1081">Un horodatage, un ID de processus et une extension de fichier sont ajoutés automatiquement quand le journal est créé.</span><span class="sxs-lookup"><span data-stu-id="0528b-1081">A timestamp, process id, and file extension are added automatically when the log is created.</span></span> <span data-ttu-id="0528b-1082">Si `stdout` est utilisé comme préfixe du nom de fichier, un fichier journal classique porte le nom *stdout_20180205184032_5412.log*.</span><span class="sxs-lookup"><span data-stu-id="0528b-1082">Using `stdout` as the file name prefix, a typical log file is named *stdout_20180205184032_5412.log*.</span></span>
1. <span data-ttu-id="0528b-1083">Vérifiez que l’identité de votre pool d’applications dispose des autorisations d’écriture sur le dossier *logs*.</span><span class="sxs-lookup"><span data-stu-id="0528b-1083">Ensure your application pool's identity has write permissions to the *logs* folder.</span></span>
1. <span data-ttu-id="0528b-1084">Enregistrez le fichier *web.config* mis à jour.</span><span class="sxs-lookup"><span data-stu-id="0528b-1084">Save the updated *web.config* file.</span></span>
1. <span data-ttu-id="0528b-1085">Adressez une demande à l’application.</span><span class="sxs-lookup"><span data-stu-id="0528b-1085">Make a request to the app.</span></span>
1. <span data-ttu-id="0528b-1086">Accédez au dossier *logs*.</span><span class="sxs-lookup"><span data-stu-id="0528b-1086">Navigate to the *logs* folder.</span></span> <span data-ttu-id="0528b-1087">Recherchez et ouvrez le journal stdout le plus récent.</span><span class="sxs-lookup"><span data-stu-id="0528b-1087">Find and open the most recent stdout log.</span></span>
1. <span data-ttu-id="0528b-1088">Déterminez si le journal contient des erreurs.</span><span class="sxs-lookup"><span data-stu-id="0528b-1088">Study the log for errors.</span></span>

<span data-ttu-id="0528b-1089">Désactivez la journalisation stdout, une fois les problèmes résolus :</span><span class="sxs-lookup"><span data-stu-id="0528b-1089">Disable stdout logging when troubleshooting is complete:</span></span>

1. <span data-ttu-id="0528b-1090">Modifiez le fichier *web.config*.</span><span class="sxs-lookup"><span data-stu-id="0528b-1090">Edit the *web.config* file.</span></span>
1. <span data-ttu-id="0528b-1091">Définissez **stdoutLogEnabled** sur `false`.</span><span class="sxs-lookup"><span data-stu-id="0528b-1091">Set **stdoutLogEnabled** to `false`.</span></span>
1. <span data-ttu-id="0528b-1092">Enregistrez le fichier .</span><span class="sxs-lookup"><span data-stu-id="0528b-1092">Save the file.</span></span>

<span data-ttu-id="0528b-1093">Pour plus d’informations, consultez <xref:host-and-deploy/aspnet-core-module#log-creation-and-redirection>.</span><span class="sxs-lookup"><span data-stu-id="0528b-1093">For more information, see <xref:host-and-deploy/aspnet-core-module#log-creation-and-redirection>.</span></span>

> [!WARNING]
> <span data-ttu-id="0528b-1094">Si vous ne désactivez pas le journal stdout, l’application ou le serveur risque d’échouer.</span><span class="sxs-lookup"><span data-stu-id="0528b-1094">Failure to disable the stdout log can lead to app or server failure.</span></span> <span data-ttu-id="0528b-1095">Il n’existe aucune limite quant à la taille du fichier journal ou au nombre de fichiers journaux créés.</span><span class="sxs-lookup"><span data-stu-id="0528b-1095">There's no limit on log file size or the number of log files created.</span></span>
>
> <span data-ttu-id="0528b-1096">Pour journaliser la routine d’une application ASP.NET Core, utilisez une bibliothèque de journalisation qui limite la taille du fichier journal et appliquez une rotation aux journaux.</span><span class="sxs-lookup"><span data-stu-id="0528b-1096">For routine logging in an ASP.NET Core app, use a logging library that limits log file size and rotates logs.</span></span> <span data-ttu-id="0528b-1097">Pour plus d’informations, voir [Fournisseurs de journalisation tiers](xref:fundamentals/logging/index#third-party-logging-providers).</span><span class="sxs-lookup"><span data-stu-id="0528b-1097">For more information, see [third-party logging providers](xref:fundamentals/logging/index#third-party-logging-providers).</span></span>

### <a name="enable-the-developer-exception-page"></a><span data-ttu-id="0528b-1098">Afficher la page d’exception de développeur</span><span class="sxs-lookup"><span data-stu-id="0528b-1098">Enable the Developer Exception Page</span></span>

<span data-ttu-id="0528b-1099">La [variable d’environnement `ASPNETCORE_ENVIRONMENT` peut être ajoutée à Web. config](xref:host-and-deploy/aspnet-core-module#setting-environment-variables) pour exécuter l’application dans l’environnement de développement.</span><span class="sxs-lookup"><span data-stu-id="0528b-1099">The `ASPNETCORE_ENVIRONMENT` [environment variable can be added to web.config](xref:host-and-deploy/aspnet-core-module#setting-environment-variables) to run the app in the Development environment.</span></span> <span data-ttu-id="0528b-1100">Tant que l’environnement n’est pas substitué dans le démarrage de l’application par `UseEnvironment` sur le générateur de l’hôte, la définition de la variable d’environnement permet à la [page d’exception de développeur](xref:fundamentals/error-handling) d’apparaître quand l’application est exécutée.</span><span class="sxs-lookup"><span data-stu-id="0528b-1100">As long as the environment isn't overridden in app startup by `UseEnvironment` on the host builder, setting the environment variable allows the [Developer Exception Page](xref:fundamentals/error-handling) to appear when the app is run.</span></span>

```xml
<aspNetCore processPath="dotnet"
      arguments=".\MyApp.dll"
      stdoutLogEnabled="false"
      stdoutLogFile=".\logs\stdout">
  <environmentVariables>
    <environmentVariable name="ASPNETCORE_ENVIRONMENT" value="Development" />
  </environmentVariables>
</aspNetCore>
```

<span data-ttu-id="0528b-1101">La définition de la variable d’environnement `ASPNETCORE_ENVIRONMENT` est recommandée uniquement en vue d’une utilisation sur les serveurs de préproduction et de test qui ne sont pas exposés à Internet.</span><span class="sxs-lookup"><span data-stu-id="0528b-1101">Setting the environment variable for `ASPNETCORE_ENVIRONMENT` is only recommended for use on staging and testing servers that aren't exposed to the Internet.</span></span> <span data-ttu-id="0528b-1102">Supprimez la variable d’environnement du fichier *web.config* une fois la résolution des problèmes effectuée.</span><span class="sxs-lookup"><span data-stu-id="0528b-1102">Remove the environment variable from the *web.config* file after troubleshooting.</span></span> <span data-ttu-id="0528b-1103">Pour plus d’informations sur la définition des variables d’environnement dans *web.config*, consultez la section sur [l’élément enfant environmentVariables d’aspNetCore](xref:host-and-deploy/aspnet-core-module#setting-environment-variables).</span><span class="sxs-lookup"><span data-stu-id="0528b-1103">For information on setting environment variables in *web.config*, see [environmentVariables child element of aspNetCore](xref:host-and-deploy/aspnet-core-module#setting-environment-variables).</span></span>

### <a name="obtain-data-from-an-app"></a><span data-ttu-id="0528b-1104">Obtenir des données à partir d’une application</span><span class="sxs-lookup"><span data-stu-id="0528b-1104">Obtain data from an app</span></span>

<span data-ttu-id="0528b-1105">Si une application est capable de répondre aux requêtes, obtenez des informations sur une requête, une connexion et d’autres informations supplémentaires à partir d’une application à l’aide de l’intergiciel en ligne terminal.</span><span class="sxs-lookup"><span data-stu-id="0528b-1105">If an app is capable of responding to requests, obtain request, connection, and additional data from the app using terminal inline middleware.</span></span> <span data-ttu-id="0528b-1106">Pour obtenir des informations supplémentaires ainsi qu'un code d'exemple, consultez <xref:test/troubleshoot#obtain-data-from-an-app>.</span><span class="sxs-lookup"><span data-stu-id="0528b-1106">For more information and sample code, see <xref:test/troubleshoot#obtain-data-from-an-app>.</span></span>

### <a name="slow-or-hanging-app-iis"></a><span data-ttu-id="0528b-1107">Application lente ou bloquée (IIS)</span><span class="sxs-lookup"><span data-stu-id="0528b-1107">Slow or hanging app (IIS)</span></span>

<span data-ttu-id="0528b-1108">Un *vidage sur incident* est un instantané de la mémoire du système et peut aider à déterminer la cause d’un incident d’application, d’un échec de démarrage ou d’une application lente.</span><span class="sxs-lookup"><span data-stu-id="0528b-1108">A *crash dump* is a snapshot of the system's memory and can help determine the cause of an app crash, startup failure, or slow app.</span></span>

#### <a name="app-crashes-or-encounters-an-exception"></a><span data-ttu-id="0528b-1109">L’application cesse de fonctionner ou rencontre une exception</span><span class="sxs-lookup"><span data-stu-id="0528b-1109">App crashes or encounters an exception</span></span>

<span data-ttu-id="0528b-1110">Obtenez un fichier dump et analysez-le depuis le [Rapport d'erreurs Windows](/windows/desktop/wer/windows-error-reporting) :</span><span class="sxs-lookup"><span data-stu-id="0528b-1110">Obtain and analyze a dump from [Windows Error Reporting (WER)](/windows/desktop/wer/windows-error-reporting):</span></span>

1. <span data-ttu-id="0528b-1111">Créez un dossier pour accueillir les fichiers d’image mémoire dans `c:\dumps`.</span><span class="sxs-lookup"><span data-stu-id="0528b-1111">Create a folder to hold crash dump files at `c:\dumps`.</span></span> <span data-ttu-id="0528b-1112">Le pool d’application doit disposer des accès d’écriture dans le dossier.</span><span class="sxs-lookup"><span data-stu-id="0528b-1112">The app pool must have write access to the folder.</span></span>
1. <span data-ttu-id="0528b-1113">Exécutez le [script PowerShell EnableDumps](https://github.com/dotnet/AspNetCore.Docs/blob/master/aspnetcore/test/troubleshoot-azure-iis/scripts/EnableDumps.ps1) :</span><span class="sxs-lookup"><span data-stu-id="0528b-1113">Run the [EnableDumps PowerShell script](https://github.com/dotnet/AspNetCore.Docs/blob/master/aspnetcore/test/troubleshoot-azure-iis/scripts/EnableDumps.ps1):</span></span>
   * <span data-ttu-id="0528b-1114">Si l’application utilise le [modèle d’hébergement in-process](xref:host-and-deploy/iis/index#in-process-hosting-model), exécutez le script pour *w3wp.exe* :</span><span class="sxs-lookup"><span data-stu-id="0528b-1114">If the app uses the [in-process hosting model](xref:host-and-deploy/iis/index#in-process-hosting-model), run the script for *w3wp.exe*:</span></span>

     ```console
     .\EnableDumps w3wp.exe c:\dumps
     ```

   * <span data-ttu-id="0528b-1115">Si l’application utilise le [modèle d’hébergement out-of-process](xref:host-and-deploy/iis/index#out-of-process-hosting-model), exécutez le script pour *dotnet.exe* :</span><span class="sxs-lookup"><span data-stu-id="0528b-1115">If the app uses the [out-of-process hosting model](xref:host-and-deploy/iis/index#out-of-process-hosting-model), run the script for *dotnet.exe*:</span></span>

     ```console
     .\EnableDumps dotnet.exe c:\dumps
     ```

1. <span data-ttu-id="0528b-1116">Exécutez l’application en reproduisant les conditions ayant entraîné l’incident.</span><span class="sxs-lookup"><span data-stu-id="0528b-1116">Run the app under the conditions that cause the crash to occur.</span></span>
1. <span data-ttu-id="0528b-1117">Une fois l’incident survenu, exécutez le [script PowerShell DisableDumps](https://github.com/dotnet/AspNetCore.Docs/blob/master/aspnetcore/test/troubleshoot-azure-iis/scripts/DisableDumps.ps1) :</span><span class="sxs-lookup"><span data-stu-id="0528b-1117">After the crash has occurred, run the [DisableDumps PowerShell script](https://github.com/dotnet/AspNetCore.Docs/blob/master/aspnetcore/test/troubleshoot-azure-iis/scripts/DisableDumps.ps1):</span></span>
   * <span data-ttu-id="0528b-1118">Si l’application utilise le [modèle d’hébergement in-process](xref:host-and-deploy/iis/index#in-process-hosting-model), exécutez le script pour *w3wp.exe* :</span><span class="sxs-lookup"><span data-stu-id="0528b-1118">If the app uses the [in-process hosting model](xref:host-and-deploy/iis/index#in-process-hosting-model), run the script for *w3wp.exe*:</span></span>

     ```console
     .\DisableDumps w3wp.exe
     ```

   * <span data-ttu-id="0528b-1119">Si l’application utilise le [modèle d’hébergement out-of-process](xref:host-and-deploy/iis/index#out-of-process-hosting-model), exécutez le script pour *dotnet.exe* :</span><span class="sxs-lookup"><span data-stu-id="0528b-1119">If the app uses the [out-of-process hosting model](xref:host-and-deploy/iis/index#out-of-process-hosting-model), run the script for *dotnet.exe*:</span></span>

     ```console
     .\DisableDumps dotnet.exe
     ```

<span data-ttu-id="0528b-1120">Après l’arrêt de l’application et après avoir terminé la collection dump, l’application peut être fermée normalement.</span><span class="sxs-lookup"><span data-stu-id="0528b-1120">After an app crashes and dump collection is complete, the app is allowed to terminate normally.</span></span> <span data-ttu-id="0528b-1121">Le script PowerShell configure le rapport d’erreurs Windows pour collecter jusqu'à cinq fichiers dump par application.</span><span class="sxs-lookup"><span data-stu-id="0528b-1121">The PowerShell script configures WER to collect up to five dumps per app.</span></span>

> [!WARNING]
> <span data-ttu-id="0528b-1122">Les fichiers dump d’incident peuvent occuper plus d’espace disque (jusqu’à plusieurs gigaoctets par fichier).</span><span class="sxs-lookup"><span data-stu-id="0528b-1122">Crash dumps might take up a large amount of disk space (up to several gigabytes each).</span></span>

#### <a name="app-hangs-fails-during-startup-or-runs-normally"></a><span data-ttu-id="0528b-1123">L’application se bloque, ne démarre pas ou s’exécute normalement</span><span class="sxs-lookup"><span data-stu-id="0528b-1123">App hangs, fails during startup, or runs normally</span></span>

<span data-ttu-id="0528b-1124">Quand une application *se bloque* (cesse de répondre mais ne se bloque pas), échoue pendant le démarrage ou s’exécute normalement, consultez [fichiers de vidage en mode utilisateur : choix de l’outil le mieux](/windows-hardware/drivers/debugger/user-mode-dump-files#choosing-the-best-tool) adapté pour sélectionner un outil approprié pour produire le vidage.</span><span class="sxs-lookup"><span data-stu-id="0528b-1124">When an app *hangs* (stops responding but doesn't crash), fails during startup, or runs normally, see [User-Mode Dump Files: Choosing the Best Tool](/windows-hardware/drivers/debugger/user-mode-dump-files#choosing-the-best-tool) to select an appropriate tool to produce the dump.</span></span>

#### <a name="analyze-the-dump"></a><span data-ttu-id="0528b-1125">Analyser le fichier dump</span><span class="sxs-lookup"><span data-stu-id="0528b-1125">Analyze the dump</span></span>

<span data-ttu-id="0528b-1126">Un fichier dump peut être analysé à l’aide de plusieurs approches.</span><span class="sxs-lookup"><span data-stu-id="0528b-1126">A dump can be analyzed using several approaches.</span></span> <span data-ttu-id="0528b-1127">Pour plus d’informations, consultez [Analyzing a User-Mode Dump File](/windows-hardware/drivers/debugger/analyzing-a-user-mode-dump-file) (Analyser un fichier dump en mode utilisateur).</span><span class="sxs-lookup"><span data-stu-id="0528b-1127">For more information, see [Analyzing a User-Mode Dump File](/windows-hardware/drivers/debugger/analyzing-a-user-mode-dump-file).</span></span>

## <a name="clear-package-caches"></a><span data-ttu-id="0528b-1128">Effacer les caches de package</span><span class="sxs-lookup"><span data-stu-id="0528b-1128">Clear package caches</span></span>

<span data-ttu-id="0528b-1129">Une application fonctionnelle peut échouer immédiatement après la mise à niveau de la kit SDK .NET Core sur l’ordinateur de développement ou la modification des versions de package dans l’application.</span><span class="sxs-lookup"><span data-stu-id="0528b-1129">A functioning app may fail immediately after upgrading either the .NET Core SDK on the development machine or changing package versions within the app.</span></span> <span data-ttu-id="0528b-1130">Dans certains cas, les packages incohérents peuvent bloquer une application quand vous effectuez des mises à niveau majeures.</span><span class="sxs-lookup"><span data-stu-id="0528b-1130">In some cases, incoherent packages may break an app when performing major upgrades.</span></span> <span data-ttu-id="0528b-1131">Vous pouvez résoudre la plupart de ces problèmes en suivant les instructions suivantes :</span><span class="sxs-lookup"><span data-stu-id="0528b-1131">Most of these issues can be fixed by following these instructions:</span></span>

1. <span data-ttu-id="0528b-1132">Supprimez les dossiers *bin* et *obj*.</span><span class="sxs-lookup"><span data-stu-id="0528b-1132">Delete the *bin* and *obj* folders.</span></span>
1. <span data-ttu-id="0528b-1133">Effacez les caches de package en exécutant [dotnet NuGet LOCALS tout--Clear](/dotnet/core/tools/dotnet-nuget-locals) dans une interface de commande.</span><span class="sxs-lookup"><span data-stu-id="0528b-1133">Clear the package caches by executing [dotnet nuget locals all --clear](/dotnet/core/tools/dotnet-nuget-locals) from a command shell.</span></span>

   <span data-ttu-id="0528b-1134">L’effacement des caches de package peut également être effectué à l’aide de l’outil [NuGet. exe](https://www.nuget.org/downloads) et en exécutant la commande `nuget locals all -clear`.</span><span class="sxs-lookup"><span data-stu-id="0528b-1134">Clearing package caches can also be accomplished with the [nuget.exe](https://www.nuget.org/downloads) tool and executing the command `nuget locals all -clear`.</span></span> <span data-ttu-id="0528b-1135">*NuGet.exe* n’étant pas une installation fournie avec le système d’exploitation de bureau Windows, il doit être obtenu séparément à partir du [site web de NuGet](https://www.nuget.org/downloads).</span><span class="sxs-lookup"><span data-stu-id="0528b-1135">*nuget.exe* isn't a bundled install with the Windows desktop operating system and must be obtained separately from the [NuGet website](https://www.nuget.org/downloads).</span></span>

1. <span data-ttu-id="0528b-1136">Restaurez et regénérez le projet.</span><span class="sxs-lookup"><span data-stu-id="0528b-1136">Restore and rebuild the project.</span></span>
1. <span data-ttu-id="0528b-1137">Supprimez tous les fichiers du dossier de déploiement sur le serveur avant de redéployer l’application.</span><span class="sxs-lookup"><span data-stu-id="0528b-1137">Delete all of the files in the deployment folder on the server prior to redeploying the app.</span></span>

## <a name="additional-resources"></a><span data-ttu-id="0528b-1138">Ressources supplémentaires</span><span class="sxs-lookup"><span data-stu-id="0528b-1138">Additional resources</span></span>

* <xref:test/troubleshoot>
* <xref:host-and-deploy/azure-iis-errors-reference>
* <xref:fundamentals/error-handling>
* <xref:host-and-deploy/aspnet-core-module>

### <a name="azure-documentation"></a><span data-ttu-id="0528b-1139">Documentation Azure</span><span class="sxs-lookup"><span data-stu-id="0528b-1139">Azure documentation</span></span>

* [<span data-ttu-id="0528b-1140">Application Insights pour ASP.NET Core</span><span class="sxs-lookup"><span data-stu-id="0528b-1140">Application Insights for ASP.NET Core</span></span>](/azure/application-insights/app-insights-asp-net-core)
* [<span data-ttu-id="0528b-1141">Section débogage à distance des applications Web de dépanner une application Web dans Azure App Service à l’aide de Visual Studio</span><span class="sxs-lookup"><span data-stu-id="0528b-1141">Remote debugging web apps section of Troubleshoot a web app in Azure App Service using Visual Studio</span></span>](/azure/app-service/web-sites-dotnet-troubleshoot-visual-studio#remotedebug)
* [<span data-ttu-id="0528b-1142">Vue d’ensemble des diagnostics Azure App Service</span><span class="sxs-lookup"><span data-stu-id="0528b-1142">Azure App Service diagnostics overview</span></span>](/azure/app-service/app-service-diagnostics)
* [<span data-ttu-id="0528b-1143">Surveillance des applications dans Azure App Service</span><span class="sxs-lookup"><span data-stu-id="0528b-1143">How to: Monitor Apps in Azure App Service</span></span>](/azure/app-service/web-sites-monitor)
* [<span data-ttu-id="0528b-1144">Résoudre les problèmes d’une application web dans Azure App Service avec Visual Studio</span><span class="sxs-lookup"><span data-stu-id="0528b-1144">Troubleshoot a web app in Azure App Service using Visual Studio</span></span>](/azure/app-service/web-sites-dotnet-troubleshoot-visual-studio)
* [<span data-ttu-id="0528b-1145">Résoudre les erreurs HTTP « 502 Passerelle incorrecte » et « 503 Service non disponible » dans des applications web Azure</span><span class="sxs-lookup"><span data-stu-id="0528b-1145">Troubleshoot HTTP errors of "502 bad gateway" and "503 service unavailable" in your Azure web apps</span></span>](/azure/app-service/app-service-web-troubleshoot-http-502-http-503)
* [<span data-ttu-id="0528b-1146">Résoudre les problèmes de baisse de performances d’une application web dans Azure App Service</span><span class="sxs-lookup"><span data-stu-id="0528b-1146">Troubleshoot slow web app performance issues in Azure App Service</span></span>](/azure/app-service/app-service-web-troubleshoot-performance-degradation)
* [<span data-ttu-id="0528b-1147">FAQ sur les performances des applications web dans Azure</span><span class="sxs-lookup"><span data-stu-id="0528b-1147">Application performance FAQs for Web Apps in Azure</span></span>](/azure/app-service/app-service-web-availability-performance-application-issues-faq)
* [<span data-ttu-id="0528b-1148">Bac à sable des applications web Azure (limitations de l’exécution du runtime App Service)</span><span class="sxs-lookup"><span data-stu-id="0528b-1148">Azure Web App sandbox (App Service runtime execution limitations)</span></span>](https://github.com/projectkudu/kudu/wiki/Azure-Web-App-sandbox)
* [<span data-ttu-id="0528b-1149">Azure Friday: Azure App Service Diagnostic and Troubleshooting Experience (12-minute video)</span><span class="sxs-lookup"><span data-stu-id="0528b-1149">Azure Friday: Azure App Service Diagnostic and Troubleshooting Experience (12-minute video)</span></span>](https://channel9.msdn.com/Shows/Azure-Friday/Azure-App-Service-Diagnostic-and-Troubleshooting-Experience)

### <a name="visual-studio-documentation"></a><span data-ttu-id="0528b-1150">Documentation de Visual Studio</span><span class="sxs-lookup"><span data-stu-id="0528b-1150">Visual Studio documentation</span></span>

* [<span data-ttu-id="0528b-1151">Débogage à distance ASP.NET Core sur IIS dans Azure dans Visual Studio 2017</span><span class="sxs-lookup"><span data-stu-id="0528b-1151">Remote Debug ASP.NET Core on IIS in Azure in Visual Studio 2017</span></span>](/visualstudio/debugger/remote-debugging-azure)
* [<span data-ttu-id="0528b-1152">Débogage à distance ASP.NET Core sur un ordinateur IIS distant dans Visual Studio 2017</span><span class="sxs-lookup"><span data-stu-id="0528b-1152">Remote Debug ASP.NET Core on a Remote IIS Computer in Visual Studio 2017</span></span>](/visualstudio/debugger/remote-debugging-aspnet-on-a-remote-iis-computer)
* [<span data-ttu-id="0528b-1153">Apprendre à déboguer avec Visual Studio</span><span class="sxs-lookup"><span data-stu-id="0528b-1153">Learn to debug using Visual Studio</span></span>](/visualstudio/debugger/getting-started-with-the-debugger)

### <a name="visual-studio-code-documentation"></a><span data-ttu-id="0528b-1154">Documentation Visual Studio Code</span><span class="sxs-lookup"><span data-stu-id="0528b-1154">Visual Studio Code documentation</span></span>

* [<span data-ttu-id="0528b-1155">Débogage avec Visual Studio Code</span><span class="sxs-lookup"><span data-stu-id="0528b-1155">Debugging with Visual Studio Code</span></span>](https://code.visualstudio.com/docs/editor/debugging)

::: moniker-end
